<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="next" title="放弃对旧版 Python 的支持" href="dropping-older-python-versions.html" /><link rel="prev" title="编写你的 pyproject.toml" href="writing-pyproject-toml.html" />

    <link rel="shortcut icon" href="../_static/py.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>打包和分发项目 - Python Packaging User Guide</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Python Packaging User Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Python Packaging User Guide</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow.html">打包流程</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">教程</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/installing-packages.html">安装软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/managing-dependencies.html">管理依赖项</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/packaging-projects.html">打包Python项目</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">指南</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 指南</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="section-install.html">安装</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 安装</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="installing-using-pip-and-virtual-environments.html">使用 pip 和 venv 在虚拟环境中安装软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-using-virtualenv.html">使用虚拟环境安装包</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-stand-alone-command-line-tools.html">安装独立的命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-using-linux-tools.html">使用 Linux 包管理器安装 pip/setuptools/wheel</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-scientific-packages.html">安装科学软件包</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="section-build-and-publish.html">构建和发布</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 构建和发布</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="writing-pyproject-toml.html">编写你的 <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">打包和分发项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="dropping-older-python-versions.html">放弃对旧版 Python 的支持</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging-binary-extensions.html">打包二进制扩展</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging-namespace-packages.html">打包命名空间包</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating-command-line-tools.html">创建和打包命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating-and-discovering-plugins.html">创建和发现插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="using-testpypi.html">使用 TestPyPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="making-a-pypi-friendly-readme.html">制作适合 PyPI 的 README</a></li>
<li class="toctree-l3"><a class="reference internal" href="publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">使用 GitHub Actions CI/CD 工作流发布软件包分发版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="modernize-setup-py-project.html">如何使基于 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 的项目现代化？</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-hosting.html">托管</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 托管</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="index-mirrors-and-caches.html">包索引镜像和缓存</a></li>
<li class="toctree-l3"><a class="reference internal" href="hosting-your-own-index.html">托管您自己的简单存储库</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tool-recommendations.html">工具推荐</a></li>
<li class="toctree-l2"><a class="reference internal" href="analyzing-pypi-package-downloads.html">分析 PyPI 软件包下载</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discussions/index.html">讨论</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 讨论</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discussions/versioning.html">版本控制</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/deploying-python-applications.html">部署 Python 应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/pip-vs-easy-install.html">pip vs easy_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/install-requires-vs-requirements.html">install_requires 与需求文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/distribution-package-vs-import-package.html">分发包与导入包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/package-formats.html">软件包格式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/src-layout-vs-flat-layout.html">src 布局与平面布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/setup-py-deprecated.html"><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 已被弃用吗？</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/single-source-version.html">单一来源项目版本</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../specifications/index.html">PyPA 规范</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of PyPA 规范</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-distribution-metadata.html">包分发元数据</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 包分发元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/name-normalization.html">名称和规范化</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/core-metadata.html">核心元数据规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/version-specifiers.html">版本标识符</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/dependency-specifiers.html">依赖说明符</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pyproject-toml.html"><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> 规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/inline-script-metadata.html">内联脚本元数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/platform-compatibility-tags.html">平台兼容性标签</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/well-known-project-urls.html">元数据中的知名项目 URL</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-installation-metadata.html">包安装元数据</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 包安装元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/recording-installed-packages.html">记录已安装的项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/entry-points.html">入口点规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/direct-url.html">记录已安装发行版的直接 URL 来源</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/direct-url-data-structure.html">直接 URL 数据结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/virtual-environments.html">Python 虚拟环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/externally-managed-environments.html">外部管理环境</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-distribution-formats.html">包分发文件格式</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 包分发文件格式</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/source-distribution-format.html">源分发格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/binary-distribution-format.html">二进制分发格式</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../specifications/section-package-indices.html">包索引接口</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 包索引接口</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../specifications/pypirc.html"><code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code> 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specifications/simple-repository-api.html">Simple 仓库 API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">项目摘要</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">如何获取支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">为本指南做出贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">新闻</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/guides/distributing-packages-using-setuptools.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="distributing-packages">
<span id="id1"></span><h1>打包和分发项目<a class="headerlink" href="#distributing-packages" title="Link to this heading">¶</a></h1>
<p><strong>Packaging and distributing projects</strong></p>
<dl class="field-list simple">
<dt class="field-odd">页面状态<span class="colon">:</span></dt>
<dd class="field-odd"><p>过时(Outdated)</p>
</dd>
<dt class="field-even">最后更新<span class="colon">:</span></dt>
<dd class="field-even"><p>2023-12-14</p>
</dd>
</dl>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">中文</label><div class="tab-content docutils container">
<p>本节介绍了使用 <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> 配置、打包和分发 Python 项目的一些额外细节，这些内容没有包含在 <a class="reference internal" href="../tutorials/packaging-projects.html"><span class="doc">打包Python项目</span></a> 的入门教程中。它假定您已经熟悉 <a class="reference internal" href="../tutorials/installing-packages.html"><span class="doc">安装软件包</span></a> 页面中的内容。</p>
<p>本节的目标 <em>不是</em> 涵盖 Python 项目开发的最佳实践。例如，它不提供关于版本控制、文档编写或测试的指导或工具推荐。</p>
<p>有关更多参考资料，请参见 <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/index.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">构建和分发包</span></a> 中的 <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 文档，但请注意，其中的一些建议内容可能已经过时。如有冲突，请优先参考 Python 打包用户指南中的建议。</p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">英文</label><div class="tab-content docutils container">
<p>This section covers some additional details on configuring, packaging and
distributing Python projects with <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> that aren't covered by the
introductory tutorial in <a class="reference internal" href="../tutorials/packaging-projects.html"><span class="doc">打包Python项目</span></a>.  It still assumes
that you are already familiar with the contents of the
<a class="reference internal" href="../tutorials/installing-packages.html"><span class="doc">安装软件包</span></a> page.</p>
<p>The section does <em>not</em> aim to cover best practices for Python project
development as a whole.  For example, it does not provide guidance or tool
recommendations for version control, documentation, or testing.</p>
<p>For more reference material, see <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/index.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">Building and Distributing
Packages</span></a> in the <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> docs, but note
that some advisory content there may be outdated. In the event of
conflicts, prefer the advice in the Python Packaging User Guide.</p>
</div>
</div>
<section id="id2">
<h2>打包和分发的要求<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p><strong>Requirements for packaging and distributing</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">中文</label><div class="tab-content docutils container">
<ol class="arabic">
<li><p>首先，确保您已经满足了 <a class="reference internal" href="../tutorials/installing-packages.html#installing-requirements"><span class="std std-ref">安装包的要求</span></a>。</p></li>
<li><p>安装 &quot;twine&quot; <a class="footnote-reference brackets" href="#id43" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>twine
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m pip install twine
</pre></div>
</div>
</div>
</div>
<p>您需要安装这个工具来将您的项目 <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">分发包</span></a> 上传到 <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> （参见 <a class="reference internal" href="#uploading-your-project-to-pypi"><span class="std std-ref">下面的内容</span></a> ）。</p>
</li>
</ol>
</div>
</div>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">英文</label><div class="tab-content docutils container">
<ol class="arabic">
<li><p>First, make sure you have already fulfilled the <a class="reference internal" href="../tutorials/installing-packages.html#installing-requirements"><span class="std std-ref">requirements for installing packages</span></a>.</p></li>
<li><p>Install &quot;twine&quot; <a class="footnote-reference brackets" href="#id43" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>twine
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m pip install twine
</pre></div>
</div>
</div>
</div>
<p>You'll need this to upload your project <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">distributions</span></a> to <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> (see <a class="reference internal" href="#uploading-your-project-to-pypi"><span class="std std-ref">below</span></a>).</p>
</li>
</ol>
</div>
</div>
</section>
<section id="id5">
<h2>配置您的项目<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h2>
<p><strong>Configuring your project</strong></p>
<section id="id6">
<h3>初始文件<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p><strong>Initial files</strong></p>
<section id="setup-py">
<h4>setup.py<a class="headerlink" href="#setup-py" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">中文</label><div class="tab-content docutils container">
<p>最重要的文件是 <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code>，它位于项目目录的根目录下。示例请参见 <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA 示例项目</a> 中的 <a class="reference external" href="https://github.com/pypa/sampleproject/blob/db5806e0a3204034c51b1c00dde7d5eb3fa2532e/setup.py">setup.py</a>。</p>
<p><code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> 主要有两个功能：</p>
<ol class="arabic simple">
<li><p>它是配置项目各个方面的文件。 <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> 的主要特点是它包含一个全局的 <code class="docutils literal notranslate"><span class="pre">setup()</span></code> 函数。该函数的关键字参数定义了项目的具体细节。最相关的参数将在 <a class="reference internal" href="#setup-args"><span class="std std-ref">下面的部分</span></a> 中进行解释。</p></li>
<li><p>它是一个命令行接口，用于运行与打包任务相关的各种命令。要查看可用命令的列表，请运行 <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">setup.py</span> <span class="pre">--help-commands</span></code>。</p></li>
</ol>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">英文</label><div class="tab-content docutils container">
<p>The most important file is <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> which exists at the root of your
project directory. For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/db5806e0a3204034c51b1c00dde7d5eb3fa2532e/setup.py">setup.py</a> in the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
<p><code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> serves two primary functions:</p>
<ol class="arabic simple">
<li><p>It's the file where various aspects of your project are configured. The
primary feature of <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> is that it contains a global <code class="docutils literal notranslate"><span class="pre">setup()</span></code>
function.  The keyword arguments to this function are how specific details
of your project are defined.  The most relevant arguments are explained in
<a class="reference internal" href="#setup-args"><span class="std std-ref">the section below</span></a>.</p></li>
<li><p>It's the command line interface for running various commands that
relate to packaging tasks. To get a listing of available commands, run
<code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">setup.py</span> <span class="pre">--help-commands</span></code>.</p></li>
</ol>
</div>
</div>
</section>
<section id="setup-cfg">
<h4>setup.cfg<a class="headerlink" href="#setup-cfg" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">中文</label><div class="tab-content docutils container">
<p><code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code> 是一个 ini 文件，包含 <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> 命令的选项默认值。示例请参见 <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA 示例项目</a> 中的 <a class="reference external" href="https://github.com/pypa/sampleproject/blob/db5806e0a3204034c51b1c00dde7d5eb3fa2532e/setup.cfg">setup.cfg</a>。</p>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">英文</label><div class="tab-content docutils container">
<p><code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code> is an ini file that contains option defaults for
<code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> commands.  For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/db5806e0a3204034c51b1c00dde7d5eb3fa2532e/setup.cfg">setup.cfg</a> in the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
</div>
</div>
</section>
<section id="readme-rst-readme-md">
<h4>README.rst / README.md<a class="headerlink" href="#readme-rst-readme-md" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">中文</label><div class="tab-content docutils container">
<p>所有项目应包含一个涵盖项目目标的自述文件。最常见的格式是 <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a>，其扩展名为 &quot;rst&quot;，尽管这不是强制要求；也支持多种变体的 <a class="reference external" href="https://daringfireball.net/projects/markdown/">Markdown</a> 格式（请查看 <code class="docutils literal notranslate"><span class="pre">setup()</span></code> 函数的 <a class="reference internal" href="writing-pyproject-toml.html#description"><span class="std std-ref">long_description_content_type</span></a> 参数）。</p>
<p>示例请参见 <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA 示例项目</a> 中的 <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/README.md">README.md</a>。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>使用 <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 0.6.27+ 的项目默认在源分发包中包含标准的自述文件（<code class="file docutils literal notranslate"><span class="pre">README.rst</span></code>、<code class="file docutils literal notranslate"><span class="pre">README.txt</span></code> 或 <code class="file docutils literal notranslate"><span class="pre">README</span></code>）。内置的 <a class="reference internal" href="../key_projects.html#distutils"><span class="std std-ref">distutils</span></a> 库从 Python 3.7 开始采用这一行为。此外，<a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 36.4.0+ 版本会包含找到的 <code class="file docutils literal notranslate"><span class="pre">README.md</span></code> 文件。如果您使用的是 setuptools，则不需要在 <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> 中列出自述文件，否则请显式地将其包括在内。</p>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">英文</label><div class="tab-content docutils container">
<p>All projects should contain a readme file that covers the goal of the project.
The most common format is <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a> with an &quot;rst&quot; extension, although
this is not a requirement; multiple variants of <a class="reference external" href="https://daringfireball.net/projects/markdown/">Markdown</a> are supported as well (look
at <code class="docutils literal notranslate"><span class="pre">setup()</span></code>'s <a class="reference internal" href="writing-pyproject-toml.html#description"><span class="std std-ref">long_description_content_type</span></a> argument).</p>
<p>For an example, see <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/README.md">README.md</a> from the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Projects using <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 0.6.27+ have standard readme files
(<code class="file docutils literal notranslate"><span class="pre">README.rst</span></code>, <code class="file docutils literal notranslate"><span class="pre">README.txt</span></code>, or <code class="file docutils literal notranslate"><span class="pre">README</span></code>) included in
source distributions by default. The built-in <a class="reference internal" href="../key_projects.html#distutils"><span class="std std-ref">distutils</span></a> library adopts
this behavior beginning in Python 3.7. Additionally, <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a>
36.4.0+ will include a <code class="file docutils literal notranslate"><span class="pre">README.md</span></code> if found. If you are using
setuptools, you don't need to list your readme file in <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code>.
Otherwise, include it to be explicit.</p>
</div>
</div>
</div>
</section>
<section id="manifest-in">
<h4>MANIFEST.in<a class="headerlink" href="#manifest-in" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">中文</label><div class="tab-content docutils container">
<p>当您需要打包源分发包中未自动包含的其他文件时，您需要一个 <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> 文件。有关如何编写 <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> 文件的详细信息，包括默认包含的文件列表，请参见 &quot;<span class="xref std std-ref">使用 MANIFEST.in</span>&quot;。</p>
<p>然而，您可能不需要使用 <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> 文件。例如， <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA 示例项目</a> 已删除其清单文件，因为所有必要的文件都已被 <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 43.0.0 及更高版本自动包含。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> 不影响二进制分发包，如 wheel。</p>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">英文</label><div class="tab-content docutils container">
<p>A <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> is needed when you need to package additional files that
are not automatically included in a source distribution.  For details on
writing a <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> file, including a list of what's included by
default, see &quot;<a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/miscellaneous.html#using-manifest-in" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-ref">Using MANIFEST.in</span></a>&quot;.</p>
<p>However, you may not have to use a <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code>. For an example, the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a> has removed its manifest
file, since all the necessary files have been included by <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 43.0.0
and newer.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> does not affect binary distributions such as wheels.</p>
</div>
</div>
</div>
</section>
<section id="license-txt">
<h4>LICENSE.txt<a class="headerlink" href="#license-txt" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--1">中文</label><div class="tab-content docutils container">
<p>每个包都应包含一个许可证文件，详细说明分发条款。在许多法域中，没有明确许可证的包不能被除版权所有者以外的任何人合法使用或分发。如果您不确定选择哪种许可证，可以使用诸如 <a class="reference external" href="https://choosealicense.com/">GitHub的选择许可证</a> 等资源，或咨询律师。</p>
<p>例如，您可以查看 <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA 示例项目</a> 中的 <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/LICENSE.txt">LICENSE.txt</a> 文件。</p>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--2">英文</label><div class="tab-content docutils container">
<p>Every package should include a license file detailing the terms of
distribution. In many jurisdictions, packages without an explicit license can
not be legally used or distributed by anyone other than the copyright holder.
If you're unsure which license to choose, you can use resources such as
<a class="reference external" href="https://choosealicense.com/">GitHub's Choose a License</a> or consult a lawyer.</p>
<p>For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/LICENSE.txt">LICENSE.txt</a> from the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
</div>
</div>
</section>
<section id="id24">
<h4>&lt;您的包&gt;<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h4>
<p><strong>&lt;your package&gt;</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--1">中文</label><div class="tab-content docutils container">
<p>尽管这不是强制要求，但最常见的做法是将您的 Python 模块和包包含在一个顶级包中，该包的名称与您的项目名称相同或非常相似。</p>
<p>例如，您可以查看 <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA 示例项目</a> 中包含的 <a class="reference external" href="https://github.com/pypa/sampleproject/tree/main/src/sample">sample</a> 包。</p>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--2">英文</label><div class="tab-content docutils container">
<p>Although it's not required, the most common practice is to include your
Python modules and packages under a single top-level package that has the same
<a class="reference internal" href="writing-pyproject-toml.html#setup-name"><span class="std std-ref">name</span></a> as your project, or something very close.</p>
<p>For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/tree/main/src/sample">sample</a> package that's
included in the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA sample project</a>.</p>
</div>
</div>
</section>
</section>
<section id="setup">
<span id="setup-args"></span><h3>setup() 参数<a class="headerlink" href="#setup" title="Link to this heading">¶</a></h3>
<p><strong>setup() args</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--1">中文</label><div class="tab-content docutils container">
<p>如上所述， <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> 的主要特性是它包含一个全局的 <code class="docutils literal notranslate"><span class="pre">setup()</span></code> 函数。该函数的关键字参数用于定义项目的具体细节。</p>
<p>其中一些参数在下面暂时解释，直到它们的信息移至其他地方。完整的列表可以在 <a class="reference external" href="https://setuptools.pypa.io/en/latest/references/keywords.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">setuptools 文档</span></a> 中找到。</p>
<p>大部分代码片段来自于 <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA 示例项目</a> 中的 <a class="reference external" href="https://github.com/pypa/sampleproject/blob/db5806e0a3204034c51b1c00dde7d5eb3fa2532e/setup.py">setup.py</a>。</p>
<p>有关如何使用版本来传达兼容性信息给用户的更多信息，请参见 <a class="reference internal" href="../discussions/versioning.html#choosing-a-versioning-scheme"><span class="std std-ref">选择版本控制方案</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--2">英文</label><div class="tab-content docutils container">
<p>As mentioned above, the primary feature of <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> is that it contains
a global <code class="docutils literal notranslate"><span class="pre">setup()</span></code> function.  The keyword arguments to this function are how
specific details of your project are defined.</p>
<p>Some are temporarily explained below until their information is moved elsewhere.
The full list can be found <a class="reference external" href="https://setuptools.pypa.io/en/latest/references/keywords.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">in the setuptools documentation</span></a>.</p>
<p>Most of the snippets given are
taken from the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/db5806e0a3204034c51b1c00dde7d5eb3fa2532e/setup.py">setup.py</a> contained in the
<a class="reference external" href="https://github.com/pypa/sampleproject">PyPA sample project</a>.</p>
<p>See <a class="reference internal" href="../discussions/versioning.html#choosing-a-versioning-scheme"><span class="std std-ref">版本控制</span></a> for more information on ways to use versions to convey
compatibility information to your users.</p>
</div>
</div>
<section id="packages">
<h4><code class="docutils literal notranslate"><span class="pre">packages</span></code><a class="headerlink" href="#packages" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--1">中文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;sample.*&#39;</span><span class="p">]),</span>
</pre></div>
</div>
<p>将 <code class="docutils literal notranslate"><span class="pre">packages</span></code> 设置为项目中所有 <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">包</span></a> 的列表，包括它们的子包、子子包等。尽管可以手动列出这些包，但 <code class="docutils literal notranslate"><span class="pre">setuptools.find_packages()</span></code> 可以自动找到它们。使用 <code class="docutils literal notranslate"><span class="pre">include</span></code> 关键字参数仅查找指定的包。使用 <code class="docutils literal notranslate"><span class="pre">exclude</span></code> 关键字参数排除不打算发布和安装的包。</p>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--2">英文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;sample.*&#39;</span><span class="p">]),</span>
</pre></div>
</div>
<p>Set <code class="docutils literal notranslate"><span class="pre">packages</span></code> to a list of all <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">packages</span></a> in your
project, including their subpackages, sub-subpackages, etc.  Although the
packages can be listed manually, <code class="docutils literal notranslate"><span class="pre">setuptools.find_packages()</span></code> finds them
automatically.  Use the <code class="docutils literal notranslate"><span class="pre">include</span></code> keyword argument to find only the given
packages.  Use the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> keyword argument to omit packages that are not
intended to be released and installed.</p>
</div>
</div>
</section>
<section id="py-modules">
<h4><code class="docutils literal notranslate"><span class="pre">py_modules</span></code><a class="headerlink" href="#py-modules" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--1">中文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py_modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;six&quot;</span><span class="p">],</span>
</pre></div>
</div>
<p>如果您的项目包含任何不属于包的单文件 Python 模块，请将 <code class="docutils literal notranslate"><span class="pre">py_modules</span></code> 设置为模块名称的列表（不包含 <code class="docutils literal notranslate"><span class="pre">.py</span></code> 扩展名），以便让 <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 知道它们。</p>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--2">英文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py_modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;six&quot;</span><span class="p">],</span>
</pre></div>
</div>
<p>If your project contains any single-file Python modules that aren't part of a
package, set <code class="docutils literal notranslate"><span class="pre">py_modules</span></code> to a list of the names of the modules (minus the
<code class="docutils literal notranslate"><span class="pre">.py</span></code> extension) in order to make <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> aware of them.</p>
</div>
</div>
</section>
<section id="install-requires">
<h4><code class="docutils literal notranslate"><span class="pre">install_requires</span></code><a class="headerlink" href="#install-requires" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--14-input--1" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--1">中文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">install_requires</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;peppercorn&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p><code class="xref any docutils literal notranslate"><span class="pre">install_requires</span></code> 应用于指定一个项目运行所需的最小依赖。当通过 <a class="reference internal" href="../key_projects.html#pip"><span class="std std-ref">pip</span></a> 安装项目时，依赖项将根据此规范进行安装。</p>
<p>有关使用 <code class="xref any docutils literal notranslate"><span class="pre">install_requires</span></code> 的更多信息，请参见 <span class="xref std std-ref">install_requires 与 Requirements 文件</span>。</p>
</div>
<input class="tab-input" id="tab-set--14-input--2" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--2">英文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">install_requires</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;peppercorn&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p>&quot;install_requires&quot; should be used to specify what dependencies a project
minimally needs to run. When the project is installed by <a class="reference internal" href="../key_projects.html#pip"><span class="std std-ref">pip</span></a>, this is the
specification that is used to install its dependencies.</p>
<p>For more on using &quot;install_requires&quot; see <a class="reference internal" href="../discussions/install-requires-vs-requirements.html#install-requires-vs-requirements-files"><span class="std std-ref">install_requires 与需求文件</span></a>.</p>
</div>
</div>
</section>
<section id="package-data">
<span id="id32"></span><h4><code class="docutils literal notranslate"><span class="pre">package_data</span></code><a class="headerlink" href="#package-data" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--15-input--1" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--1">中文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package_data</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;package_data.dat&#39;</span><span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
<p>通常，额外的文件需要安装到 <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">package</span></a> 中。这些文件通常是与包的实现紧密相关的数据，或是包含文档的文本文件，可能对使用该包的程序员有用。这些文件被称为 &quot;包数据&quot;。</p>
<p>值必须是从包名到应复制到包中的相对路径名的映射。路径被解释为相对于包含该包的目录。</p>
<p>有关更多信息，请参见 <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/datafiles.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">包括数据文件</span></a>，以及 <a class="reference external" href="https://setuptools.pypa.io/en/latest/index.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">setuptools 文档</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--15-input--2" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--2">英文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package_data</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;package_data.dat&#39;</span><span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
<p>Often, additional files need to be installed into a <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">package</span></a>. These files are often data that’s closely related to the package’s
implementation, or text files containing documentation that might be of interest
to programmers using the package. These files are called &quot;package data&quot;.</p>
<p>The value must be a mapping from package name to a list of relative path names
that should be copied into the package. The paths are interpreted as relative to
the directory containing the package.</p>
<p>For more information, see <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/datafiles.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">Including Data Files</span></a> from the
<a class="reference external" href="https://setuptools.pypa.io/en/latest/index.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">setuptools docs</span></a>.</p>
</div>
</div>
</section>
<section id="data-files">
<span id="id33"></span><h4><code class="docutils literal notranslate"><span class="pre">data_files</span></code><a class="headerlink" href="#data-files" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--16-input--1" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--1">中文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_files</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;my_data&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;data/data_file&#39;</span><span class="p">])],</span>
</pre></div>
</div>
<p>虽然配置 <span class="xref std std-ref">包数据</span> 足以满足大多数需求，但在某些情况下，您可能需要将数据文件 <em>放置在</em> <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">包</span></a> 外部。<code class="docutils literal notranslate"><span class="pre">data_files</span></code> 指令允许您做到这一点。它主要在您需要安装的文件被其他程序使用时有用，这些程序可能不知道 Python 包的存在。</p>
<p>序列中的每个 <code class="docutils literal notranslate"><span class="pre">(directory,</span> <span class="pre">files)</span></code> 对指定了安装目录和要安装到该目录的文件。 <code class="docutils literal notranslate"><span class="pre">directory</span></code> 必须是相对路径（尽管将来可能会改变，参见 <a class="reference external" href="https://github.com/pypa/wheel/issues/92">wheel 问题 #92</a>），并且它相对于安装前缀（对于默认安装是 Python 的 <code class="docutils literal notranslate"><span class="pre">sys.prefix</span></code>，对于用户安装是 <code class="docutils literal notranslate"><span class="pre">site.USER_BASE</span></code>）进行解释。 <code class="docutils literal notranslate"><span class="pre">files</span></code> 中的每个文件名相对于项目源分发中的 <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> 脚本进行解释。</p>
<p>有关更多信息，请参见 distutils 部分的 <a class="reference external" href="https://setuptools.pypa.io/en/latest/deprecated/distutils/setupscript.html#distutils-additional-files" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-ref">安装附加文件</span></a>。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>当以 egg 形式安装包时，不支持 <code class="docutils literal notranslate"><span class="pre">data_files</span></code>。因此，如果您的项目使用 <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a>，您必须使用 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 安装它。或者，如果您必须使用 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span></code>，那么需要传递 <code class="docutils literal notranslate"><span class="pre">--old-and-unmanageable</span></code> 选项。</p>
</div>
</div>
<input class="tab-input" id="tab-set--16-input--2" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--2">英文</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_files</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;my_data&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;data/data_file&#39;</span><span class="p">])],</span>
</pre></div>
</div>
<p>Although configuring <a class="reference internal" href="#package-data"><span class="std std-ref">package_data</span></a> is sufficient for most needs, in some
cases you may need to place data files <em>outside</em> of your <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">packages</span></a>.  The <code class="docutils literal notranslate"><span class="pre">data_files</span></code> directive allows you to do that.
It is mostly useful if you need to install files which are used by other
programs, which may be unaware of Python packages.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">(directory,</span> <span class="pre">files)</span></code> pair in the sequence specifies the installation
directory and the files to install there. The <code class="docutils literal notranslate"><span class="pre">directory</span></code> must be a relative
path (although this may change in the future, see
<a class="reference external" href="https://github.com/pypa/wheel/issues/92">wheel Issue #92</a>),
and it is interpreted relative to the installation prefix
(Python’s <code class="docutils literal notranslate"><span class="pre">sys.prefix</span></code> for a default installation;
<code class="docutils literal notranslate"><span class="pre">site.USER_BASE</span></code> for a user installation).
Each file name in <code class="docutils literal notranslate"><span class="pre">files</span></code> is interpreted relative to the <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code>
script at the top of the project source distribution.</p>
<p>For more information see the distutils section on <a class="reference external" href="https://setuptools.pypa.io/en/latest/deprecated/distutils/setupscript.html#distutils-additional-files" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-ref">Installing Additional Files</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>When installing packages as egg, <code class="docutils literal notranslate"><span class="pre">data_files</span></code> is not supported.
So, if your project uses <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a>, you must use <code class="docutils literal notranslate"><span class="pre">pip</span></code>
to install it. Alternatively, if you must use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span></code>,
then you need to pass the <code class="docutils literal notranslate"><span class="pre">--old-and-unmanageable</span></code> option.</p>
</div>
</div>
</div>
</section>
<section id="scripts">
<h4><code class="docutils literal notranslate"><span class="pre">scripts</span></code><a class="headerlink" href="#scripts" title="Link to this heading">¶</a></h4>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--17-input--1" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--1">中文</label><div class="tab-content docutils container">
<p>尽管 <code class="docutils literal notranslate"><span class="pre">setup()</span></code> 支持一个 <a class="reference external" href="https://setuptools.pypa.io/en/latest/deprecated/distutils/setupscript.html#distutils-installing-scripts" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-ref">scripts</span></a> 关键字，用于指向预先制作的脚本进行安装，但实现跨平台兼容性的推荐方法是使用 <a class="reference internal" href="writing-pyproject-toml.html#console-scripts"><span class="std std-ref">创建可执行脚本</span></a> 入口点（见下文）。</p>
</div>
<input class="tab-input" id="tab-set--17-input--2" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--2">英文</label><div class="tab-content docutils container">
<p>Although <code class="docutils literal notranslate"><span class="pre">setup()</span></code> supports a <a class="reference external" href="https://setuptools.pypa.io/en/latest/deprecated/distutils/setupscript.html#distutils-installing-scripts" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-ref">scripts</span></a>
keyword for pointing to pre-made scripts to install, the recommended approach to
achieve cross-platform compatibility is to use <a class="reference internal" href="writing-pyproject-toml.html#console-scripts"><span class="std std-ref">创建可执行脚本</span></a> entry
points (see below).</p>
</div>
</div>
</section>
</section>
<section id="id34">
<h3>选择版本控制方案<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h3>
<p><strong>Choosing a versioning scheme</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--18-input--1" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--1">中文</label><div class="tab-content docutils container">
<p>有关常见版本方案以及如何在它们之间进行选择的信息，请参阅 <a class="reference internal" href="../discussions/versioning.html#versioning"><span class="std std-ref">版本控制</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--18-input--2" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--2">英文</label><div class="tab-content docutils container">
<p>See <a class="reference internal" href="../discussions/versioning.html#versioning"><span class="std std-ref">版本控制</span></a> for information on common version schemes and how to
choose between them.</p>
</div>
</div>
</section>
</section>
<section id="id35">
<h2>在“开发模式”下工作<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h2>
<p><strong>Working in &quot;development mode&quot;</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--19-input--1" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--1">中文</label><div class="tab-content docutils container">
<p>你可以在开发过程中以“可编辑”或“开发”模式安装项目。
当项目以可编辑模式安装时，你可以在不重新安装的情况下直接编辑项目：对安装为可编辑模式的项目中的 Python 源文件的修改将在下次启动解释器时立即反映出来。</p>
<p>要以“可编辑”/“开发”模式安装 Python 包，首先进入项目根目录并运行：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>pip 命令行标志 <code class="docutils literal notranslate"><span class="pre">-e</span></code> 是 <code class="docutils literal notranslate"><span class="pre">--editable</span></code> 的简写，而 <code class="docutils literal notranslate"><span class="pre">.</span></code> 指当前工作目录，因此合起来表示将当前目录（即你的项目）安装为可编辑模式。这也会安装所有在 <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> 中声明的依赖项以及在 <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> 中声明的任何脚本。依赖项将以通常的非可编辑模式安装。</p>
<p>你可能还想以可编辑模式安装某些依赖项。例如，假设你的项目需要“foo”和“bar”，但是你希望从 VCS 中以可编辑模式安装“bar”，那么你可以构建如下的 requirements 文件:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">e</span> <span class="o">.</span>
<span class="o">-</span><span class="n">e</span> <span class="n">bar</span> <span class="o">@</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">somerepo</span><span class="o">/</span><span class="n">bar</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>第一行表示安装你的项目及其所有依赖项。第二行覆盖了“bar”依赖项，使其从 VCS 安装，而不是从 PyPI 安装。</p>
<p>然而，如果你想从本地目录以可编辑模式安装“bar”，则 requirements 文件应该如下所示，并将本地路径放在文件的顶部:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">e</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">bar</span>
<span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>否则，由于 requirements 文件的安装顺序，依赖项将从 PyPI 安装。有关 requirements 文件的更多信息，请参阅 pip 文档中的 <a class="reference external" href="https://pip.pypa.io/en/latest/user_guide/#requirements-files" title="（在 pip v25.0）"><span class="xref std std-ref">Requirements File</span></a> 部分。有关 VCS 安装的更多信息，请参阅 pip 文档中的 <a class="reference external" href="https://pip.pypa.io/en/latest/topics/vcs-support/#vcs-support" title="（在 pip v25.0）"><span class="xref std std-ref">VCS Support</span></a> 部分。</p>
<p>最后，如果你不想安装任何依赖项，可以运行：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="w"> </span>--no-deps
</pre></div>
</div>
<p>有关更多信息，请参见 <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/development_mode.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">Development Mode</span></a> 部分，在 <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> 文档中。</p>
</div>
<input class="tab-input" id="tab-set--19-input--2" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--2">英文</label><div class="tab-content docutils container">
<p>You can install a project in &quot;editable&quot;
or &quot;develop&quot; mode while you're working on it.
When installed as editable, a project can be
edited in-place without reinstallation:
changes to Python source files in projects installed as editable will be reflected the next time an interpreter process is started.</p>
<p>To install a Python package in &quot;editable&quot;/&quot;development&quot; mode
Change directory to the root of the project directory and run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>The pip command-line flag <code class="docutils literal notranslate"><span class="pre">-e</span></code> is short for <code class="docutils literal notranslate"><span class="pre">--editable</span></code>, and <code class="docutils literal notranslate"><span class="pre">.</span></code> refers
to the current working directory, so together, it means to install the current
directory (i.e. your project) in editable mode.  This will also install any
dependencies declared with <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> and any scripts declared with
<code class="docutils literal notranslate"><span class="pre">console_scripts</span></code>.  Dependencies will be installed in the usual, non-editable
mode.</p>
<p>You may want to install some of your dependencies in editable
mode as well. For example, supposing your project requires &quot;foo&quot; and &quot;bar&quot;, but
you want &quot;bar&quot; installed from VCS in editable mode, then you could construct a
requirements file like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">e</span> <span class="o">.</span>
<span class="o">-</span><span class="n">e</span> <span class="n">bar</span> <span class="o">@</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">somerepo</span><span class="o">/</span><span class="n">bar</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>The first line says to install your project and any dependencies. The second
line overrides the &quot;bar&quot; dependency, such that it's fulfilled from VCS, not
PyPI.</p>
<p>If, however, you want &quot;bar&quot; installed from a local directory in editable mode, the requirements file should look like this, with the local paths at the top of the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">e</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">bar</span>
<span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>Otherwise, the dependency will be fulfilled from PyPI, due to the installation order of the requirements file.  For more on requirements files, see the <a class="reference external" href="https://pip.pypa.io/en/latest/user_guide/#requirements-files" title="（在 pip v25.0）"><span class="xref std std-ref">Requirements File</span></a> section in the pip docs.  For more on VCS installs,
see the <a class="reference external" href="https://pip.pypa.io/en/latest/topics/vcs-support/#vcs-support" title="（在 pip v25.0）"><span class="xref std std-ref">VCS Support</span></a> section of the pip docs.</p>
<p>Lastly, if you don't want to install any dependencies at all, you can run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="w"> </span>--no-deps
</pre></div>
</div>
<p>For more information, see the
<a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/development_mode.html" title="（在 setuptools v75.5.0.post20241113）"><span class="xref std std-doc">Development Mode</span></a> section
of the <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">Setuptools</span></a> docs.</p>
</div>
</div>
</section>
<section id="packaging-your-project">
<span id="id36"></span><h2>打包您的项目<a class="headerlink" href="#packaging-your-project" title="Link to this heading">¶</a></h2>
<p><strong>Packaging your project</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--22-input--1" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--1">中文</label><div class="tab-content docutils container">
<p>要使你的项目可以从像 PyPI 这样的 <a class="reference internal" href="../glossary.html#term-Package-Index"><span class="xref std std-term">包索引</span></a> （Package Index）进行安装，你需要为你的项目创建一个分发 <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">包</span></a> （Distribution Package）。</p>
<p>在你构建项目的 wheels 和 sdists 之前，需要先安装 <a class="reference internal" href="../key_projects.html#build"><span class="std std-ref">build</span></a> 包：</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--20-input--1" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>build
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--20-input--2" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m pip install build
</pre></div>
</div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--22-input--2" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--2">英文</label><div class="tab-content docutils container">
<p>To have your project installable from a <a class="reference internal" href="../glossary.html#term-Package-Index"><span class="xref std std-term">Package Index</span></a> like <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a>, you'll need to create a <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">Distribution</span></a> (aka &quot;<a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">Package</span></a>&quot;) for your
project.</p>
<p>Before you can build wheels and sdists for your project, you'll need to install the
<code class="docutils literal notranslate"><span class="pre">build</span></code> package:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--21-input--1" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>build
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--21-input--2" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m pip install build
</pre></div>
</div>
</div>
</div>
</div>
</div>
<section id="id37">
<h3>源代码分发<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h3>
<p><strong>Source distributions</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--25-input--1" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--1">中文</label><div class="tab-content docutils container">
<p>至少，你应该创建一个 <a class="reference internal" href="../glossary.html#term-Source-Distribution-or-sdist"><span class="xref std std-term">源分发包</span></a> （Source Distribution，简称 &quot;sdist&quot;）：</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--23-input--1" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>build<span class="w"> </span>--sdist
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--23-input--2" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --sdist
</pre></div>
</div>
</div>
</div>
<p>“源分发包”是未构建的（即它不是 <strong>已构建分发包</strong>），并且在通过 pip 安装时需要进行构建步骤。即使该分发包是纯 Python（即不包含扩展），它仍然需要一个构建步骤来从 <a class="reference internal" href="../glossary.html#term-setup.py"><code class="xref any std std-term docutils literal notranslate"><span class="pre">setup.py</span></code></a> 和/或 <a class="reference internal" href="../glossary.html#term-setup.cfg"><code class="xref any std std-term docutils literal notranslate"><span class="pre">setup.cfg</span></code></a> 构建安装元数据。</p>
</div>
<input class="tab-input" id="tab-set--25-input--2" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--2">英文</label><div class="tab-content docutils container">
<p>Minimally, you should create a <a class="reference internal" href="../glossary.html#term-Source-Distribution-or-sdist"><span class="xref std std-term">Source Distribution</span></a>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--24-input--1" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>build<span class="w"> </span>--sdist
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--24-input--2" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --sdist
</pre></div>
</div>
</div>
</div>
<p>A &quot;source distribution&quot; is unbuilt (i.e. it's not a <a class="reference internal" href="../glossary.html#term-Built-Distribution"><span class="xref std std-term">Built
Distribution</span></a>), and requires a build step when installed by pip.  Even if the
distribution is pure Python (i.e. contains no extensions), it still involves a
build step to build out the installation metadata from <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> and/or
<code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code>.</p>
</div>
</div>
</section>
<section id="wheels">
<h3>Wheels<a class="headerlink" href="#wheels" title="Link to this heading">¶</a></h3>
<p><strong>Wheels</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--26-input--1" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--1">中文</label><div class="tab-content docutils container">
<p>你还应该为你的项目创建一个 <strong>wheel</strong> （Wheel 包）。Wheel 是一种 <strong>已构建包</strong> （Built Distribution），可以在无需经过“构建”过程的情况下直接安装。与从源分发包安装相比，安装 Wheel 包对于最终用户来说要快得多。</p>
<p>如果你的项目是纯 Python 项目，那么你将创建一个 <a class="reference internal" href="#pure-python-wheels"><span class="std std-ref">纯 Python Wheel</span></a> （参见下文部分）。</p>
<p>如果你的项目包含编译扩展，那么你将创建一个所谓的 <a class="reference internal" href="#platform-wheels"><span class="std std-ref">平台 Wheel</span></a> （参见下文部分）。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>如果你的项目同时支持 Python 2 且 <strong>不包含</strong> C 扩展，那么你应该通过在 <code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code> 文件中添加以下内容来创建所谓的 <strong>通用 Wheel</strong>：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[bdist_wheel]
universal=1
</pre></div>
</div>
<p>只有在你的项目没有任何 C 扩展且支持 Python 2 和 3 时，才使用此设置。</p>
</div>
</div>
<input class="tab-input" id="tab-set--26-input--2" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--2">英文</label><div class="tab-content docutils container">
<p>You should also create a wheel for your project. A wheel is a <a class="reference internal" href="../glossary.html#term-Built-Distribution"><span class="xref std std-term">built
package</span></a> that can be installed without needing to go
through the &quot;build&quot; process. Installing wheels is substantially faster for the
end user than installing from a source distribution.</p>
<p>If your project is pure Python then you'll be creating a
<a class="reference internal" href="#pure-python-wheels"><span class="std std-ref">&quot;Pure Python Wheel&quot; (see section below)</span></a>.</p>
<p>If your project contains compiled extensions, then you'll be creating what's
called a <a class="reference internal" href="#platform-wheels"><span class="std std-ref">*Platform Wheel* (see section below)</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If your project also supports Python 2 <em>and</em> contains no C extensions,
then you should create what's called a <em>Universal Wheel</em> by adding the
following to your <code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code> file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[bdist_wheel]
universal=1
</pre></div>
</div>
<p>Only use this setting if your project does not have any C extensions <em>and</em>
supports Python 2 and 3.</p>
</div>
</div>
</div>
<section id="python-wheels">
<span id="pure-python-wheels"></span><h4>纯 Python Wheels<a class="headerlink" href="#python-wheels" title="Link to this heading">¶</a></h4>
<p><strong>Pure Python Wheels</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--29-input--1" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--1">中文</label><div class="tab-content docutils container">
<p><strong>纯 Python Wheel</strong> 不包含任何编译扩展，因此只需要一个单独的 Python Wheel。</p>
<p>要构建 Wheel 包：</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--27-input--1" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>build<span class="w"> </span>--wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--27-input--2" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --wheel
</pre></div>
</div>
</div>
</div>
<p><a class="reference internal" href="../key_projects.html#wheel"><span class="std std-ref">wheel</span></a> 包将会检测到代码是纯 Python，并构建一个名为可以在任何 Python 3 安装上使用的 Wheel 包。有关 Wheel 文件命名的详细信息，请参见 <span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0425/"><strong>PEP 425</strong></a>。</p>
<p>如果你在没有指定 <code class="xref any docutils literal notranslate"><span class="pre">--wheel</span></code> 或 <code class="xref any docutils literal notranslate"><span class="pre">--sdist</span></code> 的情况下运行 <a class="reference internal" href="../key_projects.html#build"><span class="std std-ref">build</span></a>，它将同时为你构建这两个文件；这在你不需要多个 Wheel 包时很有用。</p>
</div>
<input class="tab-input" id="tab-set--29-input--2" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--2">英文</label><div class="tab-content docutils container">
<p><em>Pure Python Wheels</em> contain no compiled extensions, and therefore only require a
single Python wheel.</p>
<p>To build the wheel:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--28-input--1" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>build<span class="w"> </span>--wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--28-input--2" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --wheel
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">wheel</span></code> package will detect that the code is pure Python, and build a
wheel that's named such that it's usable on any Python 3 installation.  For
details on the naming of wheel files, see <span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0425/"><strong>PEP 425</strong></a>.</p>
<p>If you run <code class="docutils literal notranslate"><span class="pre">build</span></code> without <code class="docutils literal notranslate"><span class="pre">--wheel</span></code> or <code class="docutils literal notranslate"><span class="pre">--sdist</span></code>, it will build both
files for you; this is useful when you don't need multiple wheels.</p>
</div>
</div>
</section>
<section id="platform-wheels">
<span id="id38"></span><h4>平台 Wheels<a class="headerlink" href="#platform-wheels" title="Link to this heading">¶</a></h4>
<p><strong>Platform Wheels</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--32-input--1" name="tab-set--32" type="radio"><label class="tab-label" for="tab-set--32-input--1">中文</label><div class="tab-content docutils container">
<p><strong>平台 Wheel</strong> 是针对特定平台（如 Linux、macOS 或 Windows）的 Wheel，通常由于包含编译扩展而与平台相关。</p>
<p>要构建平台特定的 Wheel：</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--30-input--1" name="tab-set--30" type="radio"><label class="tab-label" for="tab-set--30-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>build<span class="w"> </span>--wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--30-input--2" name="tab-set--30" type="radio"><label class="tab-label" for="tab-set--30-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --wheel
</pre></div>
</div>
</div>
</div>
<p><a class="reference internal" href="../key_projects.html#wheel"><span class="std std-ref">wheel</span></a> 包将检测到代码不是纯 Python，并构建一个平台特定的 Wheel 文件，其命名方式使得它只能在构建时使用的平台上安装。有关 Wheel 文件命名的详细信息，请参见 <span class="target" id="index-2"></span><a class="pep reference external" href="https://peps.python.org/pep-0425/"><strong>PEP 425</strong></a>。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>当前， <strong>PyPI</strong> （Python 包索引）支持上传 Windows、macOS 和多发行版的 <code class="xref any docutils literal notranslate"><span class="pre">manylinux*</span></code> ABI 平台 Wheel。关于 <code class="xref any docutils literal notranslate"><span class="pre">manylinux*</span></code> 的详细内容，请参见 <span class="target" id="index-3"></span><a class="pep reference external" href="https://peps.python.org/pep-0513/"><strong>PEP 513</strong></a>。</p>
</div>
</div>
<input class="tab-input" id="tab-set--32-input--2" name="tab-set--32" type="radio"><label class="tab-label" for="tab-set--32-input--2">英文</label><div class="tab-content docutils container">
<p><em>Platform Wheels</em> are wheels that are specific to a certain platform like Linux,
macOS, or Windows, usually due to containing compiled extensions.</p>
<p>To build the wheel:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--31-input--1" name="tab-set--31" type="radio"><label class="tab-label" for="tab-set--31-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>build<span class="w"> </span>--wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--31-input--2" name="tab-set--31" type="radio"><label class="tab-label" for="tab-set--31-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --wheel
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">wheel</span></code> package will detect that the code is not pure Python, and build
a wheel that's named such that it's only usable on the platform that it was
built on. For details on the naming of wheel files, see <span class="target" id="index-4"></span><a class="pep reference external" href="https://peps.python.org/pep-0425/"><strong>PEP 425</strong></a>.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> currently supports uploads of
platform wheels for Windows, macOS, and the multi-distro <code class="docutils literal notranslate"><span class="pre">manylinux*</span></code> ABI.
Details of the latter are defined in <span class="target" id="index-5"></span><a class="pep reference external" href="https://peps.python.org/pep-0513/"><strong>PEP 513</strong></a>.</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="pypi">
<span id="uploading-your-project-to-pypi"></span><h2>将您的项目上传到 PyPI<a class="headerlink" href="#pypi" title="Link to this heading">¶</a></h2>
<p><strong>Uploading your Project to PyPI</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--33-input--1" name="tab-set--33" type="radio"><label class="tab-label" for="tab-set--33-input--1">中文</label><div class="tab-content docutils container">
<p>当你运行命令创建分发包时，一个新的目录 <code class="docutils literal notranslate"><span class="pre">dist/</span></code> 会在你的项目根目录下创建。你可以在这个目录中找到你的分发文件，以便上传。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>这些文件只有在你运行创建分发包的命令时才会生成。这意味着，每次你更改项目源代码或更新 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 文件中的配置时，都需要重新生成这些文件，才能将更改分发到 PyPI。</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>在将包发布到主 PyPI 仓库之前，你可以先在 <a class="reference external" href="https://test.pypi.org/">PyPI 测试站点</a> 上进行测试，该站点会定期清理。请参见 <a class="reference internal" href="using-testpypi.html#using-test-pypi"><span class="std std-ref">使用 TestPyPI</span></a> 了解如何配置以使用该站点。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>在其他资源中，你可能会看到使用 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">register</span></code> 和 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">upload</span></code> 的方法。这些注册和上传包的方式 <strong>强烈不推荐</strong>，因为在某些 Python 版本中，这些方法可能会使用明文 HTTP 或未验证的 HTTPS 连接，从而在传输过程中让你的用户名和密码受到拦截。</p>
</div>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>PyPI 使用的 reStructuredText 解析器 <strong>不是</strong> Sphinx！此外，为了确保用户安全，某些类型的 URL 和指令被禁止或会被删除（例如 <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">raw::</span></code>  指令）。 <strong>在</strong> 尝试上传你的分发包之前，你应该检查在 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 中提供的简短描述和长描述是否有效。你可以通过运行以下命令检查包文件：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine<span class="w"> </span>check<span class="w"> </span>dist/*
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--33-input--2" name="tab-set--33" type="radio"><label class="tab-label" for="tab-set--33-input--2">英文</label><div class="tab-content docutils container">
<p>When you ran the command to create your distribution, a new directory <code class="docutils literal notranslate"><span class="pre">dist/</span></code>
was created under your project's root directory. That's where you'll find your
distribution file(s) to upload.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>These files are only created when you run the command to create your
distribution. This means that any time you change the source of your project
or the configuration in your <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> file, you will need to rebuild
these files again before you can distribute the changes to PyPI.</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Before releasing on main PyPI repo, you might prefer
training with the <a class="reference external" href="https://test.pypi.org/">PyPI test site</a> which
is cleaned on a semi regular basis. See <a class="reference internal" href="using-testpypi.html#using-test-pypi"><span class="std std-ref">使用 TestPyPI</span></a> on
how to setup your configuration in order to use it.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>In other resources you may encounter references to using
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">register</span></code> and <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">upload</span></code>. These methods
of registering and uploading a package are <strong>strongly discouraged</strong> as it may
use a plaintext HTTP or unverified HTTPS connection on some Python versions,
allowing your username and password to be intercepted during transmission.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>The reStructuredText parser used on PyPI is <strong>not</strong> Sphinx!
Furthermore, to ensure safety of all users, certain kinds of URLs and
directives are forbidden or stripped out (e.g., the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">raw::</span></code>
directive). <strong>Before</strong> trying to upload your distribution, you should check
to see if your brief / long descriptions provided in <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> are
valid.  You can do this by running <a class="reference internal" href="index.html"><span class="doc">twine check</span></a> on
your package files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine<span class="w"> </span>check<span class="w"> </span>dist/*
</pre></div>
</div>
</div>
</div>
</div>
<section id="id40">
<h3>创建帐户<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h3>
<p><strong>Create an account</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--34-input--1" name="tab-set--34" type="radio"><label class="tab-label" for="tab-set--34-input--1">中文</label><div class="tab-content docutils container">
<p>首先，你需要一个 <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> 用户账户。你可以通过 <a class="reference external" href="https://pypi.org/account/register/">PyPI 网站上的注册表单</a> 创建一个账户。</p>
<p>接下来，你需要创建一个 PyPI <a class="reference external" href="https://pypi.org/help/#apitoken">API 令牌</a> 以便能够安全地上传你的项目。</p>
<p>访问 <a class="reference external" href="https://pypi.org/manage/account/#api-tokens">https://pypi.org/manage/account/#api-tokens</a> 并创建一个新的 <a class="reference external" href="https://pypi.org/help/#apitoken">API 令牌</a> ；不要将其范围限制为某个特定项目，因为你正在创建一个新的项目。</p>
<p><strong>在复制和保存令牌之前不要关闭页面——令牌仅显示一次，无法再次查看。</strong></p>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>为避免每次上传时都需要复制和粘贴令牌，你可以创建一个 <code class="file docutils literal notranslate"><span class="pre">$HOME/.pypirc</span></code> 文件：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[pypi]
username = __token__
password = &lt;令牌值，包括 `pypi-` 前缀&gt;
</pre></div>
</div>
<p><strong>请注意，这会将你的令牌以明文方式存储。</strong></p>
<p>有关更多详细信息，请参阅 <code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code> 的 <a class="reference internal" href="../specifications/pypirc.html#pypirc"><span class="std std-ref">规范</span></a>。</p>
</div>
</div>
<input class="tab-input" id="tab-set--34-input--2" name="tab-set--34" type="radio"><label class="tab-label" for="tab-set--34-input--2">英文</label><div class="tab-content docutils container">
<p>First, you need a <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> user account. You
can create an account
<a class="reference external" href="https://pypi.org/account/register/">using the form on the PyPI website</a>.</p>
<p>Now you'll create a PyPI <a class="reference external" href="https://pypi.org/help/#apitoken">API token</a> so you will be able to securely upload
your project.</p>
<p>Go to <a class="reference external" href="https://pypi.org/manage/account/#api-tokens">https://pypi.org/manage/account/#api-tokens</a> and create a new
<a class="reference external" href="https://pypi.org/help/#apitoken">API token</a>; don't limit its scope to a particular project, since you
are creating a new project.</p>
<p><strong>Don't close the page until you have copied and saved the token — you
won't see that token again.</strong></p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>To avoid having to copy and paste the token every time you
upload, you can create a <code class="file docutils literal notranslate"><span class="pre">$HOME/.pypirc</span></code> file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[pypi]
username = __token__
password = &lt;the token value, including the `pypi-` prefix&gt;
</pre></div>
</div>
<p><strong>Be aware that this stores your token in plaintext.</strong></p>
<p>For more details, see the <a class="reference internal" href="../specifications/pypirc.html#pypirc"><span class="std std-ref">specification</span></a> for <code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code>.</p>
</div>
</div>
</div>
</section>
<section id="id42">
<h3>上传您的分发<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h3>
<p><strong>Upload your distributions</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--35-input--1" name="tab-set--35" type="radio"><label class="tab-label" for="tab-set--35-input--1">中文</label><div class="tab-content docutils container">
<p>一旦你拥有了一个账户，你可以使用 <a class="reference internal" href="../key_projects.html#twine"><span class="std std-ref">twine</span></a> 将你的分发包上传到 <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a>。</p>
<p>上传发布的过程对于是否已经在 PyPI 上存在该项目是相同的——如果项目尚不存在，它将在第一次上传发布时自动创建。</p>
<p>对于第二次及之后的发布，PyPI 只要求新发布的版本号与任何先前的版本不同。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine<span class="w"> </span>upload<span class="w"> </span>dist/*
</pre></div>
</div>
<p>你可以通过访问网址 <code class="docutils literal notranslate"><span class="pre">https://pypi.org/project/&lt;sampleproject&gt;</span></code> 来查看你的包是否已成功上传，其中 <code class="docutils literal notranslate"><span class="pre">sampleproject</span></code> 是你上传的项目名称。可能需要一两分钟，项目才会出现在网站上。</p>
</div>
<input class="tab-input" id="tab-set--35-input--2" name="tab-set--35" type="radio"><label class="tab-label" for="tab-set--35-input--2">英文</label><div class="tab-content docutils container">
<p>Once you have an account you can upload your distributions to
<a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> using <a class="reference internal" href="../key_projects.html#twine"><span class="std std-ref">twine</span></a>.</p>
<p>The process for uploading a release is the same regardless of whether
or not the project already exists on PyPI - if it doesn't exist yet,
it will be automatically created when the first release is uploaded.</p>
<p>For the second and subsequent releases, PyPI only requires that the
version number of the new release differ from any previous releases.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine<span class="w"> </span>upload<span class="w"> </span>dist/*
</pre></div>
</div>
<p>You can see if your package has successfully uploaded by navigating to the URL
<code class="docutils literal notranslate"><span class="pre">https://pypi.org/project/&lt;sampleproject&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">sampleproject</span></code> is
the name of your project that you uploaded. It may take a minute or two for
your project to appear on the site.</p>
</div>
</div>
<hr class="docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id43" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id4">2</a>)</span>
<p>Depending on your platform, this may require root or Administrator
access. <a class="reference internal" href="../key_projects.html#pip"><span class="std std-ref">pip</span></a> is currently considering changing this by <a class="reference external" href="https://github.com/pypa/pip/issues/1668">making user
installs the default behavior</a>.</p>
</aside>
</aside>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="dropping-older-python-versions.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">放弃对旧版 Python 的支持</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="writing-pyproject-toml.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">编写你的 <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2013–2020, PyPA
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2024 年 11 月 15 日</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">打包和分发项目</a><ul>
<li><a class="reference internal" href="#id2">打包和分发的要求</a></li>
<li><a class="reference internal" href="#id5">配置您的项目</a><ul>
<li><a class="reference internal" href="#id6">初始文件</a><ul>
<li><a class="reference internal" href="#setup-py">setup.py</a></li>
<li><a class="reference internal" href="#setup-cfg">setup.cfg</a></li>
<li><a class="reference internal" href="#readme-rst-readme-md">README.rst / README.md</a></li>
<li><a class="reference internal" href="#manifest-in">MANIFEST.in</a></li>
<li><a class="reference internal" href="#license-txt">LICENSE.txt</a></li>
<li><a class="reference internal" href="#id24">&lt;您的包&gt;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setup">setup() 参数</a><ul>
<li><a class="reference internal" href="#packages"><code class="docutils literal notranslate"><span class="pre">packages</span></code></a></li>
<li><a class="reference internal" href="#py-modules"><code class="docutils literal notranslate"><span class="pre">py_modules</span></code></a></li>
<li><a class="reference internal" href="#install-requires"><code class="docutils literal notranslate"><span class="pre">install_requires</span></code></a></li>
<li><a class="reference internal" href="#package-data"><code class="docutils literal notranslate"><span class="pre">package_data</span></code></a></li>
<li><a class="reference internal" href="#data-files"><code class="docutils literal notranslate"><span class="pre">data_files</span></code></a></li>
<li><a class="reference internal" href="#scripts"><code class="docutils literal notranslate"><span class="pre">scripts</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id34">选择版本控制方案</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id35">在“开发模式”下工作</a></li>
<li><a class="reference internal" href="#packaging-your-project">打包您的项目</a><ul>
<li><a class="reference internal" href="#id37">源代码分发</a></li>
<li><a class="reference internal" href="#wheels">Wheels</a><ul>
<li><a class="reference internal" href="#python-wheels">纯 Python Wheels</a></li>
<li><a class="reference internal" href="#platform-wheels">平台 Wheels</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#pypi">将您的项目上传到 PyPI</a><ul>
<li><a class="reference internal" href="#id40">创建帐户</a></li>
<li><a class="reference internal" href="#id42">上传您的分发</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=7d86a446"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=cb5fb026"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    </body>
</html>