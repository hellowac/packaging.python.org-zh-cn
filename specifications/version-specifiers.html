<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="next" title="依赖说明符" href="dependency-specifiers.html" /><link rel="prev" title="核心元数据规范" href="core-metadata.html" />

    <link rel="shortcut icon" href="../_static/py.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>版本标识符 - Python Packaging User Guide</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Python Packaging User Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Python Packaging User Guide</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow.html">打包流程</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">教程</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/installing-packages.html">安装软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/managing-dependencies.html">管理依赖项</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/packaging-projects.html">打包Python项目</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">指南</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 指南</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-install.html">安装</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 安装</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-pip-and-virtual-environments.html">使用 pip 和 venv 在虚拟环境中安装软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-virtualenv.html">使用虚拟环境安装包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-stand-alone-command-line-tools.html">安装独立的命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-linux-tools.html">使用 Linux 包管理器安装 pip/setuptools/wheel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-scientific-packages.html">安装科学软件包</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-build-and-publish.html">构建和发布</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 构建和发布</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/writing-pyproject-toml.html">编写你的 <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/distributing-packages-using-setuptools.html">打包和分发项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/dropping-older-python-versions.html">放弃对旧版 Python 的支持</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/packaging-binary-extensions.html">打包二进制扩展</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/packaging-namespace-packages.html">打包命名空间包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-command-line-tools.html">创建和打包命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-and-discovering-plugins.html">创建和发现插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-testpypi.html">使用 TestPyPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/making-a-pypi-friendly-readme.html">制作适合 PyPI 的 README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">使用 GitHub Actions CI/CD 工作流发布软件包分发版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/modernize-setup-py-project.html">如何使基于 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 的项目现代化？</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-hosting.html">托管</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 托管</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/index-mirrors-and-caches.html">包索引镜像和缓存</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/hosting-your-own-index.html">托管您自己的简单存储库</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/tool-recommendations.html">工具推荐</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/analyzing-pypi-package-downloads.html">分析 PyPI 软件包下载</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discussions/index.html">讨论</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 讨论</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discussions/versioning.html">版本控制</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/deploying-python-applications.html">部署 Python 应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/pip-vs-easy-install.html">pip vs easy_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/install-requires-vs-requirements.html">install_requires 与需求文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/distribution-package-vs-import-package.html">分发包与导入包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/package-formats.html">软件包格式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/src-layout-vs-flat-layout.html">src 布局与平面布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/setup-py-deprecated.html"><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 已被弃用吗？</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/single-source-version.html">单一来源项目版本</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">PyPA 规范</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of PyPA 规范</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="section-distribution-metadata.html">包分发元数据</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 包分发元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="name-normalization.html">名称和规范化</a></li>
<li class="toctree-l3"><a class="reference internal" href="core-metadata.html">核心元数据规范</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">版本标识符</a></li>
<li class="toctree-l3"><a class="reference internal" href="dependency-specifiers.html">依赖说明符</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyproject-toml.html"><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> 规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="inline-script-metadata.html">内联脚本元数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-compatibility-tags.html">平台兼容性标签</a></li>
<li class="toctree-l3"><a class="reference internal" href="well-known-project-urls.html">元数据中的知名项目 URL</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-installation-metadata.html">包安装元数据</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 包安装元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="recording-installed-packages.html">记录已安装的项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="entry-points.html">入口点规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="direct-url.html">记录已安装发行版的直接 URL 来源</a></li>
<li class="toctree-l3"><a class="reference internal" href="direct-url-data-structure.html">直接 URL 数据结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtual-environments.html">Python 虚拟环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="externally-managed-environments.html">外部管理环境</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-distribution-formats.html">包分发文件格式</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 包分发文件格式</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="source-distribution-format.html">源分发格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="binary-distribution-format.html">二进制分发格式</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-package-indices.html">包索引接口</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 包索引接口</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="pypirc.html"><code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code> 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple-repository-api.html">Simple 仓库 API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">项目摘要</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">如何获取支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">为本指南做出贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">新闻</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/specifications/version-specifiers.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="version-specifiers">
<span id="id1"></span><h1>版本标识符<a class="headerlink" href="#version-specifiers" title="Link to this heading">¶</a></h1>
<p><strong>Version specifiers</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">中文</label><div class="tab-content docutils container">
<p>该规范描述了一种用于识别 Python 软件发行版的版本并声明对特定版本的依赖关系的方案。</p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">英文</label><div class="tab-content docutils container">
<p>This specification describes a scheme for identifying versions of Python software distributions, and declaring dependencies on particular versions.</p>
</div>
</div>
<section id="id2">
<h2>定义<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p><strong>Definitions</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">中文</label><div class="tab-content docutils container">
<p>文中使用的关键字“必须”（MUST）、“不得”（MUST NOT）、“必需”（REQUIRED）、“应”（SHALL）、“不应”（SHALL NOT）、“应该”（SHOULD）、“不应该”（SHOULD NOT）、“推荐”（RECOMMENDED）、“可以”（MAY）和“可选”（OPTIONAL）应按照 <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2119.html"><strong>RFC 2119</strong></a> 中的描述进行解释。</p>
<p>“构建工具” 是旨在在开发系统上运行的自动化工具，用于生成源代码和二进制分发档案。构建工具也可以被集成工具调用，以构建作为源代码分发包（sdist）而非预构建二进制档案的软件。</p>
<p>“索引服务器” 是主动的分发注册中心，发布版本和依赖元数据，并对允许的元数据施加约束。</p>
<p>“发布工具” 是旨在在开发系统上运行的自动化工具，用于将源代码和二进制分发档案上传到索引服务器。</p>
<p>“安装工具” 是专门设计用于在部署目标上运行的集成工具，从索引服务器或其他指定位置获取源代码和二进制分发档案，并将它们部署到目标系统。</p>
<p>“自动化工具” 是一个统称，涵盖构建工具、索引服务器、发布工具、集成工具以及任何其他生成或消耗分发版本和依赖元数据的软件。</p>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">英文</label><div class="tab-content docutils container">
<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
&quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;,  &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
document are to be interpreted as described in <span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2119.html"><strong>RFC 2119</strong></a>.</p>
<p>&quot;Build tools&quot; are automated tools intended to run on development systems,
producing source and binary distribution archives. Build tools may also be
invoked by integration tools in order to build software distributed as
sdists rather than prebuilt binary archives.</p>
<p>&quot;Index servers&quot; are active distribution registries which publish version and
dependency metadata and place constraints on the permitted metadata.</p>
<p>&quot;Publication tools&quot; are automated tools intended to run on development
systems and upload source and binary distribution archives to index servers.</p>
<p>&quot;Installation tools&quot; are integration tools specifically intended to run on
deployment targets, consuming source and binary distribution archives from
an index server or other designated location and deploying them to the target
system.</p>
<p>&quot;Automated tools&quot; is a collective term covering build tools, index servers,
publication tools, integration tools and any other software that produces
or consumes distribution version and dependency metadata.</p>
</div>
</div>
</section>
<section id="version-scheme">
<span id="id3"></span><h2>版本方案<a class="headerlink" href="#version-scheme" title="Link to this heading">¶</a></h2>
<p><strong>Version scheme</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">中文</label><div class="tab-content docutils container">
<p>发行版由公共版本标识符标识，该标识符支持所有定义的版本比较操作</p>
<p>版本方案既用于描述特定发行版档案提供的发行版版本，也用于对构建或运行软件所需的依赖项版本进行限制。</p>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">英文</label><div class="tab-content docutils container">
<p>Distributions are identified by a public version identifier which supports all defined version comparison operations</p>
<p>The version scheme is used both to describe the distribution version provided by a particular distribution archive, as well as to place constraints on the version of dependencies needed in order to build or run the software.</p>
</div>
</div>
<section id="public-version-identifiers">
<span id="id4"></span><h3>公共版本标识符<a class="headerlink" href="#public-version-identifiers" title="Link to this heading">¶</a></h3>
<p><strong>Public version identifiers</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">中文</label><div class="tab-content docutils container">
<p>规范的公共版本标识符必须遵循以下方案:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[N!]N(.N)*[{a|b|rc}N][.postN][.devN]
</pre></div>
</div>
<p>公共版本标识符不得包含前导或尾随空格。</p>
<p>公共版本标识符在给定的分发包中必须是唯一的。</p>
<p>安装工具应忽略任何不符合该方案的公共版本，但必须包括以下规定的标准化步骤。当检测到不符合规范或模糊不清的版本时，安装工具可以发出警告。</p>
<p>另请参见 <a class="reference internal" href="#version-specifiers-regex"><span class="std std-ref">附录：使用正则表达式解析版本字符串</span></a>，该部分提供了一个正则表达式，用于检查是否严格符合规范格式，以及一个更宽松的正则表达式，接受可能需要后续标准化的输入。</p>
<p>公共版本标识符被分为最多五个部分：</p>
<ul class="simple">
<li><p><strong>Epoch 部分</strong>: <code class="docutils literal notranslate"><span class="pre">N!</span></code></p></li>
<li><p><strong>Release 部分</strong>: <code class="docutils literal notranslate"><span class="pre">N(.N)*</span></code></p></li>
<li><p><strong>Pre-release 部分</strong>: <code class="docutils literal notranslate"><span class="pre">{a|b|rc}N</span></code></p></li>
<li><p><strong>Post-release 部分</strong>: <code class="docutils literal notranslate"><span class="pre">.postN</span></code></p></li>
<li><p><strong>Development release 部分</strong>: <code class="docutils literal notranslate"><span class="pre">.devN</span></code></p></li>
</ul>
<p>每个给定的版本都将是“最终版本”、“预发布版本”、“后发布版本”或“开发版本”，这些定义在以下各节中。</p>
<p>所有数字组件必须是非负整数，以 ASCII 数字序列表示。</p>
<p>所有数字组件必须根据其数字值来解释和排序，而不是作为文本字符串。</p>
<p>所有数字组件可以是零。除了“Release 部分”下述描述的情况外，零作为数字组件没有特别的意义，仅作为版本排序中的最低可能值。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>该方案允许一些难以阅读的版本标识符，以更好地适应现有公共和私人 Python 项目中广泛使用的版本控制实践。</p>
<p>因此，尽管规范技术上允许某些版本控制实践，但强烈不推荐新项目采用这些做法。在这种情况下，相关细节将在以下各节中指出。</p>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">英文</label><div class="tab-content docutils container">
<p>The canonical public version identifiers MUST comply with the following
scheme:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[N!]N(.N)*[{a|b|rc}N][.postN][.devN]
</pre></div>
</div>
<p>Public version identifiers MUST NOT include leading or trailing whitespace.</p>
<p>Public version identifiers MUST be unique within a given distribution.</p>
<p>Installation tools SHOULD ignore any public versions which do not comply with
this scheme but MUST also include the normalizations specified below.
Installation tools MAY warn the user when non-compliant or ambiguous versions
are detected.</p>
<p>See also <a class="reference internal" href="#version-specifiers-regex"><span class="std std-ref">附录：使用正则表达式解析版本字符串</span></a> which provides a regular
expression to check strict conformance with the canonical format, as
well as a more permissive regular expression accepting inputs that may
require subsequent normalization.</p>
<p>Public version identifiers are separated into up to five segments:</p>
<ul class="simple">
<li><p>Epoch segment: <code class="docutils literal notranslate"><span class="pre">N!</span></code></p></li>
<li><p>Release segment: <code class="docutils literal notranslate"><span class="pre">N(.N)*</span></code></p></li>
<li><p>Pre-release segment: <code class="docutils literal notranslate"><span class="pre">{a|b|rc}N</span></code></p></li>
<li><p>Post-release segment: <code class="docutils literal notranslate"><span class="pre">.postN</span></code></p></li>
<li><p>Development release segment: <code class="docutils literal notranslate"><span class="pre">.devN</span></code></p></li>
</ul>
<p>Any given release will be a &quot;final release&quot;, &quot;pre-release&quot;, &quot;post-release&quot; or
&quot;developmental release&quot; as defined in the following sections.</p>
<p>All numeric components MUST be non-negative integers represented as sequences
of ASCII digits.</p>
<p>All numeric components MUST be interpreted and ordered according to their
numeric value, not as text strings.</p>
<p>All numeric components MAY be zero. Except as described below for the
release segment, a numeric component of zero has no special significance
aside from always being the lowest possible value in the version ordering.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Some hard to read version identifiers are permitted by this scheme in
order to better accommodate the wide range of versioning practices
across existing public and private Python projects.</p>
<p>Accordingly, some of the versioning practices which are technically
permitted by the specification are strongly discouraged for new projects. Where
this is the case, the relevant details are noted in the following
sections.</p>
</div>
</div>
</div>
</section>
<section id="local-version-identifiers">
<span id="id5"></span><h3>本地版本标识符<a class="headerlink" href="#local-version-identifiers" title="Link to this heading">¶</a></h3>
<p><strong>Local version identifiers</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">中文</label><div class="tab-content docutils container">
<p>本地版本标识符必须遵循以下方案:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;公共版本标识符&gt;[+&lt;本地版本标签&gt;]
</pre></div>
</div>
<p>它们由一个正常的公共版本标识符（如前一节所定义）和一个任意的“本地版本标签”组成，二者通过加号连接。本地版本标签没有指定的语义，但会有一些语法限制。</p>
<p>本地版本标识符用于表示与上游项目完全兼容的修补版本（如果适用，亦包括 ABI 兼容）。例如，这些标识符可以由应用程序开发人员和系统集成商创建，通常是在升级到新的上游版本会对应用程序或其他集成系统（如 Linux 发行版）造成破坏时，应用特定的回溯修复来实现。</p>
<p>本地版本标签的引入使得可以区分上游版本和下游集成商可能修改过的重构版本。使用本地版本标识符不会影响发布类型，但在源代码分发中，它表示该版本的代码可能与对应的上游发布版本不同。</p>
<p>为了确保本地版本标识符能够方便地作为文件名和 URL 的一部分，并避免在十六进制哈希表示中出现格式不一致，本地版本标签必须仅限于以下字符集：</p>
<ul class="simple">
<li><p>ASCII 字母（<code class="docutils literal notranslate"><span class="pre">[a-zA-Z]</span></code>）</p></li>
<li><p>ASCII 数字（<code class="docutils literal notranslate"><span class="pre">[0-9]</span></code>）</p></li>
<li><p>句点（<code class="docutils literal notranslate"><span class="pre">.</span></code>）</p></li>
</ul>
<p>本地版本标签必须以 ASCII 字母或数字开头和结尾。</p>
<p>本地版本的比较和排序将分别考虑本地版本的每个部分（通过句点“.”分隔）。如果一个部分完全由 ASCII 数字组成，则该部分在比较时应视为整数；如果一个部分包含任何 ASCII 字母，则该部分应按字典顺序（不区分大小写）进行比较。当比较数字部分和字母部分时，数字部分总是被认为大于字母部分。此外，拥有更多部分的本地版本总是会被认为大于部分较少的版本，只要较短版本的部分与较长版本的开始部分完全匹配。</p>
<p>“上游项目” 是指定义自己公共版本的项目。“下游项目”是指跟踪并重新分发上游项目的项目，可能会从上游项目的后续版本中回溯安全和错误修复。</p>
<p>当发布上游项目到公共索引服务器时，本地版本标识符不应使用，但可以用于标识直接从项目源代码创建的私有构建。在发布与上游项目的公共版本标识符所标识的版本兼容的版本时，下游项目应使用本地版本标识符，但该版本包含额外的修改（如修复 bug）。由于 Python 包索引（PyPI）仅用于索引和托管上游项目，因此它必须不允许使用本地版本标识符。</p>
<p>使用本地版本标识符的源代码分发应提供 <code class="docutils literal notranslate"><span class="pre">python.integrator</span></code> 扩展元数据（如 <span class="target" id="index-2"></span><a class="pep reference external" href="https://peps.python.org/pep-0459/"><strong>PEP 459</strong></a> 所定义）。</p>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">英文</label><div class="tab-content docutils container">
<p>Local version identifiers MUST comply with the following scheme:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;public version identifier&gt;[+&lt;local version label&gt;]
</pre></div>
</div>
<p>They consist of a normal public version identifier (as defined in the
previous section), along with an arbitrary &quot;local version label&quot;, separated
from the public version identifier by a plus. Local version labels have
no specific semantics assigned, but some syntactic restrictions are imposed.</p>
<p>Local version identifiers are used to denote fully API (and, if applicable,
ABI) compatible patched versions of upstream projects. For example, these
may be created by application developers and system integrators by applying
specific backported bug fixes when upgrading to a new upstream release would
be too disruptive to the application or other integrated system (such as a
Linux distribution).</p>
<p>The inclusion of the local version label makes it possible to differentiate
upstream releases from potentially altered rebuilds by downstream
integrators. The use of a local version identifier does not affect the kind
of a release but, when applied to a source distribution, does indicate that
it may not contain the exact same code as the corresponding upstream release.</p>
<p>To ensure local version identifiers can be readily incorporated as part of
filenames and URLs, and to avoid formatting inconsistencies in hexadecimal
hash representations, local version labels MUST be limited to the following
set of permitted characters:</p>
<ul class="simple">
<li><p>ASCII letters (<code class="docutils literal notranslate"><span class="pre">[a-zA-Z]</span></code>)</p></li>
<li><p>ASCII digits (<code class="docutils literal notranslate"><span class="pre">[0-9]</span></code>)</p></li>
<li><p>periods (<code class="docutils literal notranslate"><span class="pre">.</span></code>)</p></li>
</ul>
<p>Local version labels MUST start and end with an ASCII letter or digit.</p>
<p>Comparison and ordering of local versions considers each segment of the local
version (divided by a <code class="docutils literal notranslate"><span class="pre">.</span></code>) separately. If a segment consists entirely of
ASCII digits then that section should be considered an integer for comparison
purposes and if a segment contains any ASCII letters then that segment is
compared lexicographically with case insensitivity. When comparing a numeric
and lexicographic segment, the numeric section always compares as greater than
the lexicographic segment. Additionally a local version with a great number of
segments will always compare as greater than a local version with fewer
segments, as long as the shorter local version's segments match the beginning
of the longer local version's segments exactly.</p>
<p>An &quot;upstream project&quot; is a project that defines its own public versions. A
&quot;downstream project&quot; is one which tracks and redistributes an upstream project,
potentially backporting security and bug fixes from later versions of the
upstream project.</p>
<p>Local version identifiers SHOULD NOT be used when publishing upstream
projects to a public index server, but MAY be used to identify private
builds created directly from the project source. Local
version identifiers SHOULD be used by downstream projects when releasing a
version that is API compatible with the version of the upstream project
identified by the public version identifier, but contains additional changes
(such as bug fixes). As the Python Package Index is intended solely for
indexing and hosting upstream projects, it MUST NOT allow the use of local
version identifiers.</p>
<p>Source distributions using a local version identifier SHOULD provide the
<code class="docutils literal notranslate"><span class="pre">python.integrator</span></code> extension metadata (as defined in <span class="target" id="index-3"></span><a class="pep reference external" href="https://peps.python.org/pep-0459/"><strong>PEP 459</strong></a>).</p>
</div>
</div>
</section>
<section id="id6">
<h3>最终版本<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p><strong>Final releases</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">中文</label><div class="tab-content docutils container">
<p>仅由发布段和可选的纪元标识符组成的版本标识符称为“最终版本”。</p>
<p>发布段由一个或多个非负整数值组成，值之间用句点分隔:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>N(.N)*
</pre></div>
</div>
<p>项目中的最终版本必须以一致递增的方式编号，否则自动化工具将无法正确地进行升级。</p>
<p>发布段的比较和排序依次考虑发布段中每个组成部分的数值。在比较具有不同组成部分数目的发布段时，较短的段将根据需要使用额外的零进行填充。</p>
<p>虽然在此方案下允许在第一个部分后面添加任何数量的额外组成部分，但最常见的变体是使用两个组成部分（&quot;major.minor&quot;）或三个组成部分（&quot;major.minor.micro&quot;）。</p>
<p>例如:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.9
0.9.1
0.9.2
...
0.9.10
0.9.11
1.0
1.0.1
1.1
2.0
2.0.1
...
</pre></div>
</div>
<p>一个发布系列是指任何一组具有共同前缀的最终发布版本号。例如，<code class="xref any docutils literal notranslate"><span class="pre">3.3.1</span></code>、<code class="xref any docutils literal notranslate"><span class="pre">3.3.5</span></code> 和 <code class="xref any docutils literal notranslate"><span class="pre">3.3.9.45</span></code> 都属于 <code class="xref any docutils literal notranslate"><span class="pre">3.3</span></code> 发布系列。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="docutils literal notranslate"><span class="pre">X.Y</span></code> 和 <code class="docutils literal notranslate"><span class="pre">X.Y.0</span></code> 并不被视为不同的版本号，因为发布段比较规则隐式地将两个组件形式的版本扩展为 <code class="docutils literal notranslate"><span class="pre">X.Y.0</span></code>，当与包含三个组件的任何版本进行比较时。</p>
</div>
<p>也允许基于日期的发布段。以下是一个使用发布日期的年份和月份的日期型版本方案示例:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2012.4
2012.7
2012.10
2013.1
2013.6
...
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">英文</label><div class="tab-content docutils container">
<p>A version identifier that consists solely of a release segment and optionally
an epoch identifier is termed a &quot;final release&quot;.</p>
<p>The release segment consists of one or more non-negative integer
values, separated by dots:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>N(.N)*
</pre></div>
</div>
<p>Final releases within a project MUST be numbered in a consistently
increasing fashion, otherwise automated tools will not be able to upgrade
them correctly.</p>
<p>Comparison and ordering of release segments considers the numeric value
of each component of the release segment in turn. When comparing release
segments with different numbers of components, the shorter segment is
padded out with additional zeros as necessary.</p>
<p>While any number of additional components after the first are permitted
under this scheme, the most common variants are to use two components
(&quot;major.minor&quot;) or three components (&quot;major.minor.micro&quot;).</p>
<p>For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.9
0.9.1
0.9.2
...
0.9.10
0.9.11
1.0
1.0.1
1.1
2.0
2.0.1
...
</pre></div>
</div>
<p>A release series is any set of final release numbers that start with a
common prefix. For example, <code class="docutils literal notranslate"><span class="pre">3.3.1</span></code>, <code class="docutils literal notranslate"><span class="pre">3.3.5</span></code> and <code class="docutils literal notranslate"><span class="pre">3.3.9.45</span></code> are all
part of the <code class="docutils literal notranslate"><span class="pre">3.3</span></code> release series.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="docutils literal notranslate"><span class="pre">X.Y</span></code> and <code class="docutils literal notranslate"><span class="pre">X.Y.0</span></code> are not considered distinct release numbers, as
the release segment comparison rules implicit expand the two component
form to <code class="docutils literal notranslate"><span class="pre">X.Y.0</span></code> when comparing it to any release segment that includes
three components.</p>
</div>
<p>Date based release segments are also permitted. An example of a date based
release scheme using the year and month of the release:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2012.4
2012.7
2012.10
2013.1
2013.6
...
</pre></div>
</div>
</div>
</div>
</section>
<section id="pre-release-versions">
<span id="id7"></span><h3>预发布<a class="headerlink" href="#pre-release-versions" title="Link to this heading">¶</a></h3>
<p><strong>Pre-releases</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">中文</label><div class="tab-content docutils container">
<p>一些项目使用“alpha、beta、发布候选”预发布周期，在最终发布之前支持用户进行测试。</p>
<p>如果作为项目开发周期的一部分使用这些预发布版本，它们通过在版本标识符中包含预发布段来表示:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.YaN   # Alpha 版本
X.YbN   # Beta 版本
X.YrcN  # 发布候选版本
X.Y     # 最终发布版本
</pre></div>
</div>
<p>仅由发布段和预发布段组成的版本标识符称为“预发布版本”。</p>
<p>预发布段由预发布阶段的字母标识符以及一个非负整数值组成。给定发布的预发布版本按阶段（alpha、beta、发布候选）顺序排序，然后在该阶段内按数字成分排序。</p>
<p>安装工具可以接受相同发布段的 <code class="docutils literal notranslate"><span class="pre">c</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rc</span></code> 版本，以处理一些现有的遗留版本。</p>
<p>安装工具应将 <code class="docutils literal notranslate"><span class="pre">c</span></code> 版本解释为与 <code class="docutils literal notranslate"><span class="pre">rc</span></code> 版本等效（即，<code class="docutils literal notranslate"><span class="pre">c1</span></code> 表示与 <code class="docutils literal notranslate"><span class="pre">rc1</span></code> 相同的版本）。</p>
<p>构建工具、发布工具和索引服务器应不允许为相同的发布段创建 <code class="docutils literal notranslate"><span class="pre">rc</span></code> 和 <code class="docutils literal notranslate"><span class="pre">c</span></code> 版本。</p>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">英文</label><div class="tab-content docutils container">
<p>Some projects use an &quot;alpha, beta, release candidate&quot; pre-release cycle to
support testing by their users prior to a final release.</p>
<p>If used as part of a project's development cycle, these pre-releases are
indicated by including a pre-release segment in the version identifier:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.YaN   # Alpha release
X.YbN   # Beta release
X.YrcN  # Release Candidate
X.Y     # Final release
</pre></div>
</div>
<p>A version identifier that consists solely of a release segment and a
pre-release segment is termed a &quot;pre-release&quot;.</p>
<p>The pre-release segment consists of an alphabetical identifier for the
pre-release phase, along with a non-negative integer value. Pre-releases for
a given release are ordered first by phase (alpha, beta, release candidate)
and then by the numerical component within that phase.</p>
<p>Installation tools MAY accept both <code class="docutils literal notranslate"><span class="pre">c</span></code> and <code class="docutils literal notranslate"><span class="pre">rc</span></code> releases for a common
release segment in order to handle some existing legacy distributions.</p>
<p>Installation tools SHOULD interpret <code class="docutils literal notranslate"><span class="pre">c</span></code> versions as being equivalent to
<code class="docutils literal notranslate"><span class="pre">rc</span></code> versions (that is, <code class="docutils literal notranslate"><span class="pre">c1</span></code> indicates the same version as <code class="docutils literal notranslate"><span class="pre">rc1</span></code>).</p>
<p>Build tools, publication tools and index servers SHOULD disallow the creation
of both <code class="docutils literal notranslate"><span class="pre">rc</span></code> and <code class="docutils literal notranslate"><span class="pre">c</span></code> releases for a common release segment.</p>
</div>
</div>
</section>
<section id="id8">
<h3>发布后<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<p><strong>Post-releases</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">中文</label><div class="tab-content docutils container">
<p>一些项目使用后发布版本来解决最终发布中的轻微错误，这些错误不会影响分发的软件（例如，修正发布说明中的错误）。</p>
<p>如果作为项目开发周期的一部分使用这些后发布版本，它们通过在版本标识符中包含后发布段来表示:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.Y.postN    # 后发布版本
</pre></div>
</div>
<p>包含后发布段但不包含开发版本段的版本标识符称为“后发布版本”。</p>
<p>后发布段由字符串 <code class="docutils literal notranslate"><span class="pre">.post</span></code> 和一个非负整数值组成。后发布版本按其数字成分排序，紧跟相应的发布版本之后，并排在任何后续版本之前。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>强烈不建议使用后发布版本发布包含实际 bug 修复的维护版本。通常，更好的做法是使用更长的版本号，并为每个维护版本递增最后一个组件。</p>
</div>
<p>后发布版本也可以用于预发布版本:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.YaN.postM   # Alpha 版本的后发布
X.YbN.postM   # Beta 版本的后发布
X.YrcN.postM  # 发布候选版本的后发布
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>强烈不建议创建预发布版本的后发布版本，因为这使得版本标识符对人类读者而言难以解析。通常，创建一个新的预发布版本，通过递增数字组件来表示，会更加清晰。</p>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">英文</label><div class="tab-content docutils container">
<p>Some projects use post-releases to address minor errors in a final release
that do not affect the distributed software (for example, correcting an error
in the release notes).</p>
<p>If used as part of a project's development cycle, these post-releases are
indicated by including a post-release segment in the version identifier:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.Y.postN    # Post-release
</pre></div>
</div>
<p>A version identifier that includes a post-release segment without a
developmental release segment is termed a &quot;post-release&quot;.</p>
<p>The post-release segment consists of the string <code class="docutils literal notranslate"><span class="pre">.post</span></code>, followed by a
non-negative integer value. Post-releases are ordered by their
numerical component, immediately following the corresponding release,
and ahead of any subsequent release.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The use of post-releases to publish maintenance releases containing
actual bug fixes is strongly discouraged. In general, it is better
to use a longer release number and increment the final component
for each maintenance release.</p>
</div>
<p>Post-releases are also permitted for pre-releases:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.YaN.postM   # Post-release of an alpha release
X.YbN.postM   # Post-release of a beta release
X.YrcN.postM  # Post-release of a release candidate
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Creating post-releases of pre-releases is strongly discouraged, as
it makes the version identifier difficult to parse for human readers.
In general, it is substantially clearer to simply create a new
pre-release by incrementing the numeric component.</p>
</div>
</div>
</div>
</section>
<section id="id9">
<h3>开发版本<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<p><strong>Developmental releases</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">中文</label><div class="tab-content docutils container">
<p>一些项目会定期进行开发版本发布，系统打包者（尤其是 Linux 发行版的打包者）可能希望直接从源代码控制中创建早期版本，这些版本不会与后续的项目版本冲突。</p>
<p>如果作为项目开发周期的一部分使用这些开发版本，它们通过在版本标识符中包含开发版本段来表示:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.Y.devN    # 开发版本
</pre></div>
</div>
<p>包含开发版本段的版本标识符称为“开发版本”。</p>
<p>开发版本段由字符串 <code class="docutils literal notranslate"><span class="pre">.dev</span></code> 和一个非负整数值组成。开发版本按其数字成分排序，紧跟相应的发布版本之前（并且排在任何具有相同发布段的预发布版本之前），并排在任何之前发布的版本（包括任何后发布版本）之后。</p>
<p>开发版本也可以用于预发布和后发布版本:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.YaN.devM       # Alpha 版本的开发版本
X.YbN.devM       # Beta 版本的开发版本
X.YrcN.devM      # 发布候选版本的开发版本
X.Y.postN.devM   # 后发布版本的开发版本
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>虽然它们可能对持续集成（CI）有用，但强烈不建议将预发布版本的开发版本发布到通用的公共索引服务器，因为这使得版本标识符对人类读者难以解析。如果需要发布此类版本，创建一个新的预发布版本，通过递增数字组件表示，会更加清晰。</p>
<p>预发布版本的开发版本也强烈不推荐，但对于那些使用后发布标记进行完整维护发布的项目（这些发布可能包含代码更改）而言，使用开发版本可能是适当的。</p>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">英文</label><div class="tab-content docutils container">
<p>Some projects make regular developmental releases, and system packagers
(especially for Linux distributions) may wish to create early releases
directly from source control which do not conflict with later project
releases.</p>
<p>If used as part of a project's development cycle, these developmental
releases are indicated by including a developmental release segment in the
version identifier:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.Y.devN    # Developmental release
</pre></div>
</div>
<p>A version identifier that includes a developmental release segment is
termed a &quot;developmental release&quot;.</p>
<p>The developmental release segment consists of the string <code class="docutils literal notranslate"><span class="pre">.dev</span></code>,
followed by a non-negative integer value. Developmental releases are ordered
by their numerical component, immediately before the corresponding release
(and before any pre-releases with the same release segment), and following
any previous release (including any post-releases).</p>
<p>Developmental releases are also permitted for pre-releases and
post-releases:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X.YaN.devM       # Developmental release of an alpha release
X.YbN.devM       # Developmental release of a beta release
X.YrcN.devM      # Developmental release of a release candidate
X.Y.postN.devM   # Developmental release of a post-release
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>While they may be useful for continuous integration purposes, publishing
developmental releases of pre-releases to general purpose public index
servers is strongly discouraged, as it makes the version identifier
difficult to parse for human readers. If such a release needs to be
published, it is substantially clearer to instead create a new
pre-release by incrementing the numeric component.</p>
<p>Developmental releases of post-releases are also strongly discouraged,
but they may be appropriate for projects which use the post-release
notation for full maintenance releases which may include code changes.</p>
</div>
</div>
</div>
</section>
<section id="id10">
<h3>版本时代<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<p><strong>Version epochs</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--1">中文</label><div class="tab-content docutils container">
<p>如果包含在版本标识符中，纪元（epoch）出现在所有其他组件之前，并通过感叹号与发布段分隔:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>E!X.Y  # 带有纪元的版本标识符
</pre></div>
</div>
<p>如果未显式给出纪元，则隐式纪元为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p>大多数版本标识符不会包含纪元，因为只有当项目 <em>改变</em> 了其版本编号的处理方式，以至于正常的版本排序规则会得出错误的结果时，才需要显式指定纪元。例如，如果一个项目使用基于日期的版本号（如 <code class="docutils literal notranslate"><span class="pre">2014.04</span></code>），并且想切换到语义化版本（如 <code class="docutils literal notranslate"><span class="pre">1.0</span></code>），那么使用正常的排序方案时，新版本会被识别为 <em>早于</em> 基于日期的版本:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1.0
1.1
2.0
2013.10
2014.04
</pre></div>
</div>
<p>然而，通过显式指定纪元，可以适当更改排序顺序，因为来自较晚纪元的所有版本会排在较早纪元的版本之后:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2013.10
2014.04
1!1.0
1!1.1
1!2.0
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--2">英文</label><div class="tab-content docutils container">
<p>If included in a version identifier, the epoch appears before all other
components, separated from the release segment by an exclamation mark:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>E!X.Y  # Version identifier with epoch
</pre></div>
</div>
<p>If no explicit epoch is given, the implicit epoch is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>Most version identifiers will not include an epoch, as an explicit epoch is
only needed if a project <em>changes</em> the way it handles version numbering in
a way that means the normal version ordering rules will give the wrong
answer. For example, if a project is using date based versions like
<code class="docutils literal notranslate"><span class="pre">2014.04</span></code> and would like to switch to semantic versions like <code class="docutils literal notranslate"><span class="pre">1.0</span></code>, then
the new releases would be identified as <em>older</em> than the date based releases
when using the normal sorting scheme:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1.0
1.1
2.0
2013.10
2014.04
</pre></div>
</div>
<p>However, by specifying an explicit epoch, the sort order can be changed
appropriately, as all versions from a later epoch are sorted after versions
from an earlier epoch:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2013.10
2014.04
1!1.0
1!1.1
1!2.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="version-specifiers-normalization">
<span id="id11"></span><h3>规范化<a class="headerlink" href="#version-specifiers-normalization" title="Link to this heading">¶</a></h3>
<p><strong>Normalization</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--1">中文</label><div class="tab-content docutils container">
<p>为了保持与现有版本的更好兼容性，解析版本时必须考虑一些“替代(alternative)”语法。这些语法在解析版本时必须被考虑，但它们应该“标准化”为上述定义的标准语法。</p>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--2">英文</label><div class="tab-content docutils container">
<p>In order to maintain better compatibility with existing versions there are a
number of &quot;alternative&quot; syntaxes that MUST be taken into account when parsing
versions. These syntaxes MUST be considered when parsing a version, however
they should be &quot;normalized&quot; to the standard syntax defined above.</p>
</div>
</div>
<section id="id12">
<h4>区分大小写<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<p><strong>Case sensitivity</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--1">中文</label><div class="tab-content docutils container">
<p>所有 ASCII 字母在版本中应不区分大小写，且标准形式为小写。这允许像 <code class="docutils literal notranslate"><span class="pre">1.1RC1</span></code> 这样的版本，它将被标准化为 <code class="docutils literal notranslate"><span class="pre">1.1rc1</span></code>。</p>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--2">英文</label><div class="tab-content docutils container">
<p>All ascii letters should be interpreted case insensitively within a version and the normal form is lowercase. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.1RC1</span></code> which would be normalized to <code class="docutils literal notranslate"><span class="pre">1.1rc1</span></code>.</p>
</div>
</div>
</section>
<section id="id13">
<h4>整数规范化<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h4>
<p><strong>Integer Normalization</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--1">中文</label><div class="tab-content docutils container">
<p>所有整数通过内置的 <code class="xref any docutils literal notranslate"><span class="pre">int()</span></code> 进行解释，并标准化为输出的字符串形式。这意味着整数版本 <code class="docutils literal notranslate"><span class="pre">00</span></code> 会标准化为 <code class="docutils literal notranslate"><span class="pre">0</span></code>，而 <code class="docutils literal notranslate"><span class="pre">09000</span></code> 会标准化为 <code class="docutils literal notranslate"><span class="pre">9000</span></code>。但是，这对于本地版本中的字母数字段内的整数不适用，例如 <code class="docutils literal notranslate"><span class="pre">1.0+foo0100</span></code>，因为该版本已经是标准化形式。</p>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--2">英文</label><div class="tab-content docutils container">
<p>All integers are interpreted via the <code class="docutils literal notranslate"><span class="pre">int()</span></code> built in and normalize to the string form of the output. This means that an integer version of <code class="docutils literal notranslate"><span class="pre">00</span></code> would normalize to <code class="docutils literal notranslate"><span class="pre">0</span></code> while <code class="docutils literal notranslate"><span class="pre">09000</span></code> would normalize to <code class="docutils literal notranslate"><span class="pre">9000</span></code>. This does not hold true for integers inside of an alphanumeric segment of a local version such as <code class="docutils literal notranslate"><span class="pre">1.0+foo0100</span></code> which is already in its normalized form.</p>
</div>
</div>
</section>
<section id="id14">
<h4>预发布分隔符<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<p><strong>Pre-release separators</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--1">中文</label><div class="tab-content docutils container">
<p>预发行版应允许在发布段和预发行段之间使用 <code class="docutils literal notranslate"><span class="pre">.</span></code>、 <code class="docutils literal notranslate"><span class="pre">-</span></code> 或 <code class="docutils literal notranslate"><span class="pre">_</span></code> 作为分隔符。其标准形式是没有分隔符的。这允许诸如 <code class="docutils literal notranslate"><span class="pre">1.1.a1</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1.1-a1</span></code> 的版本，它们会被标准化为 <code class="docutils literal notranslate"><span class="pre">1.1a1</span></code>。还应允许在预发行符号和数字之间使用分隔符。这允许诸如 <code class="docutils literal notranslate"><span class="pre">1.0a.1</span></code> 的版本，它会被标准化为 <code class="docutils literal notranslate"><span class="pre">1.0a1</span></code>。</p>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--2">英文</label><div class="tab-content docutils container">
<p>Pre-releases should allow a <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, or <code class="docutils literal notranslate"><span class="pre">_</span></code> separator between the release segment and the pre-release segment. The normal form for this is without a separator. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.1.a1</span></code> or <code class="docutils literal notranslate"><span class="pre">1.1-a1</span></code> which would be normalized to <code class="docutils literal notranslate"><span class="pre">1.1a1</span></code>. It should also allow a separator to be used between the pre-release signifier and the numeral. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.0a.1</span></code> which would be normalized to <code class="docutils literal notranslate"><span class="pre">1.0a1</span></code>.</p>
</div>
</div>
</section>
<section id="id15">
<h4>预发布拼写<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<p><strong>Pre-release spelling</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--14-input--1" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--1">中文</label><div class="tab-content docutils container">
<p>预发行版允许额外的拼写形式，例如将 <code class="docutils literal notranslate"><span class="pre">alpha</span></code>、<code class="docutils literal notranslate"><span class="pre">beta</span></code>、<code class="docutils literal notranslate"><span class="pre">c</span></code>、<code class="docutils literal notranslate"><span class="pre">pre</span></code> 和 <code class="docutils literal notranslate"><span class="pre">preview</span></code> 分别替换为 <code class="docutils literal notranslate"><span class="pre">a</span></code>、<code class="docutils literal notranslate"><span class="pre">b</span></code>、<code class="docutils literal notranslate"><span class="pre">rc</span></code>、<code class="docutils literal notranslate"><span class="pre">rc</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rc</span></code>。这允许诸如 <code class="docutils literal notranslate"><span class="pre">1.1alpha1</span></code>、<code class="docutils literal notranslate"><span class="pre">1.1beta2</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1.1c3</span></code> 的版本，它们会被标准化为 <code class="docutils literal notranslate"><span class="pre">1.1a1</span></code>、<code class="docutils literal notranslate"><span class="pre">1.1b2</span></code> 和 <code class="docutils literal notranslate"><span class="pre">1.1rc3</span></code>。在每种情况下，额外的拼写形式应视为与其标准形式等效。</p>
</div>
<input class="tab-input" id="tab-set--14-input--2" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--2">英文</label><div class="tab-content docutils container">
<p>Pre-releases allow the additional spellings of <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">beta</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code>, <code class="docutils literal notranslate"><span class="pre">pre</span></code>, and <code class="docutils literal notranslate"><span class="pre">preview</span></code> for <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">rc</span></code>, <code class="docutils literal notranslate"><span class="pre">rc</span></code>, and <code class="docutils literal notranslate"><span class="pre">rc</span></code> respectively. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.1alpha1</span></code>, <code class="docutils literal notranslate"><span class="pre">1.1beta2</span></code>, or <code class="docutils literal notranslate"><span class="pre">1.1c3</span></code> which normalize to <code class="docutils literal notranslate"><span class="pre">1.1a1</span></code>, <code class="docutils literal notranslate"><span class="pre">1.1b2</span></code>, and <code class="docutils literal notranslate"><span class="pre">1.1rc3</span></code>. In every case the additional spelling should be considered equivalent to their normal forms.</p>
</div>
</div>
</section>
<section id="id16">
<h4>隐式预发布编号<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h4>
<p><strong>Implicit pre-release number</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--15-input--1" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--1">中文</label><div class="tab-content docutils container">
<p>预发布版本允许省略数字，在这种情况下，数字隐式地被假定为``0``。其标准形式是显式地包含``0``。这允许版本如``1.2a``，它将标准化为``1.2a0``。</p>
</div>
<input class="tab-input" id="tab-set--15-input--2" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--2">英文</label><div class="tab-content docutils container">
<p>Pre releases allow omitting the numeral in which case it is implicitly assumed to be <code class="docutils literal notranslate"><span class="pre">0</span></code>. The normal form for this is to include the <code class="docutils literal notranslate"><span class="pre">0</span></code> explicitly. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.2a</span></code> which is normalized to <code class="docutils literal notranslate"><span class="pre">1.2a0</span></code>.</p>
</div>
</div>
</section>
<section id="id17">
<h4>发布后分隔符<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h4>
<p><strong>Post release separators</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--16-input--1" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--1">中文</label><div class="tab-content docutils container">
<p>后发布版本允许使用 <code class="docutils literal notranslate"><span class="pre">.</span></code>、 <code class="docutils literal notranslate"><span class="pre">-</span></code> 或 <code class="docutils literal notranslate"><span class="pre">_</span></code> 作为分隔符，也允许完全省略分隔符。其标准形式是使用 <code class="docutils literal notranslate"><span class="pre">.</span></code> 分隔符。这允许版本如 <code class="docutils literal notranslate"><span class="pre">1.2-post2</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1.2post2</span></code> ，它们将标准化为 <code class="docutils literal notranslate"><span class="pre">1.2.post2</span></code> 。与预发布分隔符类似，这也允许在后发布标志符和数字之间使用可选的分隔符。这允许版本如 <code class="docutils literal notranslate"><span class="pre">1.2.post-2</span></code> ，它将标准化为 <code class="docutils literal notranslate"><span class="pre">1.2.post2</span></code> 。</p>
</div>
<input class="tab-input" id="tab-set--16-input--2" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--2">英文</label><div class="tab-content docutils container">
<p>Post releases allow a <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, or <code class="docutils literal notranslate"><span class="pre">_</span></code> separator as well as omitting the separator all together. The normal form of this is with the <code class="docutils literal notranslate"><span class="pre">.</span></code> separator. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.2-post2</span></code> or <code class="docutils literal notranslate"><span class="pre">1.2post2</span></code> which normalize to <code class="docutils literal notranslate"><span class="pre">1.2.post2</span></code>. Like the pre-release separator this also allows an optional separator between the post release signifier and the numeral. This allows versions like <code class="docutils literal notranslate"><span class="pre">1.2.post-2</span></code> which would normalize to <code class="docutils literal notranslate"><span class="pre">1.2.post2</span></code>.</p>
</div>
</div>
</section>
<section id="id18">
<h4>发布后拼写<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h4>
<p><strong>Post release spelling</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--17-input--1" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--1">中文</label><div class="tab-content docutils container">
<p>后发布版本允许使用``rev``和``r``的额外拼写。这允许版本如``1.0-r4``，它将标准化为``1.0.post4``。与预发布版本类似，这些额外的拼写应被视为与其标准形式等效。</p>
</div>
<input class="tab-input" id="tab-set--17-input--2" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--2">英文</label><div class="tab-content docutils container">
<p>Post-releases allow the additional spellings of <code class="docutils literal notranslate"><span class="pre">rev</span></code> and <code class="docutils literal notranslate"><span class="pre">r</span></code>. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.0-r4</span></code> which normalizes to <code class="docutils literal notranslate"><span class="pre">1.0.post4</span></code>. As with the pre-releases the additional spellings should be considered equivalent to their normal forms.</p>
</div>
</div>
</section>
<section id="id19">
<h4>隐式发布后编号<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h4>
<p><strong>Implicit post release number</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--18-input--1" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--1">中文</label><div class="tab-content docutils container">
<p>后发布版本允许省略数字，在这种情况下，默认假设数字为 <code class="docutils literal notranslate"><span class="pre">0</span></code> 。其标准形式是显式包含 <code class="docutils literal notranslate"><span class="pre">0</span></code> 。这允许版本如 <code class="docutils literal notranslate"><span class="pre">1.2.post</span></code> ，它将标准化为 <code class="docutils literal notranslate"><span class="pre">1.2.post0</span></code> 。</p>
</div>
<input class="tab-input" id="tab-set--18-input--2" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--2">英文</label><div class="tab-content docutils container">
<p>Post releases allow omitting the numeral in which case it is implicitly assumed to be <code class="docutils literal notranslate"><span class="pre">0</span></code>. The normal form for this is to include the <code class="docutils literal notranslate"><span class="pre">0</span></code> explicitly. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.2.post</span></code> which is normalized to <code class="docutils literal notranslate"><span class="pre">1.2.post0</span></code>.</p>
</div>
</div>
</section>
<section id="id20">
<h4>隐式发布后<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h4>
<p><strong>Implicit post releases</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--19-input--1" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--1">中文</label><div class="tab-content docutils container">
<p>后发布版本允许完全省略 <code class="docutils literal notranslate"><span class="pre">post</span></code> 标识符。在使用这种形式时，分隔符必须是 <code class="docutils literal notranslate"><span class="pre">-</span></code> ，且不允许使用其他形式。这允许版本如 <code class="docutils literal notranslate"><span class="pre">1.0-1</span></code> ，它将标准化为 <code class="docutils literal notranslate"><span class="pre">1.0.post1</span></code> 。此特定标准化形式不得与隐式后发布版本数字规则一起使用。换句话说， <code class="docutils literal notranslate"><span class="pre">1.0-</span></code> <em>不是</em> 一个有效版本，并且它 <em>不会</em> 标准化为 <code class="docutils literal notranslate"><span class="pre">1.0.post0</span></code> 。</p>
</div>
<input class="tab-input" id="tab-set--19-input--2" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--2">英文</label><div class="tab-content docutils container">
<p>Post releases allow omitting the <code class="docutils literal notranslate"><span class="pre">post</span></code> signifier all together. When using this form the separator MUST be <code class="docutils literal notranslate"><span class="pre">-</span></code> and no other form is allowed. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.0-1</span></code> to be normalized to <code class="docutils literal notranslate"><span class="pre">1.0.post1</span></code>. This particular normalization MUST NOT be used in conjunction with the implicit post release number rule. In other words, <code class="docutils literal notranslate"><span class="pre">1.0-</span></code> is <em>not</em> a valid version and it does <em>not</em> normalize to <code class="docutils literal notranslate"><span class="pre">1.0.post0</span></code>.</p>
</div>
</div>
</section>
<section id="id21">
<h4>开发发布分隔符<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h4>
<p><strong>Development release separators</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--20-input--1" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--1">中文</label><div class="tab-content docutils container">
<p>开发版本允许使用 <code class="docutils literal notranslate"><span class="pre">.</span></code> 、 <code class="docutils literal notranslate"><span class="pre">-</span></code> 或 <code class="docutils literal notranslate"><span class="pre">_</span></code> 分隔符，也允许完全省略分隔符。标准形式是使用 <code class="docutils literal notranslate"><span class="pre">.</span></code> 分隔符。这允许版本如 <code class="docutils literal notranslate"><span class="pre">1.2-dev2</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1.2dev2</span></code> ，它们会标准化为 <code class="docutils literal notranslate"><span class="pre">1.2.dev2</span></code> 。</p>
</div>
<input class="tab-input" id="tab-set--20-input--2" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--2">英文</label><div class="tab-content docutils container">
<p>Development releases allow a <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, or a <code class="docutils literal notranslate"><span class="pre">_</span></code> separator as well as omitting the separator all together. The normal form of this is with the <code class="docutils literal notranslate"><span class="pre">.</span></code> separator. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.2-dev2</span></code> or <code class="docutils literal notranslate"><span class="pre">1.2dev2</span></code> which normalize to <code class="docutils literal notranslate"><span class="pre">1.2.dev2</span></code>.</p>
</div>
</div>
</section>
<section id="id22">
<h4>隐式开发发布编号<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h4>
<p><strong>Implicit development release number</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--21-input--1" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--1">中文</label><div class="tab-content docutils container">
<p>开发版本允许省略数字，在这种情况下，数字隐式地假定为 <code class="docutils literal notranslate"><span class="pre">0</span></code> 。标准形式是显式地包含 <code class="docutils literal notranslate"><span class="pre">0</span></code> 。这允许版本如 <code class="docutils literal notranslate"><span class="pre">1.2.dev</span></code> ，它会标准化为 <code class="docutils literal notranslate"><span class="pre">1.2.dev0</span></code> 。</p>
</div>
<input class="tab-input" id="tab-set--21-input--2" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--2">英文</label><div class="tab-content docutils container">
<p>Development releases allow omitting the numeral in which case it is implicitly assumed to be <code class="docutils literal notranslate"><span class="pre">0</span></code>. The normal form for this is to include the <code class="docutils literal notranslate"><span class="pre">0</span></code> explicitly. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.2.dev</span></code> which is normalized to <code class="docutils literal notranslate"><span class="pre">1.2.dev0</span></code>.</p>
</div>
</div>
</section>
<section id="id23">
<h4>本地版本段<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h4>
<p><strong>Local version segments</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--22-input--1" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--1">中文</label><div class="tab-content docutils container">
<p>在本地版本中，除了使用 <code class="docutils literal notranslate"><span class="pre">.</span></code> 作为段落分隔符外， <code class="docutils literal notranslate"><span class="pre">-</span></code> 和 <code class="docutils literal notranslate"><span class="pre">_</span></code> 也都是可以接受的。正常形式是使用 <code class="docutils literal notranslate"><span class="pre">.</span></code> 字符。这允许像 <code class="docutils literal notranslate"><span class="pre">1.0+ubuntu-1</span></code> 这样的版本被规范化为 <code class="docutils literal notranslate"><span class="pre">1.0+ubuntu.1</span></code>。</p>
</div>
<input class="tab-input" id="tab-set--22-input--2" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--2">英文</label><div class="tab-content docutils container">
<p>With a local version, in addition to the use of <code class="docutils literal notranslate"><span class="pre">.</span></code> as a separator of segments, the use of <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> is also acceptable. The normal form is using the <code class="docutils literal notranslate"><span class="pre">.</span></code> character. This allows versions such as <code class="docutils literal notranslate"><span class="pre">1.0+ubuntu-1</span></code> to be normalized to <code class="docutils literal notranslate"><span class="pre">1.0+ubuntu.1</span></code>.</p>
</div>
</div>
</section>
<section id="v">
<h4>前导 v 字符<a class="headerlink" href="#v" title="Link to this heading">¶</a></h4>
<p><strong>Preceding v character</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--23-input--1" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--1">中文</label><div class="tab-content docutils container">
<p>为了支持常见的版本表示法 <code class="docutils literal notranslate"><span class="pre">v1.0</span></code>，版本号可以前面加上一个字面上的 <code class="docutils literal notranslate"><span class="pre">v</span></code> 字符。该字符必须在所有情况下被忽略，并且应该从版本的所有规范化形式中省略。带有和不带有 <code class="docutils literal notranslate"><span class="pre">v</span></code> 的相同版本被视为等效。</p>
</div>
<input class="tab-input" id="tab-set--23-input--2" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--2">英文</label><div class="tab-content docutils container">
<p>In order to support the common version notation of <code class="docutils literal notranslate"><span class="pre">v1.0</span></code> versions may be preceded by a single literal <code class="docutils literal notranslate"><span class="pre">v</span></code> character. This character MUST be ignored for all purposes and should be omitted from all normalized forms of the version. The same version with and without the <code class="docutils literal notranslate"><span class="pre">v</span></code> is considered equivalent.</p>
</div>
</div>
</section>
<section id="id24">
<h4>前导和尾随空格<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h4>
<p><strong>Leading and Trailing Whitespace</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--24-input--1" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--1">中文</label><div class="tab-content docutils container">
<p>所有规范化版本的形式必须默默地忽略并去除前导和尾随的空白字符。这包括 <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">\t</span></code>, <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\r</span></code>, <code class="docutils literal notranslate"><span class="pre">\f</span></code>, 和 <code class="docutils literal notranslate"><span class="pre">\v</span></code>。这允许意外的空白字符被合理处理，例如像 <code class="docutils literal notranslate"><span class="pre">1.0\n</span></code> 这样的版本会规范化为 <code class="docutils literal notranslate"><span class="pre">1.0</span></code>。</p>
</div>
<input class="tab-input" id="tab-set--24-input--2" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--2">英文</label><div class="tab-content docutils container">
<p>Leading and trailing whitespace must be silently ignored and removed from all normalized forms of a version. This includes <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">\t</span></code>, <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\r</span></code>, <code class="docutils literal notranslate"><span class="pre">\f</span></code>, and <code class="docutils literal notranslate"><span class="pre">\v</span></code>. This allows accidental whitespace to be handled sensibly, such as a version like <code class="docutils literal notranslate"><span class="pre">1.0\n</span></code> which normalizes to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p>
</div>
</div>
</section>
</section>
<section id="id25">
<h3>兼容版本方案的示例<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h3>
<p><strong>Examples of compliant version schemes</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--25-input--1" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--1">中文</label><div class="tab-content docutils container">
<p>标准版本方案旨在涵盖公共和私有 Python 项目中的各种标识实践。实际上，一个试图使用该方案提供的全部灵活性的单一项目，可能会导致用户在确定版本的相对顺序时遇到困难，尽管上述规则确保所有符合规范的工具将一致地对其进行排序。</p>
<p>以下示例展示了一小部分项目可能选择的不同方式来标识其发布版本，同时确保“最新发布版本”和“最新稳定发布版本”能够被人类用户和自动化工具轻松确定。</p>
<p>简单的“major.minor”版本管理:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.1
0.2
0.3
1.0
1.1
...
</pre></div>
</div>
<p>简单的“major.minor.micro”版本管理:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1.1.0
1.1.1
1.1.2
1.2.0
...
</pre></div>
</div>
<p>带有 alpha、beta 和候选预发布版本的“major.minor”版本管理:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.9
1.0a1
1.0a2
1.0b1
1.0rc1
1.0
1.1a1
...
</pre></div>
</div>
<p>带有开发版本、发布候选版本以及用于小幅修正的后发布版本的“major.minor”版本管理:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.9
1.0.dev1
1.0.dev2
1.0.dev3
1.0.dev4
1.0c1
1.0c2
1.0
1.0.post1
1.1.dev1
...
</pre></div>
</div>
<p>基于日期的发布版本，使用每年内递增的序列号，跳过零:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2012.1
2012.2
2012.3
...
2012.15
2013.1
2013.2
...
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--25-input--2" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--2">英文</label><div class="tab-content docutils container">
<p>The standard version scheme is designed to encompass a wide range of identification practices across public and private Python projects. In practice, a single project attempting to use the full flexibility offered by the scheme would create a situation where human users had difficulty figuring out the relative order of versions, even though the rules above ensure all compliant tools will order them consistently.</p>
<p>The following examples illustrate a small selection of the different approaches projects may choose to identify their releases, while still ensuring that the &quot;latest release&quot; and the &quot;latest stable release&quot; can be easily determined, both by human users and automated tools.</p>
<p>Simple &quot;major.minor&quot; versioning:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.1
0.2
0.3
1.0
1.1
...
</pre></div>
</div>
<p>Simple &quot;major.minor.micro&quot; versioning:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1.1.0
1.1.1
1.1.2
1.2.0
...
</pre></div>
</div>
<p>&quot;major.minor&quot; versioning with alpha, beta and candidate pre-releases:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.9
1.0a1
1.0a2
1.0b1
1.0rc1
1.0
1.1a1
...
</pre></div>
</div>
<p>&quot;major.minor&quot; versioning with developmental releases, release candidates and post-releases for minor corrections:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0.9
1.0.dev1
1.0.dev2
1.0.dev3
1.0.dev4
1.0c1
1.0c2
1.0
1.0.post1
1.1.dev1
...
</pre></div>
</div>
<p>Date based releases, using an incrementing serial within each year, skipping zero:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2012.1
2012.2
2012.3
...
2012.15
2013.1
2013.2
...
</pre></div>
</div>
</div>
</div>
</section>
<section id="id26">
<h3>允许后缀和相对顺序的摘要<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h3>
<p><strong>Summary of permitted suffixes and relative ordering</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--26-input--1" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--1">中文</label><div class="tab-content docutils container">
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>本节主要针对自动处理分发元数据的工具的作者，而非决定版本方案的 Python 分发开发者。</p>
</div>
<p>版本标识符的 epoch 段必须根据给定 epoch 的数值进行排序。如果没有 epoch 段，则隐式的数值为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p>版本标识符的发布段必须按照 Python 的元组排序方式进行排序，当规范化的发布段按以下方式解析时:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>tuple(map(int, release_segment.split(&quot;.&quot;)))
</pre></div>
</div>
<p>所有参与比较的发布段必须通过在必要时用零填充较短的段来转换为一致的长度。</p>
<p>在数字发布（<code class="docutils literal notranslate"><span class="pre">1.0</span></code>，<code class="docutils literal notranslate"><span class="pre">2.7.3</span></code>）中，允许使用以下后缀，并且必须按所示顺序排序:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.devN, aN, bN, rcN, &lt;无后缀&gt;, .postN
</pre></div>
</div>
<p>请注意，<code class="docutils literal notranslate"><span class="pre">c</span></code> 被视为语义上等同于 <code class="docutils literal notranslate"><span class="pre">rc</span></code>，并且必须像 <code class="docutils literal notranslate"><span class="pre">rc</span></code> 一样排序。工具可以拒绝在同一发布段中同时使用相同的 <code class="docutils literal notranslate"><span class="pre">N</span></code> 值的 <code class="docutils literal notranslate"><span class="pre">c</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rc</span></code>，将其视为模糊不清，并且仍然符合规范。</p>
<p>在 alpha（<code class="docutils literal notranslate"><span class="pre">1.0a1</span></code>）、beta（<code class="docutils literal notranslate"><span class="pre">1.0b1</span></code>）或发布候选（<code class="docutils literal notranslate"><span class="pre">1.0rc1</span></code>，<code class="docutils literal notranslate"><span class="pre">1.0c1</span></code>）中，允许使用以下后缀，并且必须按所示顺序排序:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.devN, &lt;无后缀&gt;, .postN
</pre></div>
</div>
<p>在后发布（<code class="docutils literal notranslate"><span class="pre">1.0.post1</span></code>）中，允许使用以下后缀，并且必须按所示顺序排序:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.devN, &lt;无后缀&gt;
</pre></div>
</div>
<p>请注意， <code class="docutils literal notranslate"><span class="pre">devN</span></code> 和 <code class="docutils literal notranslate"><span class="pre">postN</span></code> 必须始终以点号前缀，即使它们紧随数字版本后（例如 <code class="docutils literal notranslate"><span class="pre">1.0.dev456</span></code>，<code class="docutils literal notranslate"><span class="pre">1.0.post1</span></code>）。</p>
<p>在具有共享前缀的预发布、后发布或开发发布段中，排序必须按数字组件的值进行。</p>
<p>以下示例涵盖了许多可能的组合:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1.dev0
1.0.dev456
1.0a1
1.0a2.dev456
1.0a12.dev456
1.0a12
1.0b1.dev456
1.0b2
1.0b2.post345.dev456
1.0b2.post345
1.0rc1.dev456
1.0rc1
1.0
1.0+abc.5
1.0+abc.7
1.0+5
1.0.post456.dev34
1.0.post456
1.0.15
1.1.dev1
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--26-input--2" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--2">英文</label><div class="tab-content docutils container">
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This section is intended primarily for authors of tools that
automatically process distribution metadata, rather than developers
of Python distributions deciding on a versioning scheme.</p>
</div>
<p>The epoch segment of version identifiers MUST be sorted according to the
numeric value of the given epoch. If no epoch segment is present, the
implicit numeric value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>The release segment of version identifiers MUST be sorted in
the same order as Python's tuple sorting when the normalized release segment is
parsed as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>tuple(map(int, release_segment.split(&quot;.&quot;)))
</pre></div>
</div>
<p>All release segments involved in the comparison MUST be converted to a
consistent length by padding shorter segments with zeros as needed.</p>
<p>Within a numeric release (<code class="docutils literal notranslate"><span class="pre">1.0</span></code>, <code class="docutils literal notranslate"><span class="pre">2.7.3</span></code>), the following suffixes
are permitted and MUST be ordered as shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.devN, aN, bN, rcN, &lt;no suffix&gt;, .postN
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">c</span></code> is considered to be semantically equivalent to <code class="docutils literal notranslate"><span class="pre">rc</span></code> and must
be sorted as if it were <code class="docutils literal notranslate"><span class="pre">rc</span></code>. Tools MAY reject the case of having the same
<code class="docutils literal notranslate"><span class="pre">N</span></code> for both a <code class="docutils literal notranslate"><span class="pre">c</span></code> and a <code class="docutils literal notranslate"><span class="pre">rc</span></code> in the same release segment as ambiguous
and remain in compliance with the specification.</p>
<p>Within an alpha (<code class="docutils literal notranslate"><span class="pre">1.0a1</span></code>), beta (<code class="docutils literal notranslate"><span class="pre">1.0b1</span></code>), or release candidate
(<code class="docutils literal notranslate"><span class="pre">1.0rc1</span></code>, <code class="docutils literal notranslate"><span class="pre">1.0c1</span></code>), the following suffixes are permitted and MUST be
ordered as shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.devN, &lt;no suffix&gt;, .postN
</pre></div>
</div>
<p>Within a post-release (<code class="docutils literal notranslate"><span class="pre">1.0.post1</span></code>), the following suffixes are permitted
and MUST be ordered as shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.devN, &lt;no suffix&gt;
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">devN</span></code> and <code class="docutils literal notranslate"><span class="pre">postN</span></code> MUST always be preceded by a dot, even
when used immediately following a numeric version (e.g. <code class="docutils literal notranslate"><span class="pre">1.0.dev456</span></code>,
<code class="docutils literal notranslate"><span class="pre">1.0.post1</span></code>).</p>
<p>Within a pre-release, post-release or development release segment with a
shared prefix, ordering MUST be by the value of the numeric component.</p>
<p>The following example covers many of the possible combinations:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1.dev0
1.0.dev456
1.0a1
1.0a2.dev456
1.0a12.dev456
1.0a12
1.0b1.dev456
1.0b2
1.0b2.post345.dev456
1.0b2.post345
1.0rc1.dev456
1.0rc1
1.0
1.0+abc.5
1.0+abc.7
1.0+5
1.0.post456.dev34
1.0.post456
1.0.15
1.1.dev1
</pre></div>
</div>
</div>
</div>
</section>
<section id="id27">
<h3>不同元数据版本的版本排序<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h3>
<p><strong>Version ordering across different metadata versions</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--27-input--1" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--1">中文</label><div class="tab-content docutils container">
<p>元数据 v1.0 (<span class="target" id="index-4"></span><a class="pep reference external" href="https://peps.python.org/pep-0241/"><strong>PEP 241</strong></a>) 和元数据 v1.1 (<span class="target" id="index-5"></span><a class="pep reference external" href="https://peps.python.org/pep-0314/"><strong>PEP 314</strong></a>) 没有指定标准的版本标识或排序方案。然而，元数据 v1.2 (<span class="target" id="index-6"></span><a class="pep reference external" href="https://peps.python.org/pep-0345/"><strong>PEP 345</strong></a>) 确实指定了一个方案，该方案在 <span class="target" id="index-7"></span><a class="pep reference external" href="https://peps.python.org/pep-0386/"><strong>PEP 386</strong></a> 中进行了定义。</p>
<p>由于简单安装程序 API 的性质，安装程序无法知道特定分发版本所使用的元数据版本。此外，安装程序需要能够创建一个合理优先级的列表，包含所有或尽可能多的项目版本，以确定应该安装哪些版本。这些要求迫使我们对所有版本的项目使用统一的解析机制进行标准化。</p>
<p>基于上述原因，本规范必须用于所有版本的元数据，并且即使是元数据 v1.2，也会取代 <span class="target" id="index-8"></span><a class="pep reference external" href="https://peps.python.org/pep-0386/"><strong>PEP 386</strong></a>。工具应忽略任何无法根据本规范中的规则解析的版本，但如果没有符合本规范的版本可用，工具可以回退到实现定义的版本解析和排序方案。</p>
<p>分发用户可能希望显式地从他们控制的任何私有包索引中移除不符合规范的版本。</p>
</div>
<input class="tab-input" id="tab-set--27-input--2" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--2">英文</label><div class="tab-content docutils container">
<p>Metadata v1.0 (<span class="target" id="index-9"></span><a class="pep reference external" href="https://peps.python.org/pep-0241/"><strong>PEP 241</strong></a>) and metadata v1.1 (<span class="target" id="index-10"></span><a class="pep reference external" href="https://peps.python.org/pep-0314/"><strong>PEP 314</strong></a>) do not specify a standard
version identification or ordering scheme. However metadata v1.2 (<span class="target" id="index-11"></span><a class="pep reference external" href="https://peps.python.org/pep-0345/"><strong>PEP 345</strong></a>)
does specify a scheme which is defined in <span class="target" id="index-12"></span><a class="pep reference external" href="https://peps.python.org/pep-0386/"><strong>PEP 386</strong></a>.</p>
<p>Due to the nature of the simple installer API it is not possible for an
installer to be aware of which metadata version a particular distribution was
using. Additionally installers required the ability to create a reasonably
prioritized list that includes all, or as many as possible, versions of
a project to determine which versions it should install. These requirements
necessitate a standardization across one parsing mechanism to be used for all
versions of a project.</p>
<p>Due to the above, this specification MUST be used for all versions of metadata and
supersedes <span class="target" id="index-13"></span><a class="pep reference external" href="https://peps.python.org/pep-0386/"><strong>PEP 386</strong></a> even for metadata v1.2. Tools SHOULD ignore any versions
which cannot be parsed by the rules in this specification, but MAY fall back to
implementation defined version parsing and ordering schemes if no versions
complying with this specification are available.</p>
<p>Distribution users may wish to explicitly remove non-compliant versions from
any private package indexes they control.</p>
</div>
</div>
</section>
<section id="id28">
<h3>与其他版本方案的兼容性<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h3>
<p><strong>Compatibility with other version schemes</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--28-input--1" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--1">中文</label><div class="tab-content docutils container">
<p>一些项目可能选择使用一种版本方案，该方案需要进行转换以符合本规范中定义的公共版本方案。在这种情况下，项目特定的版本可以存储在元数据中，而转换后的公共版本则发布在版本字段中。</p>
<p>这允许自动化分发工具提供一致正确的发布版本排序，同时仍允许开发者为他们的项目使用他们偏好的内部版本管理方案。</p>
</div>
<input class="tab-input" id="tab-set--28-input--2" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--2">英文</label><div class="tab-content docutils container">
<p>Some projects may choose to use a version scheme which requires
translation in order to comply with the public version scheme defined in
this specification. In such cases, the project specific version can be stored in the
metadata while the translated public version is published in the version field.</p>
<p>This allows automated distribution tools to provide consistently correct
ordering of published releases, while still allowing developers to use
the internal versioning scheme they prefer for their projects.</p>
</div>
</div>
<section id="id29">
<h4>语义版本控制<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h4>
<p><strong>Semantic versioning</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--29-input--1" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--1">中文</label><div class="tab-content docutils container">
<p><a class="reference external" href="https://semver.org/">语义版本控制</a> 是一种流行的版本标识方案，它在发布版本号的不同元素的意义上比本规范更具规定性。即使一个项目选择不遵循语义版本控制的细节，该方案仍然值得了解，因为它涵盖了在依赖其他分发版本以及发布他人依赖的分发版本时可能出现的许多问题。</p>
<p>语义版本控制中的“Major.Minor.Patch”（在本规范中描述为“major.minor.micro”）部分（2.0.0 规范中的第 1-8 条款）与本规范中定义的版本方案完全兼容，建议遵循这些部分。</p>
<p>包含连字符（预发布 - 第 10 条）或加号（构建 - 第 11 条）的语义版本与本规范*不*兼容，且不允许出现在公共版本字段中。</p>
<p>将此类基于语义版本控制的源标签转换为兼容的公共版本的一种可能机制是使用 <code class="docutils literal notranslate"><span class="pre">.devN</span></code> 后缀来指定适当的版本顺序。</p>
<p>特定的构建信息也可以包含在本地版本标签中。</p>
</div>
<input class="tab-input" id="tab-set--29-input--2" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--2">英文</label><div class="tab-content docutils container">
<p><a class="reference external" href="https://semver.org/">Semantic versioning</a> is a popular version identification scheme that is
more prescriptive than this specification regarding the significance of different
elements of a release number. Even if a project chooses not to abide by
the details of semantic versioning, the scheme is worth understanding as
it covers many of the issues that can arise when depending on other
distributions, and when publishing a distribution that others rely on.</p>
<p>The &quot;Major.Minor.Patch&quot; (described in this specification as &quot;major.minor.micro&quot;)
aspects of semantic versioning (clauses 1-8 in the 2.0.0 specification)
are fully compatible with the version scheme defined in this specification, and abiding
by these aspects is encouraged.</p>
<p>Semantic versions containing a hyphen (pre-releases - clause 10) or a
plus sign (builds - clause 11) are <em>not</em> compatible with this specification
and are not permitted in the public version field.</p>
<p>One possible mechanism to translate such semantic versioning based source
labels to compatible public versions is to use the <code class="docutils literal notranslate"><span class="pre">.devN</span></code> suffix to
specify the appropriate version order.</p>
<p>Specific build information may also be included in local version labels.</p>
</div>
</div>
</section>
<section id="dvcs">
<h4>基于 DVCS 的版本标签<a class="headerlink" href="#dvcs" title="Link to this heading">¶</a></h4>
<p><strong>DVCS based version labels</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--30-input--1" name="tab-set--30" type="radio"><label class="tab-label" for="tab-set--30-input--1">中文</label><div class="tab-content docutils container">
<p>许多构建工具与分布式版本控制系统（如 Git 和 Mercurial）集成，以便在版本标识符中添加标识哈希值。由于哈希值无法可靠地排序，因此此类版本不允许出现在公共版本字段中。</p>
<p>与语义版本控制类似，公共的 <code class="docutils literal notranslate"><span class="pre">.devN</span></code> 后缀可以用于唯一标识此类发布版本以供发布，同时原始的基于 DVCS 的标签可以存储在项目的元数据中。</p>
<p>标识哈希信息也可以包含在本地版本标签中。</p>
</div>
<input class="tab-input" id="tab-set--30-input--2" name="tab-set--30" type="radio"><label class="tab-label" for="tab-set--30-input--2">英文</label><div class="tab-content docutils container">
<p>Many build tools integrate with distributed version control systems like
Git and Mercurial in order to add an identifying hash to the version
identifier. As hashes cannot be ordered reliably such versions are not
permitted in the public version field.</p>
<p>As with semantic versioning, the public <code class="docutils literal notranslate"><span class="pre">.devN</span></code> suffix may be used to
uniquely identify such releases for publication, while the original DVCS based
label can be stored in the project metadata.</p>
<p>Identifying hash information may also be included in local version labels.</p>
</div>
</div>
</section>
<section id="olson">
<h4>Olson 数据库版本控制<a class="headerlink" href="#olson" title="Link to this heading">¶</a></h4>
<p><strong>Olson database versioning</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--31-input--1" name="tab-set--31" type="radio"><label class="tab-label" for="tab-set--31-input--1">中文</label><div class="tab-content docutils container">
<p><code class="docutils literal notranslate"><span class="pre">pytz</span></code> 项目继承了其版本管理方案，来源于相应的 Olson 时区数据库版本管理方案：年份后跟一个小写字母，用于指示该年份内数据库的版本。</p>
<p>这可以转换为符合规范的公共版本标识符，格式为 <code class="docutils literal notranslate"><span class="pre">&lt;year&gt;.&lt;serial&gt;</span></code>，其中 serial 从零或一开始（对于 '&lt;year&gt;a' 发布），并随着该年内每次数据库更新递增。</p>
<p>与其他转换后的版本标识符一样，相应的 Olson 数据库版本可以记录在项目的元数据中。</p>
</div>
<input class="tab-input" id="tab-set--31-input--2" name="tab-set--31" type="radio"><label class="tab-label" for="tab-set--31-input--2">英文</label><div class="tab-content docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">pytz</span></code> project inherits its versioning scheme from the corresponding
Olson timezone database versioning scheme: the year followed by a lowercase
character indicating the version of the database within that year.</p>
<p>This can be translated to a compliant public version identifier as
<code class="docutils literal notranslate"><span class="pre">&lt;year&gt;.&lt;serial&gt;</span></code>, where the serial starts at zero or one (for the
'&lt;year&gt;a' release) and is incremented with each subsequent database
update within the year.</p>
<p>As with other translated version identifiers, the corresponding Olson
database version could be recorded in the project metadata.</p>
</div>
</div>
</section>
</section>
</section>
<section id="id30">
<h2>版本说明符<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h2>
<p><strong>Version specifiers</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--32-input--1" name="tab-set--32" type="radio"><label class="tab-label" for="tab-set--32-input--1">中文</label><div class="tab-content docutils container">
<p>版本说明符由一系列版本条款组成，条款之间用逗号分隔。例如:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 0.9, &gt;= 1.0, != 1.3.4.*, &lt; 2.0
</pre></div>
</div>
<p>比较运算符决定了版本条款的类型：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~=</span></code>: <a class="reference internal" href="#compatible-release">兼容发布</a> 条款</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span></code>: <a class="reference internal" href="#version-matching">版本匹配</a> 条款</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!=</span></code>: <a class="reference internal" href="#version-exclusion">版本排除</a> 条款</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>: <a class="reference internal" href="#inclusive-ordered-comparison">包含性排序比较</a> 条款</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>: <a class="reference internal" href="#exclusive-ordered-comparison">排他性排序比较</a> 条款</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">===</span></code>: <a class="reference internal" href="#arbitrary-equality">任意相等</a> 条款。</p></li>
</ul>
<p>逗号（&quot;,&quot;）相当于逻辑**与**运算符：候选版本必须匹配所有给定的版本条款，才能与整个说明符匹配。</p>
<p>条件运算符和后续版本标识符之间的空白是可选的，逗号周围的空白也是如此。</p>
<p>当多个候选版本与版本说明符匹配时，首选版本应为通过标准 <a class="reference internal" href="#version-scheme">版本方案</a> 定义的一致排序确定的最新版本。是否将预发布版本视为候选版本，应按照 <a class="reference internal" href="#handling-of-pre-releases">预发布版本的处理</a> 中描述的方式处理。</p>
<p>除非特别说明，本地版本标识符不得在版本说明符中使用，检查候选版本是否匹配给定版本说明符时，必须完全忽略本地版本标签。</p>
</div>
<input class="tab-input" id="tab-set--32-input--2" name="tab-set--32" type="radio"><label class="tab-label" for="tab-set--32-input--2">英文</label><div class="tab-content docutils container">
<p>A version specifier consists of a series of version clauses, separated by
commas. For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 0.9, &gt;= 1.0, != 1.3.4.*, &lt; 2.0
</pre></div>
</div>
<p>The comparison operator determines the kind of version clause:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~=</span></code>: <a class="reference internal" href="#compatible-release">Compatible release</a> clause</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span></code>: <a class="reference internal" href="#version-matching">Version matching</a> clause</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!=</span></code>: <a class="reference internal" href="#version-exclusion">Version exclusion</a> clause</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>: <a class="reference internal" href="#inclusive-ordered-comparison">Inclusive ordered comparison</a> clause</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>: <a class="reference internal" href="#exclusive-ordered-comparison">Exclusive ordered comparison</a> clause</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">===</span></code>: <a class="reference internal" href="#arbitrary-equality">Arbitrary equality</a> clause.</p></li>
</ul>
<p>The comma (&quot;,&quot;) is equivalent to a logical <strong>and</strong> operator: a candidate
version must match all given version clauses in order to match the
specifier as a whole.</p>
<p>Whitespace between a conditional operator and the following version
identifier is optional, as is the whitespace around the commas.</p>
<p>When multiple candidate versions match a version specifier, the preferred
version SHOULD be the latest version as determined by the consistent
ordering defined by the standard <a class="reference internal" href="#version-scheme">Version scheme</a>. Whether or not
pre-releases are considered as candidate versions SHOULD be handled as
described in <a class="reference internal" href="#handling-of-pre-releases">Handling of pre-releases</a>.</p>
<p>Except where specifically noted below, local version identifiers MUST NOT be
permitted in version specifiers, and local version labels MUST be ignored
entirely when checking if candidate versions match a given version
specifier.</p>
</div>
</div>
<section id="compatible-release">
<span id="version-specifiers-compatible-release"></span><span id="id31"></span><h3>兼容版本<a class="headerlink" href="#compatible-release" title="Link to this heading">¶</a></h3>
<p><strong>Compatible release</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--33-input--1" name="tab-set--33" type="radio"><label class="tab-label" for="tab-set--33-input--1">中文</label><div class="tab-content docutils container">
<p>兼容发布条款由兼容发布运算符 <code class="docutils literal notranslate"><span class="pre">~=</span></code>
和一个版本标识符组成。它匹配任何预计与指定版本兼容的候选版本。</p>
<p>指定的版本标识符必须遵循 <a class="reference internal" href="#version-scheme">版本方案</a> 中描述的标准格式。此版本说明符中不允许使用本地版本标识符。</p>
<p>对于给定的发布标识符 <code class="docutils literal notranslate"><span class="pre">V.N</span></code>，兼容发布条款大致等价于以下一对比较条款:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;= V.N, == V.*
</pre></div>
</div>
<p>此运算符不得与单段版本号（例如 <code class="docutils literal notranslate"><span class="pre">~=1</span></code>）一起使用。</p>
<p>例如，以下版本条款组是等效的:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 2.2
&gt;= 2.2, == 2.*

~= 1.4.5
&gt;= 1.4.5, == 1.4.*
</pre></div>
</div>
<p>如果在兼容发布条款中指定了一个预发布、后发布或开发发布，如 <code class="docutils literal notranslate"><span class="pre">V.N.suffix</span></code>，则在确定所需的前缀匹配时，会忽略后缀:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 2.2.post3
&gt;= 2.2.post3, == 2.*

~= 1.4.5a4
&gt;= 1.4.5a4, == 1.4.*
</pre></div>
</div>
<p>发布段比较的填充规则意味着，可以通过在版本说明符中附加额外的零来控制兼容发布条款中的假定前向兼容性程度:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 2.2.0
&gt;= 2.2.0, == 2.2.*

~= 1.4.5.0
&gt;= 1.4.5.0, == 1.4.5.*
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--33-input--2" name="tab-set--33" type="radio"><label class="tab-label" for="tab-set--33-input--2">英文</label><div class="tab-content docutils container">
<p>A compatible release clause consists of the compatible release operator <code class="docutils literal notranslate"><span class="pre">~=</span></code>
and a version identifier. It matches any candidate version that is expected
to be compatible with the specified version.</p>
<p>The specified version identifier must be in the standard format described in
<a class="reference internal" href="#version-scheme">Version scheme</a>. Local version identifiers are NOT permitted in this
version specifier.</p>
<p>For a given release identifier <code class="docutils literal notranslate"><span class="pre">V.N</span></code>, the compatible release clause is
approximately equivalent to the pair of comparison clauses:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;= V.N, == V.*
</pre></div>
</div>
<p>This operator MUST NOT be used with a single segment version number such as
<code class="docutils literal notranslate"><span class="pre">~=1</span></code>.</p>
<p>For example, the following groups of version clauses are equivalent:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 2.2
&gt;= 2.2, == 2.*

~= 1.4.5
&gt;= 1.4.5, == 1.4.*
</pre></div>
</div>
<p>If a pre-release, post-release or developmental release is named in a
compatible release clause as <code class="docutils literal notranslate"><span class="pre">V.N.suffix</span></code>, then the suffix is ignored
when determining the required prefix match:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 2.2.post3
&gt;= 2.2.post3, == 2.*

~= 1.4.5a4
&gt;= 1.4.5a4, == 1.4.*
</pre></div>
</div>
<p>The padding rules for release segment comparisons means that the assumed
degree of forward compatibility in a compatible release clause can be
controlled by appending additional zeros to the version specifier:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~= 2.2.0
&gt;= 2.2.0, == 2.2.*

~= 1.4.5.0
&gt;= 1.4.5.0, == 1.4.5.*
</pre></div>
</div>
</div>
</div>
</section>
<section id="version-matching">
<span id="id32"></span><h3>版本匹配<a class="headerlink" href="#version-matching" title="Link to this heading">¶</a></h3>
<p><strong>Version matching</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--34-input--1" name="tab-set--34" type="radio"><label class="tab-label" for="tab-set--34-input--1">中文</label><div class="tab-content docutils container">
<p>版本匹配条款包括版本匹配运算符 <code class="docutils literal notranslate"><span class="pre">==</span></code>
和一个版本标识符。</p>
<p>指定的版本标识符必须遵循 <a class="reference internal" href="#version-scheme">版本方案</a> 中描述的标准格式，但公共版本标识符后缀 <code class="docutils literal notranslate"><span class="pre">.*</span></code> 是允许的，如下所述。</p>
<p>默认情况下，版本匹配运算符基于严格的相等比较：指定的版本必须与请求的版本完全相同。执行的*唯一*替代操作是对发布段进行零填充，以确保发布段按相同长度进行比较。</p>
<p>是否使用严格的版本匹配取决于版本说明符的具体使用场景。自动化工具应至少发出警告，并且如果严格版本匹配使用不当，可以完全拒绝使用。</p>
<p>可以通过在版本匹配条款中的版本标识符后附加 <code class="docutils literal notranslate"><span class="pre">.*</span></code> 后缀来请求前缀匹配，而不是严格比较。这意味着在确定版本标识符是否匹配条款时，会忽略附加的尾随段。如果指定的版本仅包含发布段，则发布段中的尾随组件（或缺少尾随组件）也会被忽略。</p>
<p>例如，给定版本 <code class="docutils literal notranslate"><span class="pre">1.1.post1</span></code>，以下条款将匹配或不匹配，如下所示:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>== 1.1        # 不相等，因此 1.1.post1 不匹配该条款
== 1.1.post1  # 相等，因此 1.1.post1 匹配该条款
== 1.1.*      # 相同前缀，因此 1.1.post1 匹配该条款
</pre></div>
</div>
<p>对于前缀匹配，预发布段被视为有一个隐含的前导 <code class="docutils literal notranslate"><span class="pre">.</span></code>，因此，给定版本 <code class="docutils literal notranslate"><span class="pre">1.1a1</span></code>，以下条款将匹配或不匹配，如下所示:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>== 1.1        # 不相等，因此 1.1a1 不匹配该条款
== 1.1a1      # 相等，因此 1.1a1 匹配该条款
== 1.1.*      # 相同前缀，因此如果请求预发布版本，则 1.1a1 匹配该条款
</pre></div>
</div>
<p>精确匹配也被视为前缀匹配（这种解释由版本标识符发布段的常规零填充规则所隐含）。给定版本 <code class="docutils literal notranslate"><span class="pre">1.1</span></code>，以下条款将匹配或不匹配，如下所示:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>== 1.1        # 相等，因此 1.1 匹配该条款
== 1.1.0      # 零填充将 1.1 扩展为 1.1.0，因此匹配该条款
== 1.1.dev1   # 不相等（开发版本），因此 1.1 不匹配该条款
== 1.1a1      # 不相等（预发布版本），因此 1.1 不匹配该条款
== 1.1.post1  # 不相等（后发布版本），因此 1.1 不匹配该条款
== 1.1.*      # 相同前缀，因此 1.1 匹配该条款
</pre></div>
</div>
<p>包含开发版或本地发布版本的前缀匹配（如 <code class="docutils literal notranslate"><span class="pre">1.0.dev1.*</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1.0+foo1.*</span></code>）是无效的。如果存在，开发发布段始终是公共版本中的最后一个段，本地版本在比较时会被忽略，因此在前缀匹配中使用它们没有意义。</p>
<p>在定义发布分发的依赖关系时，强烈不推荐使用 <a href="#id33"><span class="problematic" id="id34">``</span></a>==``（没有至少带有通配符后缀），因为这会大大复杂化安全修复的部署。严格的版本比较运算符主要用于在定义应用程序的可重复*部署*时，使用共享分发索引。</p>
<p>如果指定的版本标识符是公共版本标识符（没有本地版本标签），则在匹配版本时，候选版本的本地版本标签必须被忽略。</p>
<p>如果指定的版本标识符是本地版本标识符，则在匹配版本时，必须考虑候选版本的本地版本标签，公共版本标识符按照上述方式进行匹配，本地版本标签则使用严格的字符串相等比较进行检查。</p>
</div>
<input class="tab-input" id="tab-set--34-input--2" name="tab-set--34" type="radio"><label class="tab-label" for="tab-set--34-input--2">英文</label><div class="tab-content docutils container">
<p>A version matching clause includes the version matching operator <code class="docutils literal notranslate"><span class="pre">==</span></code>
and a version identifier.</p>
<p>The specified version identifier must be in the standard format described in
<a class="reference internal" href="#version-scheme">Version scheme</a>, but a trailing <code class="docutils literal notranslate"><span class="pre">.*</span></code> is permitted on public version
identifiers as described below.</p>
<p>By default, the version matching operator is based on a strict equality
comparison: the specified version must be exactly the same as the requested
version. The <em>only</em> substitution performed is the zero padding of the
release segment to ensure the release segments are compared with the same
length.</p>
<p>Whether or not strict version matching is appropriate depends on the specific
use case for the version specifier. Automated tools SHOULD at least issue
warnings and MAY reject them entirely when strict version matches are used
inappropriately.</p>
<p>Prefix matching may be requested instead of strict comparison, by appending
a trailing <code class="docutils literal notranslate"><span class="pre">.*</span></code> to the version identifier in the version matching clause.
This means that additional trailing segments will be ignored when
determining whether or not a version identifier matches the clause. If the
specified version includes only a release segment, then trailing components
(or the lack thereof) in the release segment are also ignored.</p>
<p>For example, given the version <code class="docutils literal notranslate"><span class="pre">1.1.post1</span></code>, the following clauses would
match or not as shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>== 1.1        # Not equal, so 1.1.post1 does not match clause
== 1.1.post1  # Equal, so 1.1.post1 matches clause
== 1.1.*      # Same prefix, so 1.1.post1 matches clause
</pre></div>
</div>
<p>For purposes of prefix matching, the pre-release segment is considered to
have an implied preceding <code class="docutils literal notranslate"><span class="pre">.</span></code>, so given the version <code class="docutils literal notranslate"><span class="pre">1.1a1</span></code>, the
following clauses would match or not as shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>== 1.1        # Not equal, so 1.1a1 does not match clause
== 1.1a1      # Equal, so 1.1a1 matches clause
== 1.1.*      # Same prefix, so 1.1a1 matches clause if pre-releases are requested
</pre></div>
</div>
<p>An exact match is also considered a prefix match (this interpretation is
implied by the usual zero padding rules for the release segment of version
identifiers). Given the version <code class="docutils literal notranslate"><span class="pre">1.1</span></code>, the following clauses would
match or not as shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>== 1.1        # Equal, so 1.1 matches clause
== 1.1.0      # Zero padding expands 1.1 to 1.1.0, so it matches clause
== 1.1.dev1   # Not equal (dev-release), so 1.1 does not match clause
== 1.1a1      # Not equal (pre-release), so 1.1 does not match clause
== 1.1.post1  # Not equal (post-release), so 1.1 does not match clause
== 1.1.*      # Same prefix, so 1.1 matches clause
</pre></div>
</div>
<p>It is invalid to have a prefix match containing a development or local release
such as <code class="docutils literal notranslate"><span class="pre">1.0.dev1.*</span></code> or <code class="docutils literal notranslate"><span class="pre">1.0+foo1.*</span></code>. If present, the development release
segment is always the final segment in the public version, and the local version
is ignored for comparison purposes, so using either in a prefix match wouldn't
make any sense.</p>
<p>The use of <code class="docutils literal notranslate"><span class="pre">==</span></code> (without at least the wildcard suffix) when defining
dependencies for published distributions is strongly discouraged as it
greatly complicates the deployment of security fixes. The strict version
comparison operator is intended primarily for use when defining
dependencies for repeatable <em>deployments of applications</em> while using
a shared distribution index.</p>
<p>If the specified version identifier is a public version identifier (no
local version label), then the local version label of any candidate versions
MUST be ignored when matching versions.</p>
<p>If the specified version identifier is a local version identifier, then the
local version labels of candidate versions MUST be considered when matching
versions, with the public version identifier being matched as described
above, and the local version label being checked for equivalence using a
strict string equality comparison.</p>
</div>
</div>
</section>
<section id="version-exclusion">
<span id="id35"></span><h3>版本排除<a class="headerlink" href="#version-exclusion" title="Link to this heading">¶</a></h3>
<p><strong>Version exclusion</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--35-input--1" name="tab-set--35" type="radio"><label class="tab-label" for="tab-set--35-input--1">中文</label><div class="tab-content docutils container">
<p>版本排除条款包括版本排除运算符 <code class="docutils literal notranslate"><span class="pre">!=</span></code>
和一个版本标识符。</p>
<p>允许的版本标识符和比较语义与 <a class="reference internal" href="#version-matching">版本匹配</a> 运算符相同，只不过匹配的意义是相反的。</p>
<p>例如，给定版本 <code class="docutils literal notranslate"><span class="pre">1.1.post1</span></code>，以下条款将匹配或不匹配，如下所示:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!= 1.1        # 不相等，因此 1.1.post1 匹配该条款
!= 1.1.post1  # 相等，因此 1.1.post1 不匹配该条款
!= 1.1.*      # 相同前缀，因此 1.1.post1 不匹配该条款
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--35-input--2" name="tab-set--35" type="radio"><label class="tab-label" for="tab-set--35-input--2">英文</label><div class="tab-content docutils container">
<p>A version exclusion clause includes the version exclusion operator <code class="docutils literal notranslate"><span class="pre">!=</span></code>
and a version identifier.</p>
<p>The allowed version identifiers and comparison semantics are the same as
those of the <a class="reference internal" href="#version-matching">Version matching</a> operator, except that the sense of any
match is inverted.</p>
<p>For example, given the version <code class="docutils literal notranslate"><span class="pre">1.1.post1</span></code>, the following clauses would
match or not as shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!= 1.1        # Not equal, so 1.1.post1 matches clause
!= 1.1.post1  # Equal, so 1.1.post1 does not match clause
!= 1.1.*      # Same prefix, so 1.1.post1 does not match clause
</pre></div>
</div>
</div>
</div>
</section>
<section id="inclusive-ordered-comparison">
<span id="id36"></span><h3>包含有序比较<a class="headerlink" href="#inclusive-ordered-comparison" title="Link to this heading">¶</a></h3>
<p><strong>Inclusive ordered comparison</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--36-input--1" name="tab-set--36" type="radio"><label class="tab-label" for="tab-set--36-input--1">中文</label><div class="tab-content docutils container">
<p>包含比较运算符的有序比较条款包括一个比较运算符和一个版本标识符，并将匹配任何版本，在该版本中，基于候选版本和指定版本的相对位置，比较是正确的，比较依据是标准 <a class="reference internal" href="#version-scheme">版本方案</a> 所定义的一致排序。</p>
<p>包含的有序比较运算符是 <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> 和 <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>。</p>
<p>与版本匹配一样，发布段会根据需要进行零填充，以确保发布段按相同的长度进行比较。</p>
<p>本地版本标识符在此版本说明符中不允许使用。</p>
</div>
<input class="tab-input" id="tab-set--36-input--2" name="tab-set--36" type="radio"><label class="tab-label" for="tab-set--36-input--2">英文</label><div class="tab-content docutils container">
<p>An inclusive ordered comparison clause includes a comparison operator and a
version identifier, and will match any version where the comparison is correct
based on the relative position of the candidate version and the specified
version given the consistent ordering defined by the standard
<a class="reference internal" href="#version-scheme">Version scheme</a>.</p>
<p>The inclusive ordered comparison operators are <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>.</p>
<p>As with version matching, the release segment is zero padded as necessary to
ensure the release segments are compared with the same length.</p>
<p>Local version identifiers are NOT permitted in this version specifier.</p>
</div>
</div>
</section>
<section id="exclusive-ordered-comparison">
<span id="id37"></span><h3>排除有序比较<a class="headerlink" href="#exclusive-ordered-comparison" title="Link to this heading">¶</a></h3>
<p><strong>Exclusive ordered comparison</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--37-input--1" name="tab-set--37" type="radio"><label class="tab-label" for="tab-set--37-input--1">中文</label><div class="tab-content docutils container">
<p>排他性有序比较 <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> 和 <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> 与包含有序比较类似，它们依赖于候选版本和指定版本的相对位置，比较依据是标准 <a class="reference internal" href="#version-scheme">版本方案</a> 所定义的一致排序。然而，它们特别排除了指定版本的预发布、后发布和本地版本。</p>
<p>排他性有序比较 <code class="docutils literal notranslate"><span class="pre">&gt;V</span></code> <strong>不得</strong> 允许给定版本的后发布，除非 <code class="docutils literal notranslate"><span class="pre">V</span></code> 本身是后发布版本。您可以通过使用 <code class="docutils literal notranslate"><span class="pre">&gt;V.postN</span></code> 强制要求发布晚于特定的后发布版本，包括额外的后发布版本。例如，<code class="docutils literal notranslate"><span class="pre">&gt;1.7</span></code> 将允许 <code class="docutils literal notranslate"><span class="pre">1.7.1</span></code> 但不允许 <code class="docutils literal notranslate"><span class="pre">1.7.0.post1</span></code>，而 <code class="docutils literal notranslate"><span class="pre">&gt;1.7.post2</span></code> 将允许 <code class="docutils literal notranslate"><span class="pre">1.7.1</span></code> 和 <code class="docutils literal notranslate"><span class="pre">1.7.0.post3</span></code>，但不允许 <code class="docutils literal notranslate"><span class="pre">1.7.0</span></code>。</p>
<p>排他性有序比较 <code class="docutils literal notranslate"><span class="pre">&gt;V</span></code> <strong>不得</strong> 匹配指定版本的本地版本。</p>
<p>排他性有序比较 <code class="docutils literal notranslate"><span class="pre">&lt;V</span></code> <strong>不得</strong> 允许指定版本的预发布，除非指定版本本身就是预发布版本。通过使用 <code class="docutils literal notranslate"><span class="pre">&lt;V.rc1</span></code> 或类似的形式，可以允许早于特定预发布版本的预发布，但不等于该特定版本的预发布。</p>
<p>与版本匹配一样，发布段会根据需要进行零填充，以确保发布段按相同的长度进行比较。</p>
<p>本地版本标识符在此版本说明符中不允许使用。</p>
</div>
<input class="tab-input" id="tab-set--37-input--2" name="tab-set--37" type="radio"><label class="tab-label" for="tab-set--37-input--2">英文</label><div class="tab-content docutils container">
<p>The exclusive ordered comparisons <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> are similar to the inclusive
ordered comparisons in that they rely on the relative position of the candidate
version and the specified version given the consistent ordering defined by the
standard <a class="reference internal" href="#version-scheme">Version scheme</a>. However, they specifically exclude pre-releases,
post-releases, and local versions of the specified version.</p>
<p>The exclusive ordered comparison <code class="docutils literal notranslate"><span class="pre">&gt;V</span></code> <strong>MUST NOT</strong> allow a post-release
of the given version unless <code class="docutils literal notranslate"><span class="pre">V</span></code> itself is a post release. You may mandate
that releases are later than a particular post release, including additional
post releases, by using <code class="docutils literal notranslate"><span class="pre">&gt;V.postN</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">&gt;1.7</span></code> will allow
<code class="docutils literal notranslate"><span class="pre">1.7.1</span></code> but not <code class="docutils literal notranslate"><span class="pre">1.7.0.post1</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;1.7.post2</span></code> will allow <code class="docutils literal notranslate"><span class="pre">1.7.1</span></code>
and <code class="docutils literal notranslate"><span class="pre">1.7.0.post3</span></code> but not <code class="docutils literal notranslate"><span class="pre">1.7.0</span></code>.</p>
<p>The exclusive ordered comparison <code class="docutils literal notranslate"><span class="pre">&gt;V</span></code> <strong>MUST NOT</strong> match a local version of
the specified version.</p>
<p>The exclusive ordered comparison <code class="docutils literal notranslate"><span class="pre">&lt;V</span></code> <strong>MUST NOT</strong> allow a pre-release of
the specified version unless the specified version is itself a pre-release.
Allowing pre-releases that are earlier than, but not equal to a specific
pre-release may be accomplished by using <code class="docutils literal notranslate"><span class="pre">&lt;V.rc1</span></code> or similar.</p>
<p>As with version matching, the release segment is zero padded as necessary to
ensure the release segments are compared with the same length.</p>
<p>Local version identifiers are NOT permitted in this version specifier.</p>
</div>
</div>
</section>
<section id="arbitrary-equality">
<span id="id38"></span><h3>任意相等<a class="headerlink" href="#arbitrary-equality" title="Link to this heading">¶</a></h3>
<p><strong>Arbitrary equality</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--38-input--1" name="tab-set--38" type="radio"><label class="tab-label" for="tab-set--38-input--1">中文</label><div class="tab-content docutils container">
<p>任意相等比较是简单的字符串相等操作，它不考虑任何语义信息，如零填充或本地版本。该运算符也不支持像 <code class="docutils literal notranslate"><span class="pre">==</span></code> 运算符那样的前缀匹配。</p>
<p>任意相等的主要用例是允许指定一个版本，该版本无法通过本规范表示。这个运算符是特殊的，它充当逃生阀，允许使用实现此规范的工具的人安装一个否则与本规范不兼容的遗留版本。</p>
<p>一个例子是 <code class="docutils literal notranslate"><span class="pre">===foobar</span></code>，它将匹配 <code class="docutils literal notranslate"><span class="pre">foobar</span></code> 的版本。</p>
<p>该运算符也可以用来显式要求一个未打补丁的项目版本，例如 <code class="docutils literal notranslate"><span class="pre">===1.0</span></code>，它不会匹配版本 <code class="docutils literal notranslate"><span class="pre">1.0+downstream1</span></code>。</p>
<p>强烈不建议使用此运算符，工具在使用时 <strong>可能</strong> 会显示警告。</p>
</div>
<input class="tab-input" id="tab-set--38-input--2" name="tab-set--38" type="radio"><label class="tab-label" for="tab-set--38-input--2">英文</label><div class="tab-content docutils container">
<p>Arbitrary equality comparisons are simple string equality operations which do
not take into account any of the semantic information such as zero padding or
local versions. This operator also does not support prefix matching as the
<code class="docutils literal notranslate"><span class="pre">==</span></code> operator does.</p>
<p>The primary use case for arbitrary equality is to allow for specifying a
version which cannot otherwise be represented by this specification. This operator is
special and acts as an escape hatch to allow someone using a tool which
implements this specification to still install a legacy version which is otherwise
incompatible with this specification.</p>
<p>An example would be <code class="docutils literal notranslate"><span class="pre">===foobar</span></code> which would match a version of <code class="docutils literal notranslate"><span class="pre">foobar</span></code>.</p>
<p>This operator may also be used to explicitly require an unpatched version
of a project such as <code class="docutils literal notranslate"><span class="pre">===1.0</span></code> which would not match for a version
<code class="docutils literal notranslate"><span class="pre">1.0+downstream1</span></code>.</p>
<p>Use of this operator is heavily discouraged and tooling MAY display a warning
when it is used.</p>
</div>
</div>
</section>
<section id="handling-of-pre-releases">
<span id="id39"></span><h3>处理预发布版本<a class="headerlink" href="#handling-of-pre-releases" title="Link to this heading">¶</a></h3>
<p><strong>Handling of pre-releases</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--39-input--1" name="tab-set--39" type="radio"><label class="tab-label" for="tab-set--39-input--1">中文</label><div class="tab-content docutils container">
<p>任何类型的预发布版本，包括开发版本，默认情况下都从所有版本说明符中排除， <em>除非</em> 它们已经安装在系统中、被用户显式请求，或如果满足版本说明符的唯一可用版本是预发布版本。</p>
<p>默认情况下，依赖解析工具 <strong>应</strong> ：</p>
<ul class="simple">
<li><p>接受所有版本说明符中已经安装的预发布版本</p></li>
<li><p>对于没有满足版本说明符的最终版本或后发布版本的版本说明符，接受远程可用的预发布版本</p></li>
<li><p>排除所有其他预发布版本的考虑</p></li>
</ul>
<p>如果需要预发布版本来满足版本说明符，依赖解析工具 <strong>可能</strong> 会发出警告。</p>
<p>依赖解析工具 <strong>应</strong> 允许用户请求以下替代行为：</p>
<ul class="simple">
<li><p>接受所有版本说明符的预发布版本</p></li>
<li><p>排除所有版本说明符的预发布版本（如果预发布版本已在本地安装，或如果预发布版本是满足特定说明符的唯一方式，则报告错误或警告）</p></li>
</ul>
<p>依赖解析工具 <strong>可能</strong> 还允许基于每个发行版来控制上述行为。</p>
<p>后发布版本和最终版本在版本说明符中没有特殊处理 —— 它们总是包含在内，除非被显式排除。</p>
</div>
<input class="tab-input" id="tab-set--39-input--2" name="tab-set--39" type="radio"><label class="tab-label" for="tab-set--39-input--2">英文</label><div class="tab-content docutils container">
<p>Pre-releases of any kind, including developmental releases, are implicitly
excluded from all version specifiers, <em>unless</em> they are already present
on the system, explicitly requested by the user, or if the only available
version that satisfies the version specifier is a pre-release.</p>
<p>By default, dependency resolution tools SHOULD:</p>
<ul class="simple">
<li><p>accept already installed pre-releases for all version specifiers</p></li>
<li><p>accept remotely available pre-releases for version specifiers where
there is no final or post release that satisfies the version specifier</p></li>
<li><p>exclude all other pre-releases from consideration</p></li>
</ul>
<p>Dependency resolution tools MAY issue a warning if a pre-release is needed
to satisfy a version specifier.</p>
<p>Dependency resolution tools SHOULD also allow users to request the
following alternative behaviours:</p>
<ul class="simple">
<li><p>accepting pre-releases for all version specifiers</p></li>
<li><p>excluding pre-releases for all version specifiers (reporting an error or
warning if a pre-release is already installed locally, or if a
pre-release is the only way to satisfy a particular specifier)</p></li>
</ul>
<p>Dependency resolution tools MAY also allow the above behaviour to be
controlled on a per-distribution basis.</p>
<p>Post-releases and final releases receive no special treatment in version
specifiers - they are always included unless explicitly excluded.</p>
</div>
</div>
</section>
<section id="id40">
<h3>示例<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h3>
<p><strong>Examples</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--40-input--1" name="tab-set--40" type="radio"><label class="tab-label" for="tab-set--40-input--1">中文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~=3.1</span></code>：版本 3.1 或更高版本，但不包括版本 4.0 或更高版本。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~=3.1.2</span></code>：版本 3.1.2 或更高版本，但不包括版本 3.2.0 或更高版本。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~=3.1a1</span></code>：版本 3.1a1 或更高版本，但不包括版本 4.0 或更高版本。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">3.1</span></code>：特定版本 3.1（或 3.1.0），排除所有预发布版本、后发布版本、开发版本以及任何 3.1.x 的维护版本。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">3.1.*</span></code>：任何以 3.1 开头的版本。等同于 <code class="docutils literal notranslate"><span class="pre">~=3.1.0</span></code> 兼容发布条款。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~=3.1.0,</span> <span class="pre">!=</span> <span class="pre">3.1.3</span></code>：版本 3.1.0 或更高版本，但不包括版本 3.1.3，也不包括版本 3.2.0 或更高版本。</p></li>
</ul>
</div>
<input class="tab-input" id="tab-set--40-input--2" name="tab-set--40" type="radio"><label class="tab-label" for="tab-set--40-input--2">英文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~=3.1</span></code>: version 3.1 or later, but not version 4.0 or later.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~=3.1.2</span></code>: version 3.1.2 or later, but not version 3.2.0 or later.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~=3.1a1</span></code>: version 3.1a1 or later, but not version 4.0 or later.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">3.1</span></code>: specifically version 3.1 (or 3.1.0), excludes all pre-releases,
post releases, developmental releases and any 3.1.x maintenance releases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">3.1.*</span></code>: any version that starts with 3.1. Equivalent to the</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">~=3.1.0</span></code> compatible release clause.
* <code class="docutils literal notranslate"><span class="pre">~=3.1.0,</span> <span class="pre">!=</span> <span class="pre">3.1.3</span></code>: version 3.1.0 or later, but not version 3.1.3 and</p>
<blockquote>
<div><p>not version 3.2.0 or later.</p>
</div></blockquote>
</div>
</div>
</section>
</section>
<section id="id41">
<h2>直接引用<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h2>
<p><strong>Direct references</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--41-input--1" name="tab-set--41" type="radio"><label class="tab-label" for="tab-set--41-input--1">中文</label><div class="tab-content docutils container">
<p>一些自动化工具可能允许使用直接引用作为普通版本说明符的替代方案。直接引用由符号 <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> 和一个明确的 URL 组成。</p>
<p>是否使用直接引用取决于版本说明符的具体使用场景。自动化工具 <strong>应至少发出警告</strong> ，并 <strong>可能完全拒绝</strong> 在不合适的情况下使用直接引用。</p>
<p>公共索引服务器 <strong>不应</strong> 允许在上传的分发包中使用直接引用。直接引用主要作为软件集成者的工具，而非发布者的工具。</p>
<p>根据使用场景，直接 URL 引用的合适目标可能是源代码包（sdist）或轮子（wheel）二进制归档文件。具体支持的 URL 和目标将取决于工具。</p>
<p>例如，可以直接引用本地源代码归档文件:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip @ file:///localbuilds/pip-1.3.1.zip
</pre></div>
</div>
<p>或者，也可以引用预构建的归档文件:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip @ file:///localbuilds/pip-1.3.1-py33-none-any.whl
</pre></div>
</div>
<p>所有不指向本地文件 URL 的直接引用 <strong>应</strong> 指定安全的传输机制（如 <code class="docutils literal notranslate"><span class="pre">https</span></code>），并在 URL 中包含预期的哈希值以供验证。如果直接引用未指定任何哈希信息，或者提供了工具无法理解的哈希信息，或使用了工具认为不可信的哈希算法，自动化工具 <strong>应至少发出警告</strong> ，并 <strong>可能拒绝</strong> 依赖该 URL。如果该直接引用还使用了不安全的传输方式，自动化工具 <strong>不应</strong> 依赖该 URL。</p>
<p><strong>推荐</strong> 仅使用标准库 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/hashlib.html#module-hashlib" title="（在 Python v3.13）"><code class="xref any docutils literal notranslate"><span class="pre">hashlib</span></code></a> 模块最新版本无条件提供的哈希算法来进行源代码归档哈希验证。在本文写作时，这些哈希算法包括 <code class="docutils literal notranslate"><span class="pre">'md5'</span></code>、<code class="docutils literal notranslate"><span class="pre">'sha1'</span></code>、<code class="docutils literal notranslate"><span class="pre">'sha224'</span></code>、<code class="docutils literal notranslate"><span class="pre">'sha256'</span></code>、<code class="docutils literal notranslate"><span class="pre">'sha384'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">'sha512'</span></code>。</p>
<p>对于源代码归档和轮子文件引用，可以通过在 URL 片段中包含 <code class="docutils literal notranslate"><span class="pre">&lt;hash-algorithm&gt;=&lt;expected-hash&gt;</span></code> 条目来指定预期的哈希值。</p>
<p>对于版本控制引用，应使用 <code class="docutils literal notranslate"><span class="pre">VCS+protocol</span></code> 方案来标识版本控制系统和安全的传输方式，并且应使用支持基于哈希的提交标识符的版本控制系统。自动化工具 <strong>可以省略</strong> 对于不提供基于哈希的提交标识符的版本控制系统的缺少哈希警告。</p>
<p>对于不支持在 URL 中直接包含提交或标签引用的版本控制系统，可以使用 <code class="docutils literal notranslate"><span class="pre">&#64;&lt;commit-hash&gt;</span></code> 或 <code class="docutils literal notranslate"><span class="pre">&#64;&lt;tag&gt;#&lt;commit-hash&gt;</span></code> 语法将这些信息附加到 URL 的末尾。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>这与现有的 pip 支持的 VCS 引用语法 <strong>不完全</strong> 相同。首先，分发包名称被移到 URL 前面，而不是嵌入在 URL 中。其次，即使是基于标签获取的，也会包括提交哈希，以满足上述要求： <em>每个</em> 链接都应包含哈希值，以增加伪造的难度（创建一个具有特定标签的恶意仓库比较容易，而创建一个具有特定 <em>哈希</em> 的仓库则不容易）。</p>
</div>
<p>远程 URL 示例:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip @ https://github.com/pypa/pip/archive/1.3.1.zip#sha1=da9234ee9982d4bbb3c72346a6de940a148ea686
pip @ git+https://github.com/pypa/pip.git@7921be1537eac1e97bc40179a57f0349c2aee67d
pip @ git+https://github.com/pypa/pip.git@1.3.1#7921be1537eac1e97bc40179a57f0349c2aee67d
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--41-input--2" name="tab-set--41" type="radio"><label class="tab-label" for="tab-set--41-input--2">英文</label><div class="tab-content docutils container">
<p>Some automated tools may permit the use of a direct reference as an
alternative to a normal version specifier. A direct reference consists of
the specifier <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> and an explicit URL.</p>
<p>Whether or not direct references are appropriate depends on the specific
use case for the version specifier. Automated tools SHOULD at least issue
warnings and MAY reject them entirely when direct references are used
inappropriately.</p>
<p>Public index servers SHOULD NOT allow the use of direct references in
uploaded distributions. Direct references are intended as a tool for
software integrators rather than publishers.</p>
<p>Depending on the use case, some appropriate targets for a direct URL
reference may be an sdist or a wheel binary archive. The exact URLs and
targets supported will be tool dependent.</p>
<p>For example, a local source archive may be referenced directly:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip @ file:///localbuilds/pip-1.3.1.zip
</pre></div>
</div>
<p>Alternatively, a prebuilt archive may also be referenced:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip @ file:///localbuilds/pip-1.3.1-py33-none-any.whl
</pre></div>
</div>
<p>All direct references that do not refer to a local file URL SHOULD specify
a secure transport mechanism (such as <code class="docutils literal notranslate"><span class="pre">https</span></code>) AND include an expected
hash value in the URL for verification purposes. If a direct reference is
specified without any hash information, with hash information that the
tool doesn't understand, or with a selected hash algorithm that the tool
considers too weak to trust, automated tools SHOULD at least emit a warning
and MAY refuse to rely on the URL. If such a direct reference also uses an
insecure transport, automated tools SHOULD NOT rely on the URL.</p>
<p>It is RECOMMENDED that only hashes which are unconditionally provided by
the latest version of the standard library's <a class="reference external" href="https://docs.python.org/zh-cn/3/library/hashlib.html#module-hashlib" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a> module be used
for source archive hashes. At time of writing, that list consists of
<code class="docutils literal notranslate"><span class="pre">'md5'</span></code>, <code class="docutils literal notranslate"><span class="pre">'sha1'</span></code>, <code class="docutils literal notranslate"><span class="pre">'sha224'</span></code>, <code class="docutils literal notranslate"><span class="pre">'sha256'</span></code>, <code class="docutils literal notranslate"><span class="pre">'sha384'</span></code>, and
<code class="docutils literal notranslate"><span class="pre">'sha512'</span></code>.</p>
<p>For source archive and wheel references, an expected hash value may be
specified by including a <code class="docutils literal notranslate"><span class="pre">&lt;hash-algorithm&gt;=&lt;expected-hash&gt;</span></code> entry as
part of the URL fragment.</p>
<p>For version control references, the <code class="docutils literal notranslate"><span class="pre">VCS+protocol</span></code> scheme SHOULD be
used to identify both the version control system and the secure transport,
and a version control system with hash based commit identifiers SHOULD be
used. Automated tools MAY omit warnings about missing hashes for version
control systems that do not provide hash based commit identifiers.</p>
<p>To handle version control systems that do not support including commit or
tag references directly in the URL, that information may be appended to the
end of the URL using the <code class="docutils literal notranslate"><span class="pre">&#64;&lt;commit-hash&gt;</span></code> or the <code class="docutils literal notranslate"><span class="pre">&#64;&lt;tag&gt;#&lt;commit-hash&gt;</span></code>
notation.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This isn't <em>quite</em> the same as the existing VCS reference notation
supported by pip. Firstly, the distribution name is moved in front rather
than embedded as part of the URL. Secondly, the commit hash is included
even when retrieving based on a tag, in order to meet the requirement
above that <em>every</em> link should include a hash to make things harder to
forge (creating a malicious repo with a particular tag is easy, creating
one with a specific <em>hash</em>, less so).</p>
</div>
<p>Remote URL examples:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip @ https://github.com/pypa/pip/archive/1.3.1.zip#sha1=da9234ee9982d4bbb3c72346a6de940a148ea686
pip @ git+https://github.com/pypa/pip.git@7921be1537eac1e97bc40179a57f0349c2aee67d
pip @ git+https://github.com/pypa/pip.git@1.3.1#7921be1537eac1e97bc40179a57f0349c2aee67d
</pre></div>
</div>
</div>
</div>
<section id="url">
<h3>文件 URL<a class="headerlink" href="#url" title="Link to this heading">¶</a></h3>
<p><strong>File URLs</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--42-input--1" name="tab-set--42" type="radio"><label class="tab-label" for="tab-set--42-input--1">中文</label><div class="tab-content docutils container">
<p>文件 URL 的形式为 <code class="docutils literal notranslate"><span class="pre">file://&lt;host&gt;/&lt;path&gt;</span></code>。如果省略了 <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code>，则默认认为它是 <code class="docutils literal notranslate"><span class="pre">localhost</span></code>，即使省略了 <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code>，第三个斜杠 <strong>仍然必须</strong> 存在。 <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> 定义了要访问的文件系统路径。</p>
<p>在各种 *nix 操作系统中， <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code> 的唯一允许值是省略、<code class="docutils literal notranslate"><span class="pre">localhost</span></code>，或者当前计算机认为与其自身主机匹配的其他完全限定域名（FQDN）。换句话说，在 *nix 系统中， <code class="docutils literal notranslate"><span class="pre">file://</span></code> 方案只能用于访问本地计算机上的路径。</p>
<p>在 Windows 系统中，如果适用，文件格式应包括驱动器字母，作为 <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> 的一部分（例如 <code class="docutils literal notranslate"><span class="pre">file:///c:/path/to/a/file</span></code>）。与 *nix 不同，在 Windows 中， <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code> 参数可以用于指定位于网络共享上的文件。换句话说，为了将 <code class="docutils literal notranslate"><span class="pre">\\machine\volume\file</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">file://</span></code> URL，它将变成 <code class="docutils literal notranslate"><span class="pre">file://machine/volume/file</span></code>。有关 Windows 上 <code class="docutils literal notranslate"><span class="pre">file://</span></code> URL 的更多信息，请参见 <a class="reference external" href="https://web.archive.org/web/20130321051043/http://blogs.msdn.com/b/ie/archive/2006/12/06/file-uris-in-windows.aspx">MSDN</a>。</p>
</div>
<input class="tab-input" id="tab-set--42-input--2" name="tab-set--42" type="radio"><label class="tab-label" for="tab-set--42-input--2">英文</label><div class="tab-content docutils container">
<p>File URLs take the form of <code class="docutils literal notranslate"><span class="pre">file://&lt;host&gt;/&lt;path&gt;</span></code>. If the <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code> is
omitted it is assumed to be <code class="docutils literal notranslate"><span class="pre">localhost</span></code> and even if the <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code> is omitted
the third slash MUST still exist. The <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> defines what the file path on
the filesystem that is to be accessed.</p>
<p>On the various *nix operating systems the only allowed values for <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code>
is for it to be omitted, <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, or another FQDN that the current
machine believes matches its own host. In other words, on *nix the <code class="docutils literal notranslate"><span class="pre">file://</span></code>
scheme can only be used to access paths on the local machine.</p>
<p>On Windows the file format should include the drive letter if applicable as
part of the <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">file:///c:/path/to/a/file</span></code>). Unlike *nix on
Windows the <code class="docutils literal notranslate"><span class="pre">&lt;host&gt;</span></code> parameter may be used to specify a file residing on a
network share. In other words, in order to translate <code class="docutils literal notranslate"><span class="pre">\\machine\volume\file</span></code>
to a <code class="docutils literal notranslate"><span class="pre">file://</span></code> url, it would end up as <code class="docutils literal notranslate"><span class="pre">file://machine/volume/file</span></code>. For
more information on <code class="docutils literal notranslate"><span class="pre">file://</span></code> URLs on Windows see
<a class="reference external" href="https://web.archive.org/web/20130321051043/http://blogs.msdn.com/b/ie/archive/2006/12/06/file-uris-in-windows.aspx">MSDN</a>.</p>
</div>
</div>
</section>
</section>
<section id="pkg-resources-parse-version">
<h2>与 pkg_resources.parse_version 的差异总结<a class="headerlink" href="#pkg-resources-parse-version" title="Link to this heading">¶</a></h2>
<p><strong>Summary of differences from pkg_resources.parse_version</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--43-input--1" name="tab-set--43" type="radio"><label class="tab-label" for="tab-set--43-input--1">中文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>注意：此比较是针对 <code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> 在 <span class="target" id="index-14"></span><a class="pep reference external" href="https://peps.python.org/pep-0440/"><strong>PEP 440</strong></a> 编写时的实现。PEP 被接受后，setuptools 6.0 及更高版本采纳了此处描述的行为。</p></li>
<li><p>本地版本的排序方式不同，本规范要求本地版本排序为大于没有本地版本的相同版本，而 <code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> 将其视为预发布标记。</p></li>
<li><p>本规范故意限制了有效版本的语法，而 <code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> 尝试从 <em>任何</em> 任意字符串中提供某种意义。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> 允许任意深度嵌套的版本标识符，如 <code class="docutils literal notranslate"><span class="pre">1.0.dev1.post1.dev5</span></code>。然而，本规范仅允许每种类型的标识符使用一次，并且它们必须按照特定的顺序存在。</p></li>
</ul>
</div>
<input class="tab-input" id="tab-set--43-input--2" name="tab-set--43" type="radio"><label class="tab-label" for="tab-set--43-input--2">英文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>Note: this comparison is to <code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> as it existed at the time <span class="target" id="index-15"></span><a class="pep reference external" href="https://peps.python.org/pep-0440/"><strong>PEP 440</strong></a> was written. After the PEP was accepted, setuptools 6.0 and later versions adopted the behaviour described here.</p></li>
<li><p>Local versions sort differently, this specification requires that they sort as greater than the same version without a local version, whereas <code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> considers it a pre-release marker.</p></li>
<li><p>This specification purposely restricts the syntax which constitutes a valid version while <code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> attempts to provide some meaning from <em>any</em> arbitrary string.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkg_resources.parse_version</span></code> allows arbitrarily deeply nested version signifiers like <code class="docutils literal notranslate"><span class="pre">1.0.dev1.post1.dev5</span></code>. This specification however allows only a single use of each type and they must exist in a certain order.</p></li>
</ul>
</div>
</div>
</section>
<section id="version-specifiers-regex">
<span id="id43"></span><h2>附录：使用正则表达式解析版本字符串<a class="headerlink" href="#version-specifiers-regex" title="Link to this heading">¶</a></h2>
<p><strong>Appendix: Parsing version strings with regular expressions</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--44-input--1" name="tab-set--44" type="radio"><label class="tab-label" for="tab-set--44-input--1">中文</label><div class="tab-content docutils container">
<p>如前所述，在 <a class="reference internal" href="#public-version-identifiers"><span class="std std-ref">公共版本标识符</span></a> 部分，发布的版本标识符应该使用规范格式。本节提供了可以用来测试版本是否已经是该格式的正则表达式，如果不是，则提取各个组件以便后续标准化。</p>
<p>要测试版本标识符是否符合规范格式，可以使用以下函数：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="k">def</span> <span class="nf">is_canonical</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^([1-9][0-9]*!)?(0|[1-9][0-9]*)(\.(0|[1-9][0-9]*))*((a|b|rc)(0|[1-9][0-9]*))?(\.post(0|[1-9][0-9]*))?(\.dev(0|[1-9][0-9]*))?$&#39;</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</pre></div>
</div>
<p>要提取版本标识符的组件，使用以下正则表达式（由 <a class="reference external" href="https://github.com/pypa/packaging">packaging</a> 项目定义）：</p>
</div>
<input class="tab-input" id="tab-set--44-input--2" name="tab-set--44" type="radio"><label class="tab-label" for="tab-set--44-input--2">英文</label><div class="tab-content docutils container">
<p>As noted earlier in the <a class="reference internal" href="#public-version-identifiers"><span class="std std-ref">公共版本标识符</span></a> section,
published version identifiers SHOULD use the canonical format. This
section provides regular expressions that can be used to test whether a
version is already in that form, and if it's not, extract the various
components for subsequent normalization.</p>
<p>To test whether a version identifier is in the canonical format, you can use
the following function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="k">def</span> <span class="nf">is_canonical</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^([1-9][0-9]*!)?(0|[1-9][0-9]*)(\.(0|[1-9][0-9]*))*((a|b|rc)(0|[1-9][0-9]*))?(\.post(0|[1-9][0-9]*))?(\.dev(0|[1-9][0-9]*))?$&#39;</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</pre></div>
</div>
<p>To extract the components of a version identifier, use the following regular
expression (as defined by the <a class="reference external" href="https://github.com/pypa/packaging">packaging</a>
project):</p>
</div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">VERSION_PATTERN</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    v?</span>
<span class="s2">    (?:</span>
<span class="s2">        (?:(?P&lt;epoch&gt;[0-9]+)!)?                           # epoch</span>
<span class="s2">        (?P&lt;release&gt;[0-9]+(?:\.[0-9]+)*)                  # release segment</span>
<span class="s2">        (?P&lt;pre&gt;                                          # pre-release</span>
<span class="s2">            [-_\.]?</span>
<span class="s2">            (?P&lt;pre_l&gt;(a|b|c|rc|alpha|beta|pre|preview))</span>
<span class="s2">            [-_\.]?</span>
<span class="s2">            (?P&lt;pre_n&gt;[0-9]+)?</span>
<span class="s2">        )?</span>
<span class="s2">        (?P&lt;post&gt;                                         # post release</span>
<span class="s2">            (?:-(?P&lt;post_n1&gt;[0-9]+))</span>
<span class="s2">            |</span>
<span class="s2">            (?:</span>
<span class="s2">                [-_\.]?</span>
<span class="s2">                (?P&lt;post_l&gt;post|rev|r)</span>
<span class="s2">                [-_\.]?</span>
<span class="s2">                (?P&lt;post_n2&gt;[0-9]+)?</span>
<span class="s2">            )</span>
<span class="s2">        )?</span>
<span class="s2">        (?P&lt;dev&gt;                                          # dev release</span>
<span class="s2">            [-_\.]?</span>
<span class="s2">            (?P&lt;dev_l&gt;dev)</span>
<span class="s2">            [-_\.]?</span>
<span class="s2">            (?P&lt;dev_n&gt;[0-9]+)?</span>
<span class="s2">        )?</span>
<span class="s2">    )</span>
<span class="s2">    (?:\+(?P&lt;local&gt;[a-z0-9]+(?:[-_\.][a-z0-9]+)*))?       # local version</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">_regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="s2">&quot;^\s*&quot;</span> <span class="o">+</span> <span class="n">VERSION_PATTERN</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;\s*$&quot;</span><span class="p">,</span>
    <span class="n">re</span><span class="o">.</span><span class="n">VERBOSE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id45">
<h2>历史<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h2>
<p><strong>History</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--45-input--1" name="tab-set--45" type="radio"><label class="tab-label" for="tab-set--45-input--1">中文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>2014 年 8 月: 该规范通过 <span class="target" id="index-16"></span><a class="pep reference external" href="https://peps.python.org/pep-0440/"><strong>PEP 440</strong></a> 批准。</p></li>
</ul>
</div>
<input class="tab-input" id="tab-set--45-input--2" name="tab-set--45" type="radio"><label class="tab-label" for="tab-set--45-input--2">英文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>August 2014: This specification was approved through <span class="target" id="index-17"></span><a class="pep reference external" href="https://peps.python.org/pep-0440/"><strong>PEP 440</strong></a>.</p></li>
</ul>
</div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="dependency-specifiers.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">依赖说明符</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="core-metadata.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">核心元数据规范</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2013–2020, PyPA
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2024 年 11 月 15 日</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">版本标识符</a><ul>
<li><a class="reference internal" href="#id2">定义</a></li>
<li><a class="reference internal" href="#version-scheme">版本方案</a><ul>
<li><a class="reference internal" href="#public-version-identifiers">公共版本标识符</a></li>
<li><a class="reference internal" href="#local-version-identifiers">本地版本标识符</a></li>
<li><a class="reference internal" href="#id6">最终版本</a></li>
<li><a class="reference internal" href="#pre-release-versions">预发布</a></li>
<li><a class="reference internal" href="#id8">发布后</a></li>
<li><a class="reference internal" href="#id9">开发版本</a></li>
<li><a class="reference internal" href="#id10">版本时代</a></li>
<li><a class="reference internal" href="#version-specifiers-normalization">规范化</a><ul>
<li><a class="reference internal" href="#id12">区分大小写</a></li>
<li><a class="reference internal" href="#id13">整数规范化</a></li>
<li><a class="reference internal" href="#id14">预发布分隔符</a></li>
<li><a class="reference internal" href="#id15">预发布拼写</a></li>
<li><a class="reference internal" href="#id16">隐式预发布编号</a></li>
<li><a class="reference internal" href="#id17">发布后分隔符</a></li>
<li><a class="reference internal" href="#id18">发布后拼写</a></li>
<li><a class="reference internal" href="#id19">隐式发布后编号</a></li>
<li><a class="reference internal" href="#id20">隐式发布后</a></li>
<li><a class="reference internal" href="#id21">开发发布分隔符</a></li>
<li><a class="reference internal" href="#id22">隐式开发发布编号</a></li>
<li><a class="reference internal" href="#id23">本地版本段</a></li>
<li><a class="reference internal" href="#v">前导 v 字符</a></li>
<li><a class="reference internal" href="#id24">前导和尾随空格</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id25">兼容版本方案的示例</a></li>
<li><a class="reference internal" href="#id26">允许后缀和相对顺序的摘要</a></li>
<li><a class="reference internal" href="#id27">不同元数据版本的版本排序</a></li>
<li><a class="reference internal" href="#id28">与其他版本方案的兼容性</a><ul>
<li><a class="reference internal" href="#id29">语义版本控制</a></li>
<li><a class="reference internal" href="#dvcs">基于 DVCS 的版本标签</a></li>
<li><a class="reference internal" href="#olson">Olson 数据库版本控制</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id30">版本说明符</a><ul>
<li><a class="reference internal" href="#compatible-release">兼容版本</a></li>
<li><a class="reference internal" href="#version-matching">版本匹配</a></li>
<li><a class="reference internal" href="#version-exclusion">版本排除</a></li>
<li><a class="reference internal" href="#inclusive-ordered-comparison">包含有序比较</a></li>
<li><a class="reference internal" href="#exclusive-ordered-comparison">排除有序比较</a></li>
<li><a class="reference internal" href="#arbitrary-equality">任意相等</a></li>
<li><a class="reference internal" href="#handling-of-pre-releases">处理预发布版本</a></li>
<li><a class="reference internal" href="#id40">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id41">直接引用</a><ul>
<li><a class="reference internal" href="#url">文件 URL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pkg-resources-parse-version">与 pkg_resources.parse_version 的差异总结</a></li>
<li><a class="reference internal" href="#version-specifiers-regex">附录：使用正则表达式解析版本字符串</a></li>
<li><a class="reference internal" href="#id45">历史</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=7d86a446"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=cb5fb026"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    </body>
</html>