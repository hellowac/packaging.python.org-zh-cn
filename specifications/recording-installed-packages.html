<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="next" title="入口点规范" href="entry-points.html" /><link rel="prev" title="包安装元数据" href="section-installation-metadata.html" />

    <link rel="shortcut icon" href="../_static/py.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>记录已安装的项目 - Python Packaging User Guide</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Python Packaging User Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Python Packaging User Guide</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow.html">打包流程</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">教程</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/installing-packages.html">安装软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/managing-dependencies.html">管理依赖项</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/packaging-projects.html">打包Python项目</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">指南</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 指南</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-install.html">安装</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 安装</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-pip-and-virtual-environments.html">使用 pip 和 venv 在虚拟环境中安装软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-virtualenv.html">使用虚拟环境安装包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-stand-alone-command-line-tools.html">安装独立的命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-linux-tools.html">使用 Linux 包管理器安装 pip/setuptools/wheel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-scientific-packages.html">安装科学软件包</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-build-and-publish.html">构建和发布</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 构建和发布</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/writing-pyproject-toml.html">编写你的 <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/distributing-packages-using-setuptools.html">打包和分发项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/dropping-older-python-versions.html">放弃对旧版 Python 的支持</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/packaging-binary-extensions.html">打包二进制扩展</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/packaging-namespace-packages.html">打包命名空间包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-command-line-tools.html">创建和打包命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-and-discovering-plugins.html">创建和发现插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-testpypi.html">使用 TestPyPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/making-a-pypi-friendly-readme.html">制作适合 PyPI 的 README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">使用 GitHub Actions CI/CD 工作流发布软件包分发版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/modernize-setup-py-project.html">如何使基于 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 的项目现代化？</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-hosting.html">托管</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 托管</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/index-mirrors-and-caches.html">包索引镜像和缓存</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/hosting-your-own-index.html">托管您自己的简单存储库</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/tool-recommendations.html">工具推荐</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/analyzing-pypi-package-downloads.html">分析 PyPI 软件包下载</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discussions/index.html">讨论</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 讨论</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discussions/versioning.html">版本控制</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/deploying-python-applications.html">部署 Python 应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/pip-vs-easy-install.html">pip vs easy_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/install-requires-vs-requirements.html">install_requires 与需求文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/distribution-package-vs-import-package.html">分发包与导入包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/package-formats.html">软件包格式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/src-layout-vs-flat-layout.html">src 布局与平面布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/setup-py-deprecated.html"><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 已被弃用吗？</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/single-source-version.html">单一来源项目版本</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">PyPA 规范</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of PyPA 规范</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="section-distribution-metadata.html">包分发元数据</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 包分发元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="name-normalization.html">名称和规范化</a></li>
<li class="toctree-l3"><a class="reference internal" href="core-metadata.html">核心元数据规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="version-specifiers.html">版本标识符</a></li>
<li class="toctree-l3"><a class="reference internal" href="dependency-specifiers.html">依赖说明符</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyproject-toml.html"><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> 规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="inline-script-metadata.html">内联脚本元数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-compatibility-tags.html">平台兼容性标签</a></li>
<li class="toctree-l3"><a class="reference internal" href="well-known-project-urls.html">元数据中的知名项目 URL</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="section-installation-metadata.html">包安装元数据</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 包安装元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">记录已安装的项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="entry-points.html">入口点规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="direct-url.html">记录已安装发行版的直接 URL 来源</a></li>
<li class="toctree-l3"><a class="reference internal" href="direct-url-data-structure.html">直接 URL 数据结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtual-environments.html">Python 虚拟环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="externally-managed-environments.html">外部管理环境</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-distribution-formats.html">包分发文件格式</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 包分发文件格式</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="source-distribution-format.html">源分发格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="binary-distribution-format.html">二进制分发格式</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-package-indices.html">包索引接口</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 包索引接口</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="pypirc.html"><code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code> 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple-repository-api.html">Simple 仓库 API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">项目摘要</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">如何获取支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">为本指南做出贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">新闻</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/specifications/recording-installed-packages.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="recording-installed-packages">
<span id="id1"></span><h1>记录已安装的项目<a class="headerlink" href="#recording-installed-packages" title="Link to this heading">¶</a></h1>
<p><strong>Recording installed projects</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">中文</label><div class="tab-content docutils container">
<p>本文档指定了记录 Python <a class="reference internal" href="../glossary.html#term-Project"><span class="xref std std-term">项目</span></a> 在环境中安装信息的通用格式。
一种通用的元数据格式允许工具查询、管理或卸载项目，
无论它们是如何安装的。</p>
<p>几乎所有信息都是可选的。
这使得 Python 生态系统以外的工具（如 Linux 包管理器）能够尽可能地与 Python 工具集成。
例如，即使安装程序无法轻松提供以 Python 工具特定格式列出的已安装文件，
它仍应记录已安装项目的名称和版本。</p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">英文</label><div class="tab-content docutils container">
<p>This document specifies a common format of recording information
about Python <a class="reference internal" href="../glossary.html#term-Project"><span class="xref std std-term">projects</span></a> installed in an environment.
A common metadata format allows tools to query, manage or uninstall projects,
regardless of how they were installed.</p>
<p>Almost all information is optional.
This allows tools outside the Python ecosystem, such as Linux package managers,
to integrate with Python tooling as much as possible.
For example, even if an installer cannot easily provide a list of installed
files in a format specific to Python tooling, it should still record the name
and version of the installed project.</p>
</div>
</div>
<section id="dist-info">
<h2>.dist-info 目录<a class="headerlink" href="#dist-info" title="Link to this heading">¶</a></h2>
<p><strong>The .dist-info directory</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">中文</label><div class="tab-content docutils container">
<p>从分发中安装的每个项目必须除了文件外，还安装一个名为 &quot;<code class="docutils literal notranslate"><span class="pre">.dist-info</span></code>&quot; 的目录，
该目录位于可导入的模块和包旁边（通常是 <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> 目录）。</p>
<p>该目录命名为 <code class="docutils literal notranslate"><span class="pre">{name}-{version}.dist-info</span></code>，其中 <code class="docutils literal notranslate"><span class="pre">name</span></code> 和
<code class="docutils literal notranslate"><span class="pre">version</span></code> 字段对应于 <a class="reference internal" href="core-metadata.html#core-metadata"><span class="std std-ref">核心元数据规范</span></a>。这两个字段必须
标准化（请参见 <a class="reference internal" href="name-normalization.html#name-normalization"><span class="std std-ref">name normalization specification</span></a>
和 <a class="reference internal" href="version-specifiers.html#version-specifiers-normalization"><span class="std std-ref">version normalization specification</span></a>），
并将破折号（<code class="docutils literal notranslate"><span class="pre">-</span></code>）字符替换为下划线（<code class="docutils literal notranslate"><span class="pre">_</span></code>）字符，
因此 <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录的名称总是包含且仅包含一个破折号（<code class="docutils literal notranslate"><span class="pre">-</span></code>），
用于分隔 <code class="docutils literal notranslate"><span class="pre">name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">version</span></code> 字段。</p>
<p>历史上，工具未能替换点字符或标准化 <code class="docutils literal notranslate"><span class="pre">name</span></code> 字段中的大小写，
或者未对 <code class="docutils literal notranslate"><span class="pre">version</span></code> 字段进行标准化。
消费 <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录的工具应预期这些字段未标准化，并将它们视为与其标准化形式等效。
新的工具在写入 <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录时，必须使用上述规则标准化 <code class="docutils literal notranslate"><span class="pre">name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">version</span></code> 字段，
并鼓励现有工具开始标准化这些字段。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录的名称格式旨在明确表示一个分发作为文件系统路径。
向用户展示分发名称的工具应避免使用标准化后的名称，而应呈现指定的名称
（在解析到已安装包之前需要时），或者读取核心元数据中的相关字段，
因为那里列出的值是未转义的，准确反映了该分发。
库应为这些工具提供 API，以便工具在显示分发信息时能够访问未标准化的名称。</p>
</div>
<p>该 <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录可能包含以下文件，具体说明如下：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">METADATA</span></code>: 包含项目元数据</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RECORD</span></code>: 记录已安装文件的列表。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code>: 记录用于安装项目的工具的名称。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">entry_points.txt</span></code>: 详见 <a class="reference internal" href="entry-points.html#entry-points"><span class="std std-ref">入口点规范</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">direct_url.json</span></code>: 详见 <a class="reference internal" href="direct-url.html#direct-url"><span class="std std-ref">记录已安装发行版的直接 URL 来源</span></a></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">METADATA</span></code> 文件是强制性的。
其他所有文件可以根据安装工具的判断决定是否省略。
可能会有其他特定于安装工具的文件。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><a class="reference internal" href="binary-distribution-format.html#binary-distribution-format"><span class="std std-ref">二进制分发格式</span></a> 规范描述了可能出现在 <a class="reference internal" href="../glossary.html#term-Wheel"><span class="xref std std-term">Wheel</span></a>
的 <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录中的附加文件。这些文件可以被复制到已安装项目的
<code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录中。</p>
</div>
<p>该规范的早期版本还指定了一个 <code class="docutils literal notranslate"><span class="pre">REQUESTED</span></code> 文件。这个文件现在被视为工具特定的扩展，
但未来可能会重新标准化。有关其原始含义，请参见 <a class="reference external" href="https://www.python.org/dev/peps/pep-0376/#requested">PEP 376</a>。</p>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">英文</label><div class="tab-content docutils container">
<p>Each project installed from a distribution must, in addition to files,
install a &quot;<code class="docutils literal notranslate"><span class="pre">.dist-info</span></code>&quot; directory located alongside importable modules and
packages (commonly, the <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> directory).</p>
<p>This directory is named as <code class="docutils literal notranslate"><span class="pre">{name}-{version}.dist-info</span></code>, with <code class="docutils literal notranslate"><span class="pre">name</span></code> and
<code class="docutils literal notranslate"><span class="pre">version</span></code> fields corresponding to <a class="reference internal" href="core-metadata.html#core-metadata"><span class="std std-ref">核心元数据规范</span></a>. Both fields must be
normalized (see the <a class="reference internal" href="name-normalization.html#name-normalization"><span class="std std-ref">name normalization specification</span></a>
and the <a class="reference internal" href="version-specifiers.html#version-specifiers-normalization"><span class="std std-ref">version normalization specification</span></a>),
and replace dash (<code class="docutils literal notranslate"><span class="pre">-</span></code>) characters with underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) characters,
so the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory always has exactly one dash (<code class="docutils literal notranslate"><span class="pre">-</span></code>) character in
its stem, separating the <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code> fields.</p>
<p>Historically, tools have failed to replace dot characters or normalize case in
the <code class="docutils literal notranslate"><span class="pre">name</span></code> field, or not perform normalization in the <code class="docutils literal notranslate"><span class="pre">version</span></code> field.
Tools consuming <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directories should expect those fields to be
unnormalized, and treat them as equivalent to their normalized counterparts.
New tools that write <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directories MUST normalize both <code class="docutils literal notranslate"><span class="pre">name</span></code>
and <code class="docutils literal notranslate"><span class="pre">version</span></code> fields using the rules described above, and existing tools are
encouraged to start normalizing those fields.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory's name is formatted to unambiguously represent
a distribution as a filesystem path. Tools presenting a distribution name
to a user should avoid using the normalized name, and instead present the
specified name (when needed prior to resolution to an installed package),
or read the respective fields in Core Metadata, since values listed there
are unescaped and accurately reflect the distribution. Libraries should
provide API for such tools to consume, so tools can have access to the
unnormalized name when displaying distribution information.</p>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory may contain the following files, described in
detail below:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">METADATA</span></code>: contains project metadata</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RECORD</span></code>: records the list of installed files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code>: records the name of the tool used to install the project.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">entry_points.txt</span></code>: see <a class="reference internal" href="entry-points.html#entry-points"><span class="std std-ref">入口点规范</span></a> for details</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">direct_url.json</span></code>: see <a class="reference internal" href="direct-url.html#direct-url"><span class="std std-ref">记录已安装发行版的直接 URL 来源</span></a> for details</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> file is mandatory.
All other files may be omitted at the installing tool's discretion.
Additional installer-specific files may be present.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The <a class="reference internal" href="binary-distribution-format.html#binary-distribution-format"><span class="std std-ref">二进制分发格式</span></a> specification describes additional
files that may appear in the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory of a <a class="reference internal" href="../glossary.html#term-Wheel"><span class="xref std std-term">Wheel</span></a>.
Such files may be copied to the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory of an
installed project.</p>
</div>
<p>The previous versions of this specification also specified a <code class="docutils literal notranslate"><span class="pre">REQUESTED</span></code>
file. This file is now considered a tool-specific extension, but may be
standardized again in the future. See <a class="reference external" href="https://www.python.org/dev/peps/pep-0376/#requested">PEP 376</a>
for its original meaning.</p>
</div>
</div>
</section>
<section id="metadata">
<h2>METADATA 文件<a class="headerlink" href="#metadata" title="Link to this heading">¶</a></h2>
<p><strong>The METADATA file</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">中文</label><div class="tab-content docutils container">
<p><code class="docutils literal notranslate"><span class="pre">METADATA</span></code> 文件包含如 <a class="reference internal" href="core-metadata.html#core-metadata"><span class="std std-ref">核心元数据规范</span></a>
规范中所描述的元数据，版本为 1.1 或更高版本。</p>
<p><code class="docutils literal notranslate"><span class="pre">METADATA</span></code> 文件是强制性的。
如果无法创建该文件，或者所需的核心元数据不可用，
安装程序必须报告错误并停止安装项目。</p>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">英文</label><div class="tab-content docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> file contains metadata as described in the <a class="reference internal" href="core-metadata.html#core-metadata"><span class="std std-ref">核心元数据规范</span></a>
specification, version 1.1 or greater.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> file is mandatory.
If it cannot be created, or if required core metadata is not available,
installers must report an error and fail to install the project.</p>
</div>
</div>
</section>
<section id="record">
<h2>RECORD 文件<a class="headerlink" href="#record" title="Link to this heading">¶</a></h2>
<p><strong>The RECORD file</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">中文</label><div class="tab-content docutils container">
<p><code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件保存已安装文件的列表。
它是一个 CSV 文件，每个已安装文件占用一条记录（行）。</p>
<p>CSV 方言必须可以通过 Python 的 <code class="docutils literal notranslate"><span class="pre">csv</span></code> 模块的默认 <code class="docutils literal notranslate"><span class="pre">reader</span></code> 读取：</p>
<ul class="simple">
<li><p>字段分隔符：<code class="docutils literal notranslate"><span class="pre">,</span></code> （逗号），</p></li>
<li><p>引号字符：<code class="docutils literal notranslate"><span class="pre">&quot;</span></code> （直引号），</p></li>
<li><p>行终止符：<code class="docutils literal notranslate"><span class="pre">\r\n</span></code> 或 <code class="docutils literal notranslate"><span class="pre">\n</span></code>。</p></li>
</ul>
<p>每条记录由三个元素组成：文件的 <strong>路径</strong>、文件内容的 <strong>哈希值</strong> 和 <strong>大小</strong>。</p>
<p><em>路径</em> 可以是绝对路径，或者相对于包含 <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录的目录（通常是 <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> 目录）。
在 Windows 上，目录分隔符可以是正斜杠或反斜杠（<code class="docutils literal notranslate"><span class="pre">/</span></code> 或 <code class="docutils literal notranslate"><span class="pre">\</span></code>）。</p>
<p><em>哈希值</em> 要么是空字符串，要么是来自 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/hashlib.html#hashlib.algorithms_guaranteed" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">hashlib.algorithms_guaranteed</span></code></a> 的哈希算法名称，
后跟等号字符 <code class="docutils literal notranslate"><span class="pre">=</span></code> 和文件内容的摘要，摘要使用 urlsafe-base64-nopad 编码（即使用
<a class="reference external" href="https://docs.python.org/zh-cn/3/library/base64.html#base64.urlsafe_b64encode" title="（在 Python v3.13）"><code class="xref py py-func docutils literal notranslate"><span class="pre">base64.urlsafe_b64encode(digest)</span></code></a>，去掉尾部的 <code class="docutils literal notranslate"><span class="pre">=</span></code>）。</p>
<p><em>大小</em> 要么是空字符串，要么是文件的大小（以字节为单位），以十进制整数表示。</p>
<p>对于任何文件，<em>哈希值</em> 和 <em>大小</em> 字段可以留空，或者两者都为空。
通常，<code class="docutils literal notranslate"><span class="pre">.pyc</span></code> 文件和 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件本身的条目会有空的 <em>哈希值</em> 和 <em>大小</em>。
对于其他文件，不建议省略这些信息，因为它阻碍了对已安装项目完整性的验证。</p>
<p>如果 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件存在，它必须列出项目的所有已安装文件，
但不包括与 <code class="docutils literal notranslate"><span class="pre">.py</span></code> 文件对应的 <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> 文件，这些文件是可选的。
特别地，<code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 目录的内容（包括 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件本身）必须列出。
目录不应列出。</p>
<p>为了完全卸载一个包，工具需要删除 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 中列出的所有文件，
删除与已移除的 <code class="docutils literal notranslate"><span class="pre">.py</span></code> 文件对应的所有 <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> 文件（包括所有优化级别），
以及卸载过程中被清空的任何目录。</p>
<p>以下是一个可能的 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件的示例片段:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/usr/bin/black,sha256=iFlOnL32lIa-RKk-MDihcbJ37wxmRbE4xk6eVYVTTeU,220
../../../bin/blackd,sha256=lCadt4mcU-B67O1gkQVh7-vsKgLpx6ny1le34Jz6UVo,221
__pycache__/black.cpython-38.pyc,,
__pycache__/blackd.cpython-38.pyc,,
black-19.10b0.dist-info/INSTALLER,sha256=zuuue4knoyJ-UwPPXg8fezS7VCrXJQrAP7zeNuwvFQg,4
black-19.10b0.dist-info/LICENSE,sha256=nAQo8MO0d5hQz1vZbhGqqK_HLUqG1KNiI9erouWNbgA,1080
black-19.10b0.dist-info/METADATA,sha256=UN40nGoVVTSpvLrTBwNsXgZdZIwoKFSrrDDHP6B7-A0,58841
black-19.10b0.dist-info/RECORD,,
black.py,sha256=45IF72OgNfF8WpeNHnxV2QGfbCLubV5Xjl55cI65kYs,140161
blackd.py,sha256=JCxaK4hLkMRwVfZMj8FRpRRYC0172-juKqbN22bISLE,6672
blib2to3/__init__.py,sha256=9_8wL9Scv8_Cs8HJyJHGvx1vwXErsuvlsAqNZLcJQR0,8
blib2to3/__pycache__/__init__.cpython-38.pyc,,
blib2to3/__pycache__/pygram.cpython-38.pyc,sha256=zpXgX4FHDuoeIQKO_v0sRsB-RzQFsuoKoBYvraAdoJw,1512
blib2to3/__pycache__/pytree.cpython-38.pyc,sha256=LYLplXtG578ZjaFeoVuoX8rmxHn-BMAamCOsJMU1b9I,24910
blib2to3/pygram.py,sha256=mXpQPqHcamFwch0RkyJsb92Wd0kUP3TW7d-u9dWhCGY,2085
blib2to3/pytree.py,sha256=RWj3IL4U-Ljhkn4laN0C3p7IRdfvT3aIRjTV-x9hK1c,28530
</pre></div>
</div>
<p>如果 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件丢失，依赖于 <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> 的工具不得尝试卸载或升级包。
（此限制不适用于依赖其他信息来源的工具，例如 Linux 发行版中的系统包管理器。）</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>强烈不建议已安装的包自行修改自己
（例如，将缓存文件存储在其命名空间下的 <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> 中）。
<code class="docutils literal notranslate"><span class="pre">site-packages</span></code> 中的更改应留给专门的安装工具，如 pip。
如果包仍然以这种方式被修改，则必须更新 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code>，
否则卸载包时将留下未列出的文件（可能导致僵尸命名空间包）。</p>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">英文</label><div class="tab-content docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file holds the list of installed files.
It is a CSV file containing one record (line) per installed file.</p>
<p>The CSV dialect must be readable with the default <code class="docutils literal notranslate"><span class="pre">reader</span></code> of Python's
<code class="docutils literal notranslate"><span class="pre">csv</span></code> module:</p>
<ul class="simple">
<li><p>field delimiter: <code class="docutils literal notranslate"><span class="pre">,</span></code> (comma),</p></li>
<li><p>quoting char: <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> (straight double quote),</p></li>
<li><p>line terminator: either <code class="docutils literal notranslate"><span class="pre">\r\n</span></code> or <code class="docutils literal notranslate"><span class="pre">\n</span></code>.</p></li>
</ul>
<p>Each record is composed of three elements: the file's <strong>path</strong>, the <strong>hash</strong>
of the contents, and its <strong>size</strong>.</p>
<p>The <em>path</em> may be either absolute, or relative to the directory containing
the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory (commonly, the <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> directory).
On Windows, directories may be separated either by forward- or backslashes
(<code class="docutils literal notranslate"><span class="pre">/</span></code> or <code class="docutils literal notranslate"><span class="pre">\</span></code>).</p>
<p>The <em>hash</em> is either an empty string or the name of a hash algorithm from
<a class="reference external" href="https://docs.python.org/zh-cn/3/library/hashlib.html#hashlib.algorithms_guaranteed" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">hashlib.algorithms_guaranteed</span></code></a>, followed by the equals character <code class="docutils literal notranslate"><span class="pre">=</span></code> and
the digest of the file's contents, encoded with the urlsafe-base64-nopad
encoding (<a class="reference external" href="https://docs.python.org/zh-cn/3/library/base64.html#base64.urlsafe_b64encode" title="（在 Python v3.13）"><code class="xref py py-func docutils literal notranslate"><span class="pre">base64.urlsafe_b64encode(digest)</span></code></a> with trailing <code class="docutils literal notranslate"><span class="pre">=</span></code> removed).</p>
<p>The <em>size</em> is either the empty string, or file's size in bytes,
as a base 10 integer.</p>
<p>For any file, either or both of the <em>hash</em> and <em>size</em> fields may be left empty.
Commonly, entries for <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> files and the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file itself have empty
<em>hash</em> and <em>size</em>.
For other files, leaving the information out is discouraged, as it
prevents verifying the integrity of the installed project.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file is present, it must list all installed files of the
project, except <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> files corresponding to <code class="docutils literal notranslate"><span class="pre">.py</span></code> files listed in
<code class="docutils literal notranslate"><span class="pre">RECORD</span></code>, which are optional.
Notably, the contents of the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory (including the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code>
file itself) must be listed.
Directories should not be listed.</p>
<p>To completely uninstall a package, a tool needs to remove all
files listed in <code class="docutils literal notranslate"><span class="pre">RECORD</span></code>, all <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> files (of all optimization levels)
corresponding to removed <code class="docutils literal notranslate"><span class="pre">.py</span></code> files, and any directories emptied by
the uninstallation.</p>
<p>Here is an example snippet of a possible <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/usr/bin/black,sha256=iFlOnL32lIa-RKk-MDihcbJ37wxmRbE4xk6eVYVTTeU,220
../../../bin/blackd,sha256=lCadt4mcU-B67O1gkQVh7-vsKgLpx6ny1le34Jz6UVo,221
__pycache__/black.cpython-38.pyc,,
__pycache__/blackd.cpython-38.pyc,,
black-19.10b0.dist-info/INSTALLER,sha256=zuuue4knoyJ-UwPPXg8fezS7VCrXJQrAP7zeNuwvFQg,4
black-19.10b0.dist-info/LICENSE,sha256=nAQo8MO0d5hQz1vZbhGqqK_HLUqG1KNiI9erouWNbgA,1080
black-19.10b0.dist-info/METADATA,sha256=UN40nGoVVTSpvLrTBwNsXgZdZIwoKFSrrDDHP6B7-A0,58841
black-19.10b0.dist-info/RECORD,,
black.py,sha256=45IF72OgNfF8WpeNHnxV2QGfbCLubV5Xjl55cI65kYs,140161
blackd.py,sha256=JCxaK4hLkMRwVfZMj8FRpRRYC0172-juKqbN22bISLE,6672
blib2to3/__init__.py,sha256=9_8wL9Scv8_Cs8HJyJHGvx1vwXErsuvlsAqNZLcJQR0,8
blib2to3/__pycache__/__init__.cpython-38.pyc,,
blib2to3/__pycache__/pygram.cpython-38.pyc,sha256=zpXgX4FHDuoeIQKO_v0sRsB-RzQFsuoKoBYvraAdoJw,1512
blib2to3/__pycache__/pytree.cpython-38.pyc,sha256=LYLplXtG578ZjaFeoVuoX8rmxHn-BMAamCOsJMU1b9I,24910
blib2to3/pygram.py,sha256=mXpQPqHcamFwch0RkyJsb92Wd0kUP3TW7d-u9dWhCGY,2085
blib2to3/pytree.py,sha256=RWj3IL4U-Ljhkn4laN0C3p7IRdfvT3aIRjTV-x9hK1c,28530
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file is missing, tools that rely on <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> must not
attempt to uninstall or upgrade the package.
(This restriction does not apply to tools that rely on other sources of information,
such as system package managers in Linux distros.)</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>It is <em>strongly discouraged</em> for an installed package to modify itself
(e.g., store cache files under its namespace in <code class="docutils literal notranslate"><span class="pre">site-packages</span></code>).
Changes inside <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> should be left to specialized installer
tools such as pip. If a package is nevertheless modified in this way,
then the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> must be updated, otherwise uninstalling the package
will leave unlisted files in place (possibly resulting in a zombie
namespace package).</p>
</div>
</div>
</div>
</section>
<section id="installer">
<h2>INSTALLER 文件<a class="headerlink" href="#installer" title="Link to this heading">¶</a></h2>
<p><strong>The INSTALLER file</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">中文</label><div class="tab-content docutils container">
<p>如果存在，<code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> 是一个单行文本文件，列出用于安装该项目的工具名称。
如果安装工具可以通过命令行执行，<code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> 应包含命令名称。
否则，它应包含一个可打印的 ASCII 字符串。</p>
<p>该文件可以以零个或多个 ASCII 空白字符结尾。</p>
<p>以下是两个可能的 <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> 文件示例:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>MegaCorp Cloud Install-O-Matic
</pre></div>
</div>
<p>此值仅应用于参考目的。
例如，如果一个工具被要求卸载一个项目，但找不到 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件，
它可以提示 <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> 中列出的工具可能能够进行卸载。</p>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">英文</label><div class="tab-content docutils container">
<p>If present, <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> is a single-line text file naming the tool used to
install the project.
If the installer is executable from the command line, <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code>
should contain the command name.
Otherwise, it should contain a printable ASCII string.</p>
<p>The file can be terminated by zero or more ASCII whitespace characters.</p>
<p>Here are examples of two possible <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> files:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>MegaCorp Cloud Install-O-Matic
</pre></div>
</div>
<p>This value should be used for informational purposes only.
For example, if a tool is asked to uninstall a project but finds no <code class="docutils literal notranslate"><span class="pre">RECORD</span></code>
file, it may suggest that the tool named in <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> may be able to do the
uninstallation.</p>
</div>
</div>
</section>
<section id="entry-points-txt">
<h2>entry_points.txt 文件<a class="headerlink" href="#entry-points-txt" title="Link to this heading">¶</a></h2>
<p><strong>The entry_points.txt file</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">中文</label><div class="tab-content docutils container">
<p>此文件可以由安装程序创建，用于指示包中包含供其他代码发现和使用的组件，
包括控制台脚本和其他安装程序已使其可执行的应用程序。</p>
<p>其详细规范请参见 <a class="reference internal" href="entry-points.html#entry-points"><span class="std std-ref">入口点规范</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">英文</label><div class="tab-content docutils container">
<p>This file MAY be created by installers to indicate when packages contain
components intended for discovery and use by other code, including console
scripts and other applications that the installer has made available for
execution.</p>
<p>Its detailed specification is at <a class="reference internal" href="entry-points.html#entry-points"><span class="std std-ref">入口点规范</span></a>.</p>
</div>
</div>
</section>
<section id="direct-url-json">
<h2>direct_url.json 文件<a class="headerlink" href="#direct-url-json" title="Link to this heading">¶</a></h2>
<p><strong>The direct_url.json file</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">中文</label><div class="tab-content docutils container">
<p>当从指定直接 URL 引用（包括 VCS URL）的需求安装分发包时，安装程序 <strong>必须</strong> 创建此文件。</p>
<p>当从其他类型的需求（即名称加版本说明符）安装分发包时，<strong>不得</strong> 创建此文件。</p>
<p>其详细规范请参见 <a class="reference internal" href="direct-url.html#direct-url"><span class="std std-ref">记录已安装发行版的直接 URL 来源</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">英文</label><div class="tab-content docutils container">
<p>This file MUST be created by installers when installing a distribution from a
requirement specifying a direct URL reference (including a VCS URL).</p>
<p>This file MUST NOT be created when installing a distribution from an other type
of requirement (i.e. name plus version specifier).</p>
<p>Its detailed specification is at <a class="reference internal" href="direct-url.html#direct-url"><span class="std std-ref">记录已安装发行版的直接 URL 来源</span></a>.</p>
</div>
</div>
</section>
<section id="id3">
<h2>有意阻止对已安装软件包的更改<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<p><strong>Intentionally preventing changes to installed packages</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">中文</label><div class="tab-content docutils container">
<p>在某些情况下（例如需要管理除了 Python 生态系统依赖项外的外部依赖项时），
希望安装包到 Python 环境中的工具能够确保其他工具无法卸载或修改已安装的包，
因为这样做可能会导致与更广泛环境的兼容性问题。</p>
<p>为此，受影响的工具应采取以下步骤：</p>
<ul class="simple">
<li><p>重命名或删除 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 文件，以防止通过其他工具进行更改（例如，
如果工具本身需要这些信息，可以通过附加后缀创建一个非标准的 <code class="docutils literal notranslate"><span class="pre">RECORD.tool</span></code> 文件，
或者如果包内容通过其他方式进行跟踪和管理，则完全省略此文件）</p></li>
<li><p>写入 <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> 文件，指明应该用于管理包的工具名称
（这允许 <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> 相关工具在要求修改受影响的包时提供更好的错误提示）</p></li>
</ul>
<p>Python 运行时提供者还可以通过修改默认的 Python 包安装方案，
使用与平台提供的包不同的位置，从而防止平台提供的包被意外修改
（同时确保这两个位置都出现在默认的 Python 导入路径中）。</p>
<p>在某些情况下，可能希望甚至阻止通过 Python 特定工具安装额外的包。
对于这些情况，请参阅 <a class="reference internal" href="externally-managed-environments.html#externally-managed-environments"><span class="std std-ref">外部管理环境</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">英文</label><div class="tab-content docutils container">
<p>In some cases (such as when needing to manage external dependencies in addition
to Python ecosystem dependencies), it is desirable for a tool that installs
packages into a Python environment to ensure that other tools are not used to
uninstall or otherwise modify that installed package, as doing so may cause
compatibility problems with the wider environment.</p>
<p>To achieve this, affected tools should take the following steps:</p>
<ul class="simple">
<li><p>Rename or remove the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file to prevent changes via other tools (e.g.
appending a suffix to create a non-standard <code class="docutils literal notranslate"><span class="pre">RECORD.tool</span></code> file if the tool
itself needs the information, or omitting the file entirely if the package
contents are tracked and managed via other means)</p></li>
<li><p>Write an <code class="docutils literal notranslate"><span class="pre">INSTALLER</span></code> file indicating the name of the tool that should be used
to manage the package (this allows <code class="docutils literal notranslate"><span class="pre">RECORD</span></code>-aware tools to provide better
error notices when asked to modify affected packages)</p></li>
</ul>
<p>Python runtime providers may also prevent inadvertent modification of platform
provided packages by modifying the default Python package installation scheme
to use a location other than that used by platform provided packages (while also
ensuring both locations appear on the default Python import path).</p>
<p>In some circumstances, it may be desirable to block even installation of
additional packages via Python-specific tools. For these cases refer to
<a class="reference internal" href="externally-managed-environments.html#externally-managed-environments"><span class="std std-ref">外部管理环境</span></a></p>
</div>
</div>
</section>
<section id="id4">
<h2>历史记录<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h2>
<p><strong>History</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">中文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>2009年6月：该规范的原始版本通过 <span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0376/"><strong>PEP 376</strong></a> 获得批准。 当时，它被称为 <em>已安装 Python 分发包数据库</em>。</p></li>
<li><p>2020年3月：<code class="docutils literal notranslate"><span class="pre">direct_url.json</span></code> 文件的规范通过 <span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0610/"><strong>PEP 610</strong></a> 获得批准。它仅在此页面中提及；请参见 <a class="reference internal" href="direct-url.html#direct-url"><span class="std std-ref">记录已安装发行版的直接 URL 来源</span></a> 获取完整定义。</p></li>
<li><p>2020年9月：通过 <span class="target" id="index-2"></span><a class="pep reference external" href="https://peps.python.org/pep-0627/"><strong>PEP 627</strong></a> 批准了各种修订和澄清。</p></li>
</ul>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">英文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>June 2009: The original version of this specification was approved through
<span class="target" id="index-3"></span><a class="pep reference external" href="https://peps.python.org/pep-0376/"><strong>PEP 376</strong></a>.  At the time, it was known as the <em>Database of Installed Python
Distributions</em>.</p></li>
<li><p>March 2020: The specification of the <code class="docutils literal notranslate"><span class="pre">direct_url.json</span></code> file was approved
through <span class="target" id="index-4"></span><a class="pep reference external" href="https://peps.python.org/pep-0610/"><strong>PEP 610</strong></a>. It is only mentioned on this page; see <a class="reference internal" href="direct-url.html#direct-url"><span class="std std-ref">记录已安装发行版的直接 URL 来源</span></a>
for the full definition.</p></li>
<li><p>September 2020: Various amendments and clarifications were approved through
<span class="target" id="index-5"></span><a class="pep reference external" href="https://peps.python.org/pep-0627/"><strong>PEP 627</strong></a>.</p></li>
</ul>
</div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="entry-points.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">入口点规范</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="section-installation-metadata.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">包安装元数据</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2013–2020, PyPA
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2024 年 11 月 15 日</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">记录已安装的项目</a><ul>
<li><a class="reference internal" href="#dist-info">.dist-info 目录</a></li>
<li><a class="reference internal" href="#metadata">METADATA 文件</a></li>
<li><a class="reference internal" href="#record">RECORD 文件</a></li>
<li><a class="reference internal" href="#installer">INSTALLER 文件</a></li>
<li><a class="reference internal" href="#entry-points-txt">entry_points.txt 文件</a></li>
<li><a class="reference internal" href="#direct-url-json">direct_url.json 文件</a></li>
<li><a class="reference internal" href="#id3">有意阻止对已安装软件包的更改</a></li>
<li><a class="reference internal" href="#id4">历史记录</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=7d86a446"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=cb5fb026"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    </body>
</html>