<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="next" title="记录已安装发行版的直接 URL 来源" href="direct-url.html" /><link rel="prev" title="记录已安装的项目" href="recording-installed-packages.html" />

    <link rel="shortcut icon" href="../_static/py.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>入口点规范 - Python Packaging User Guide</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Python Packaging User Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Python Packaging User Guide</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow.html">打包流程</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">教程</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/installing-packages.html">安装软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/managing-dependencies.html">管理依赖项</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/packaging-projects.html">打包Python项目</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">指南</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 指南</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-install.html">安装</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 安装</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-pip-and-virtual-environments.html">使用 pip 和 venv 在虚拟环境中安装软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-virtualenv.html">使用虚拟环境安装包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-stand-alone-command-line-tools.html">安装独立的命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-using-linux-tools.html">使用 Linux 包管理器安装 pip/setuptools/wheel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/installing-scientific-packages.html">安装科学软件包</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-build-and-publish.html">构建和发布</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 构建和发布</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/writing-pyproject-toml.html">编写你的 <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/distributing-packages-using-setuptools.html">打包和分发项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/dropping-older-python-versions.html">放弃对旧版 Python 的支持</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/packaging-binary-extensions.html">打包二进制扩展</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/packaging-namespace-packages.html">打包命名空间包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-command-line-tools.html">创建和打包命令行工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-and-discovering-plugins.html">创建和发现插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-testpypi.html">使用 TestPyPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/making-a-pypi-friendly-readme.html">制作适合 PyPI 的 README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">使用 GitHub Actions CI/CD 工作流发布软件包分发版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/modernize-setup-py-project.html">如何使基于 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 的项目现代化？</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/section-hosting.html">托管</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 托管</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/index-mirrors-and-caches.html">包索引镜像和缓存</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/hosting-your-own-index.html">托管您自己的简单存储库</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/tool-recommendations.html">工具推荐</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/analyzing-pypi-package-downloads.html">分析 PyPI 软件包下载</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discussions/index.html">讨论</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 讨论</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discussions/versioning.html">版本控制</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/deploying-python-applications.html">部署 Python 应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/pip-vs-easy-install.html">pip vs easy_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/install-requires-vs-requirements.html">install_requires 与需求文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/distribution-package-vs-import-package.html">分发包与导入包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/package-formats.html">软件包格式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/src-layout-vs-flat-layout.html">src 布局与平面布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/setup-py-deprecated.html"><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 已被弃用吗？</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discussions/single-source-version.html">单一来源项目版本</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">PyPA 规范</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of PyPA 规范</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="section-distribution-metadata.html">包分发元数据</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 包分发元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="name-normalization.html">名称和规范化</a></li>
<li class="toctree-l3"><a class="reference internal" href="core-metadata.html">核心元数据规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="version-specifiers.html">版本标识符</a></li>
<li class="toctree-l3"><a class="reference internal" href="dependency-specifiers.html">依赖说明符</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyproject-toml.html"><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> 规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="inline-script-metadata.html">内联脚本元数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-compatibility-tags.html">平台兼容性标签</a></li>
<li class="toctree-l3"><a class="reference internal" href="well-known-project-urls.html">元数据中的知名项目 URL</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="section-installation-metadata.html">包安装元数据</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 包安装元数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="recording-installed-packages.html">记录已安装的项目</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">入口点规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="direct-url.html">记录已安装发行版的直接 URL 来源</a></li>
<li class="toctree-l3"><a class="reference internal" href="direct-url-data-structure.html">直接 URL 数据结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtual-environments.html">Python 虚拟环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="externally-managed-environments.html">外部管理环境</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-distribution-formats.html">包分发文件格式</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 包分发文件格式</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="source-distribution-format.html">源分发格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="binary-distribution-format.html">二进制分发格式</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="section-package-indices.html">包索引接口</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 包索引接口</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="pypirc.html"><code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code> 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple-repository-api.html">Simple 仓库 API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">项目摘要</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">如何获取支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">为本指南做出贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">新闻</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/specifications/entry-points.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="entry-points">
<span id="id1"></span><h1>入口点规范<a class="headerlink" href="#entry-points" title="Link to this heading">¶</a></h1>
<p><strong>Entry points specification</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">中文</label><div class="tab-content docutils container">
<p><em>入口点</em> 是一种机制，用于已安装的分发包宣传其提供的组件，以供其他代码发现和使用。例如：</p>
<ul class="simple">
<li><p>分发包可以指定 <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> 入口点，每个入口点指向一个函数。当 <a href="#id2"><span class="problematic" id="id3">*</span></a>pip*（或其他支持 console_scripts 的安装程序）安装该分发包时，它将为每个入口点创建一个命令行包装器。</p></li>
<li><p>应用程序可以使用入口点加载插件；例如，Pygments（一个语法高亮工具）可以使用来自单独安装包的额外词法分析器和样式。有关更多信息，请参见 <a class="reference internal" href="../guides/creating-and-discovering-plugins.html"><span class="doc">创建和发现插件</span></a>。</p></li>
</ul>
<p>入口点文件格式最初是为了允许使用 setuptools 构建的包提供集成点元数据，这些元数据将在运行时通过 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/importlib.metadata.html#module-importlib.metadata" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a> 读取。现在，它作为 PyPA 互操作性规范定义，以允许除了 <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> 之外的构建工具发布与 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/importlib.metadata.html#module-importlib.metadata" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a> 兼容的入口点元数据，并允许除了 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/importlib.metadata.html#module-importlib.metadata" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a> 之外的运行时库便捷地读取已发布的入口点元数据（可能采用不同的缓存和冲突解决策略）。</p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">英文</label><div class="tab-content docutils container">
<p><em>Entry points</em> are a mechanism for an installed distribution to advertise
components it provides to be discovered and used by other code. For
example:</p>
<ul class="simple">
<li><p>Distributions can specify <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> entry points, each referring to
a function. When <em>pip</em> (or another console_scripts aware installer) installs
the distribution, it will create a command-line wrapper for each entry point.</p></li>
<li><p>Applications can use entry points to load plugins; e.g. Pygments (a syntax
highlighting tool) can use additional lexers and styles from separately
installed packages. For more about this, see
<a class="reference internal" href="../guides/creating-and-discovering-plugins.html"><span class="doc">创建和发现插件</span></a>.</p></li>
</ul>
<p>The entry point file format was originally developed to allow packages built
with setuptools to provide integration point metadata that would be read at
runtime with <a class="reference external" href="https://docs.python.org/zh-cn/3/library/importlib.metadata.html#module-importlib.metadata" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a>. It is now defined as a PyPA interoperability
specification in order to allow build tools other than <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> to publish
<a class="reference external" href="https://docs.python.org/zh-cn/3/library/importlib.metadata.html#module-importlib.metadata" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a> compatible entry point metadata, and runtime libraries other
than <a class="reference external" href="https://docs.python.org/zh-cn/3/library/importlib.metadata.html#module-importlib.metadata" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a> to portably read published entry point metadata
(potentially with different caching and conflict resolution strategies).</p>
</div>
</div>
<section id="id4">
<h2>数据模型<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h2>
<p><strong>Data model</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">中文</label><div class="tab-content docutils container">
<p>从概念上讲，入口点由三个必需的属性定义：</p>
<ul>
<li><p><a href="#id5"><span class="problematic" id="id6">**</span></a>group**（组）：入口点所属的组指示它提供的对象类型。例如，<code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> 组是用于指向可以作为命令使用的函数的入口点，而 <code class="docutils literal notranslate"><span class="pre">pygments.styles</span></code> 是定义 pygments 样式的类的组。消费者通常定义预期的接口。为了避免冲突，定义新组的消费者应该使用以消费者项目所拥有的 PyPI 名称开头，并接上 <code class="docutils literal notranslate"><span class="pre">.</span></code> 的名称。组名必须是由字母、数字和下划线组成的一个或多个组，通过点（<code class="xref any docutils literal notranslate"><span class="pre">.</span></code>）分隔（正则表达式 <code class="docutils literal notranslate"><span class="pre">^\w+(\.\w+)*$</span></code>）。</p></li>
<li><p><a href="#id7"><span class="problematic" id="id8">**</span></a>name**（名称）：标识该入口点在其组中的名称。其精确定义由消费者决定。例如，对于控制台脚本，入口点的名称就是启动它的命令。在一个分发包中，入口点名称应唯一。如果不同的分发包提供相同的名称，消费者决定如何处理这种冲突。名称可以包含除 <code class="docutils literal notranslate"><span class="pre">=</span></code> 之外的任何字符，但不能以任何空白字符开始或结束，也不能以 <code class="docutils literal notranslate"><span class="pre">[</span></code> 开头。对于新的入口点，推荐仅使用字母、数字、下划线、点和破折号（正则表达式 <code class="docutils literal notranslate"><span class="pre">[\w.-]+</span></code>）。</p></li>
<li><p><a href="#id9"><span class="problematic" id="id10">**</span></a>object reference**（对象引用）：指向一个 Python 对象。它的形式为 <code class="docutils literal notranslate"><span class="pre">importable.module</span></code> 或 <code class="docutils literal notranslate"><span class="pre">importable.module:object.attr</span></code>。由点和冒号分隔的每个部分都是有效的 Python 标识符。它的查找方式如下所示:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">importlib</span>
<span class="n">modname</span><span class="p">,</span> <span class="n">qualname_separator</span><span class="p">,</span> <span class="n">qualname</span> <span class="o">=</span> <span class="n">object_ref</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="k">if</span> <span class="n">qualname_separator</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">qualname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>一些工具将这种对象引用本身称为 '入口点'，以便于表述，特别是当它指向一个启动程序的函数时。</p>
</div>
<p>此外，还有一个可选属性：<a href="#id11"><span class="problematic" id="id12">**</span></a>extras**（额外特性）是一个字符串集合，标识提供入口点的分发包的可选功能。如果指定了这些，入口点就需要这些 'extras' 的依赖项。请参见元数据字段 <a class="reference internal" href="core-metadata.html#metadata-provides-extra"><span class="std std-ref">Provides-Extra（多次使用）</span></a>。</p>
<p>不再推荐为入口点使用 extras。消费者应支持从现有分发包中解析它们，但可以忽略它们。新的发布工具不需要支持指定 extras。处理 extras 的功能与 setuptools 管理 'egg' 包的模型相关，但像 pip 和 virtualenv 这样的新工具使用的是不同的模型。</p>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">英文</label><div class="tab-content docutils container">
<p>Conceptually, an entry point is defined by three required properties:</p>
<ul>
<li><p>The <strong>group</strong> that an entry point belongs to indicates what sort of object it
provides. For instance, the group <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> is for entry points
referring to functions which can be used as a command, while
<code class="docutils literal notranslate"><span class="pre">pygments.styles</span></code> is the group for classes defining pygments styles.
The consumer typically defines the expected interface. To avoid clashes,
consumers defining a new group should use names starting with a PyPI name
owned by the consumer project, followed by <code class="docutils literal notranslate"><span class="pre">.</span></code>. Group names must be one or
more groups of letters, numbers and underscores, separated by dots (regex
<code class="docutils literal notranslate"><span class="pre">^\w+(\.\w+)*$</span></code>).</p></li>
<li><p>The <strong>name</strong> identifies this entry point within its group. The precise meaning
of this is up to the consumer. For console scripts, the name of the entry point
is the command that will be used to launch it. Within a distribution, entry
point names should be unique. If different distributions provide the same
name, the consumer decides how to handle such conflicts. The name may contain
any characters except <code class="docutils literal notranslate"><span class="pre">=</span></code>, but it cannot start or end with any whitespace
character, or start with <code class="docutils literal notranslate"><span class="pre">[</span></code>. For new entry points, it is recommended to
use only letters, numbers, underscores, dots and dashes (regex <code class="docutils literal notranslate"><span class="pre">[\w.-]+</span></code>).</p></li>
<li><p>The <strong>object reference</strong> points to a Python object. It is either in the form
<code class="docutils literal notranslate"><span class="pre">importable.module</span></code>, or <code class="docutils literal notranslate"><span class="pre">importable.module:object.attr</span></code>. Each of the parts
delimited by dots and the colon is a valid Python identifier.
It is intended to be looked up like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">importlib</span>
<span class="n">modname</span><span class="p">,</span> <span class="n">qualname_separator</span><span class="p">,</span> <span class="n">qualname</span> <span class="o">=</span> <span class="n">object_ref</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="k">if</span> <span class="n">qualname_separator</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">qualname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Some tools call this kind of object reference by itself an 'entry point', for
want of a better term, especially where it points to a function to launch a
program.</p>
</div>
<p>There is also an optional property: the <strong>extras</strong> are a set of strings
identifying optional features of the distribution providing the entry point.
If these are specified, the entry point requires the dependencies of those
'extras'. See the metadata field <a class="reference internal" href="core-metadata.html#metadata-provides-extra"><span class="std std-ref">Provides-Extra（多次使用）</span></a>.</p>
<p>Using extras for an entry point is no longer recommended. Consumers should
support parsing them from existing distributions, but may then ignore them.
New publishing tools need not support specifying extras. The functionality of
handling extras was tied to setuptools' model of managing 'egg' packages, but
newer tools such as pip and virtualenv use a different model.</p>
</div>
</div>
</section>
<section id="id13">
<h2>文件格式<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h2>
<p><strong>File format</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">中文</label><div class="tab-content docutils container">
<p>入口点在一个名为 <code class="file docutils literal notranslate"><span class="pre">entry_points.txt</span></code> 的文件中定义，该文件位于分发包的 <code class="file docutils literal notranslate"><span class="pre">*.dist-info</span></code> 目录下。这个目录在 <a class="reference internal" href="recording-installed-packages.html#recording-installed-packages"><span class="std std-ref">记录已安装的项目</span></a> 中描述了已安装的分发包，在 <a class="reference internal" href="binary-distribution-format.html#binary-distribution-format"><span class="std std-ref">二进制分发格式</span></a> 中描述了 wheel 包。该文件使用 UTF-8 字符编码。</p>
<p>文件内容采用 INI 格式，由 Python 的 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/configparser.html#module-configparser" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">configparser</span></code></a> 模块读取。然而，configparser 默认将名称视为不区分大小写，而入口点名称是区分大小写的。可以通过如下方式创建一个区分大小写的配置解析器:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">configparser</span>

<span class="k">class</span> <span class="nc">CaseSensitiveConfigParser</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">):</span>
    <span class="n">optionxform</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
<p>入口点文件必须始终使用 <code class="docutils literal notranslate"><span class="pre">=</span></code> 来分隔名称和值（而 configparser 也允许使用 <code class="docutils literal notranslate"><span class="pre">:</span></code>）。</p>
<p>配置文件的各个部分表示入口点组，名称表示入口点名称，值则编码了对象引用和可选的 extras。如果使用 extras，它们将以逗号分隔的列表形式出现在方括号内。</p>
<p>在值中，读取器必须接受并忽略冒号前后、多余的空格（包括多个连续的空格）、对象引用和左方括号之间的空格、额外特性名称与方括号及冒号之间的空格，以及右方括号后的空格。extras 的语法已在 <a href="#id14"><span class="problematic" id="id15">:pep:`508`（作为 ``extras``</span></a>）中正式规定，而对值的限制在 <span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0685/"><strong>PEP 685</strong></a> 中指定。</p>
<p>对于编写文件的工具，建议仅在对象引用和左方括号之间插入一个空格。</p>
<p>例如：</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[console_scripts]</span>
<span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">foomod:main</span>
<span class="c1"># 一个依赖于 extras 的例子：</span>
<span class="na">foobar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">foomod:main_bar [bar,baz]</span>

<span class="c1"># pytest 插件引用一个模块，因此没有 &#39;:obj&#39;</span>
<span class="k">[pytest11]</span>
<span class="na">nbval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">nbval.plugin</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">英文</label><div class="tab-content docutils container">
<p>Entry points are defined in a file called <code class="file docutils literal notranslate"><span class="pre">entry_points.txt</span></code> in the
<code class="file docutils literal notranslate"><span class="pre">*.dist-info</span></code> directory of the distribution. This is the directory
described in <a class="reference internal" href="recording-installed-packages.html#recording-installed-packages"><span class="std std-ref">记录已安装的项目</span></a> for installed distributions,
and in <a class="reference internal" href="binary-distribution-format.html#binary-distribution-format"><span class="std std-ref">二进制分发格式</span></a> for wheels.
The file uses the UTF-8 character encoding.</p>
<p>The file contents are in INI format, as read by Python's <a class="reference external" href="https://docs.python.org/zh-cn/3/library/configparser.html#module-configparser" title="（在 Python v3.13）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">configparser</span></code></a>
module. However, configparser treats names as case-insensitive by default,
whereas entry point names are case sensitive. A case-sensitive config parser
can be made like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">configparser</span>

<span class="k">class</span> <span class="nc">CaseSensitiveConfigParser</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">):</span>
    <span class="n">optionxform</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
<p>The entry points file must always use <code class="docutils literal notranslate"><span class="pre">=</span></code> to delimit names from values
(whereas configparser also allows using <code class="docutils literal notranslate"><span class="pre">:</span></code>).</p>
<p>The sections of the config file represent entry point groups, the names are
names, and the values encode both the object reference and the optional extras.
If extras are used, they are a comma-separated list inside square brackets.</p>
<p>Within a value, readers must accept and ignore spaces (including multiple
consecutive spaces) before or after the colon, between the object reference and
the left square bracket, between the extra names and the square brackets and
colons delimiting them, and after the right square bracket. The syntax for
extras is formally specified as part of <span class="target" id="index-2"></span><a class="pep reference external" href="https://peps.python.org/pep-0508/"><strong>PEP 508</strong></a> (as <code class="docutils literal notranslate"><span class="pre">extras</span></code>) and
restrictions on values specified in <span class="target" id="index-3"></span><a class="pep reference external" href="https://peps.python.org/pep-0685/"><strong>PEP 685</strong></a>.
For tools writing the file, it is recommended only to insert a space between the
object reference and the left square bracket.</p>
<p>For example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[console_scripts]</span>
<span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">foomod:main</span>
<span class="c1"># One which depends on extras:</span>
<span class="na">foobar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">foomod:main_bar [bar,baz]</span>

<span class="c1"># pytest plugins refer to a module, so there is no &#39;:obj&#39;</span>
<span class="k">[pytest11]</span>
<span class="na">nbval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">nbval.plugin</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id16">
<h2>用于脚本<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h2>
<p><strong>Use for scripts</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">中文</label><div class="tab-content docutils container">
<p>在包装中，两个入口点组具有特殊意义：<code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> 和 <code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code>。在这两个组中，入口点的名称应当在包安装后能够作为系统 shell 中的命令使用。对象引用指向一个函数，当运行该命令时，该函数将被调用，并且该函数无需参数。该函数可以返回一个整数作为进程的退出代码，返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> 相当于返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p>例如，入口点 <code class="docutils literal notranslate"><span class="pre">mycmd</span> <span class="pre">=</span> <span class="pre">mymod:main</span></code> 将创建一个命令 <code class="docutils literal notranslate"><span class="pre">mycmd</span></code>，该命令启动一个如下脚本:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">mymod</span> <span class="kn">import</span> <span class="n">main</span>
<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> 和 <code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code> 之间的区别仅在 Windows 系统中有效。<code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> 会被包装成一个控制台可执行文件，因此它们会附加到一个控制台，并可以使用 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.stdin" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdin</span></code></a>、<a class="reference external" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.stdout" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> 和 <a class="reference external" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.stderr" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a> 进行输入和输出。<code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code> 会被包装成一个图形界面可执行文件，因此它们可以在没有控制台的情况下启动，但除非应用代码进行重定向，否则无法使用标准流。在其他平台上没有这样的区分。</p>
<p>安装工具应该在安装方案的脚本目录中为 <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> 和 <code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code> 设置包装器。它们不负责将该目录添加到定义命令行工具查找位置的 <code class="docutils literal notranslate"><span class="pre">PATH</span></code> 环境变量中。</p>
<p>由于文件是从名称创建的，并且一些文件系统不区分大小写，包应该避免在这些组中使用仅在大小写上有所不同的名称。当名称仅在大小写上有所差异时，安装工具的行为是未定义的。</p>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">英文</label><div class="tab-content docutils container">
<p>Two groups of entry points have special significance in packaging:
<code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> and <code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code>. In both groups, the name of the entry
point should be usable as a command in a system shell after the package is
installed. The object reference points to a function which will be called with
no arguments when this command is run. The function may return an integer to be
used as a process exit code, and returning <code class="docutils literal notranslate"><span class="pre">None</span></code> is equivalent to returning
<code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>For instance, the entry point <code class="docutils literal notranslate"><span class="pre">mycmd</span> <span class="pre">=</span> <span class="pre">mymod:main</span></code> would create a command
<code class="docutils literal notranslate"><span class="pre">mycmd</span></code> launching a script like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">mymod</span> <span class="kn">import</span> <span class="n">main</span>
<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
<p>The difference between <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> and <code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code> only affects
Windows systems. <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> are wrapped in a console executable,
so they are attached to a console and can use <a class="reference external" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.stdin" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdin</span></code></a>,
<a class="reference external" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.stdout" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> and <a class="reference external" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.stderr" title="（在 Python v3.13）"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a> for input and output.
<code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code> are wrapped in a GUI executable, so they can be started without
a console, but cannot use standard streams unless application code redirects them.
Other platforms do not have the same distinction.</p>
<p>Install tools are expected to set up wrappers for both <code class="docutils literal notranslate"><span class="pre">console_scripts</span></code> and
<code class="docutils literal notranslate"><span class="pre">gui_scripts</span></code> in the scripts directory of the install scheme. They are not
responsible for putting this directory in the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable
which defines where command-line tools are found.</p>
<p>As files are created from the names, and some filesystems are case-insensitive,
packages should avoid using names in these groups which differ only in case.
The behaviour of install tools when names differ only in case is undefined.</p>
</div>
</div>
</section>
<section id="id17">
<h2>历史记录<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h2>
<p><strong>History</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">中文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>2017年10月：该规范的编写旨在规范化 setuptools 中现有的入口点功能 (<a class="reference external" href="https://mail.python.org/pipermail/distutils-sig/2017-October/031585.html">discussion</a>)。</p></li>
</ul>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">英文</label><div class="tab-content docutils container">
<ul class="simple">
<li><p>October 2017: This specification was written to formalize the existing entry points feature of setuptools (<a class="reference external" href="https://mail.python.org/pipermail/distutils-sig/2017-October/031585.html">discussion</a>).</p></li>
</ul>
</div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="direct-url.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">记录已安装发行版的直接 URL 来源</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="recording-installed-packages.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">记录已安装的项目</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2013–2020, PyPA
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2024 年 11 月 15 日</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">入口点规范</a><ul>
<li><a class="reference internal" href="#id4">数据模型</a></li>
<li><a class="reference internal" href="#id13">文件格式</a></li>
<li><a class="reference internal" href="#id16">用于脚本</a></li>
<li><a class="reference internal" href="#id17">历史记录</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=7d86a446"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=cb5fb026"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    </body>
</html>